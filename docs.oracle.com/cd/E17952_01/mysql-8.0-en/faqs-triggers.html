<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>A.5 MySQL 8.0 FAQ: Triggers</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="faqs.html" title="Appendix A MySQL 8.0 Frequently Asked Questions" /><link rel="prev" href="faqs-stored-procs.html" title="A.4 MySQL 8.0 FAQ: Stored Procedures and Functions" /><link rel="next" href="faqs-views.html" title="A.6 MySQL 8.0 FAQ: Views" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="faqs-triggers.html#faqs-triggers">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="faqs-stored-procs.html">Previous <span class="navHint"> MySQL 8.0 FAQ: Stored Procedures and Functions </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="faqs.html">Up <span class="navHint"> MySQL 8.0 Frequently Asked Questions </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="faqs-views.html">Next <span class="navHint"> MySQL 8.0 FAQ: Views </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="faqs-triggers"></a>A.5 MySQL 8.0 FAQ: Triggers</h2></div></div></div><div class="qandaset"><a id="idm45828777198624"></a><dl><dt>A.5.1. <a href="faqs-triggers.html#faq-mysql-where-triggers-docs">
        Where can I find the documentation for MySQL 8.0
        triggers?
      </a></dt><dt>A.5.2. <a href="faqs-triggers.html#faq-mysql-where-triggers-forum">
        Is there a discussion forum for MySQL Triggers?
      </a></dt><dt>A.5.3. <a href="faqs-triggers.html#faq-mysql-have-trigger-levels">
        Does MySQL 8.0 have statement-level or row-level
        triggers?
      </a></dt><dt>A.5.4. <a href="faqs-triggers.html#faq-mysql-have-trigger-defaults">
        Are there any default triggers?
      </a></dt><dt>A.5.5. <a href="faqs-triggers.html#faq-mysql-how-triggers-managed">
        How are triggers managed in MySQL?
      </a></dt><dt>A.5.6. <a href="faqs-triggers.html#faq-mysql-can-view-all-triggers">
        Is there a way to view all triggers in a given database?
      </a></dt><dt>A.5.7. <a href="faqs-triggers.html#faq-mysql-how-triggers-stored">
        Where are triggers stored?
      </a></dt><dt>A.5.8. <a href="faqs-triggers.html#faq-mysql-can-trigger-procedure">
        Can a trigger call a stored procedure?
      </a></dt><dt>A.5.9. <a href="faqs-triggers.html#faq-mysql-can-triggers-tables">
        Can triggers access tables?
      </a></dt><dt>A.5.10. <a href="faqs-triggers.html#faq-mysql-can-triggers-same-events">
        Can a table have multiple triggers with the same trigger event
        and action time?
      </a></dt><dt>A.5.11. <a href="faqs-triggers.html#faq-mysql-can-triggers-remote">
        Is it possible for a trigger to update tables on a remote
        server?
      </a></dt><dt>A.5.12. <a href="faqs-triggers.html#faq-mysql-can-triggers-replication">
        Do triggers work with replication?
      </a></dt><dt>A.5.13. <a href="faqs-triggers.html#faq-mysql-how-triggers-source-replica">
        How are actions carried out through triggers on a source
        replicated to a replica?
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="faq-mysql-where-triggers-docs"></a><a id="idm45828777197808"></a><p><strong>A.5.1.</strong></p></td><td align="left" valign="top"><p>
        Where can I find the documentation for MySQL 8.0
        triggers?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        See <a class="xref" href="triggers.html" title="25.3 Using Triggers">Section 25.3, “Using Triggers”</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-where-triggers-forum"></a><a id="idm45828777195152"></a><p><strong>A.5.2.</strong></p></td><td align="left" valign="top"><p>
        Is there a discussion forum for MySQL Triggers?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Yes. It is available at <a class="ulink" href="https://forums.mysql.com/list.php?99" target="_top">https://forums.mysql.com/list.php?99</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-have-trigger-levels"></a><a id="idm45828777192592"></a><p><strong>A.5.3.</strong></p></td><td align="left" valign="top"><p>
        Does MySQL 8.0 have statement-level or row-level
        triggers?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        In MySQL 8.0, all triggers are <code class="literal">FOR EACH
        ROW</code>; that is, the trigger is activated for each row
        that is inserted, updated, or deleted. MySQL 8.0
        does not support triggers using <code class="literal">FOR EACH
        STATEMENT</code>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-have-trigger-defaults"></a><a id="idm45828777188992"></a><p><strong>A.5.4.</strong></p></td><td align="left" valign="top"><p>
        Are there any default triggers?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Not explicitly. MySQL does have specific special behavior for
        some <a class="link" href="datetime.html" title="11.2.2 The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns, as well
        as for columns which are defined using
        <code class="literal">AUTO_INCREMENT</code>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-how-triggers-managed"></a><a id="idm45828777184960"></a><p><strong>A.5.5.</strong></p></td><td align="left" valign="top"><p>
        How are triggers managed in MySQL?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        In MySQL 8.0, triggers can be created using the
        <a class="link" href="create-trigger.html" title="13.1.22 CREATE TRIGGER Statement"><code class="literal">CREATE TRIGGER</code></a> statement, and
        dropped using <a class="link" href="drop-trigger.html" title="13.1.34 DROP TRIGGER Statement"><code class="literal">DROP TRIGGER</code></a>. See
        <a class="xref" href="create-trigger.html" title="13.1.22 CREATE TRIGGER Statement">Section 13.1.22, “CREATE TRIGGER Statement”</a>, and
        <a class="xref" href="drop-trigger.html" title="13.1.34 DROP TRIGGER Statement">Section 13.1.34, “DROP TRIGGER Statement”</a>, for more about these statements.
      </p><p>
        Information about triggers can be obtained by querying the
        <a class="link" href="information-schema-triggers-table.html" title="26.3.45 The INFORMATION_SCHEMA TRIGGERS Table"><code class="literal">INFORMATION_SCHEMA.TRIGGERS</code></a> table.
        See <a class="xref" href="information-schema-triggers-table.html" title="26.3.45 The INFORMATION_SCHEMA TRIGGERS Table">Section 26.3.45, “The INFORMATION_SCHEMA TRIGGERS Table”</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-can-view-all-triggers"></a><a id="idm45828777176576"></a><p><strong>A.5.6.</strong></p></td><td align="left" valign="top"><p>
        Is there a way to view all triggers in a given database?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Yes. You can obtain a listing of all triggers defined on
        database <code class="literal">dbname</code> using a query on the
        <a class="link" href="information-schema-triggers-table.html" title="26.3.45 The INFORMATION_SCHEMA TRIGGERS Table"><code class="literal">INFORMATION_SCHEMA.TRIGGERS</code></a> table
        such as the one shown here:
      </p><pre class="programlisting">SELECT TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, ACTION_STATEMENT
    FROM INFORMATION_SCHEMA.TRIGGERS
    WHERE TRIGGER_SCHEMA='<em class="replaceable"><code>dbname</code></em>';
</pre><p>
        For more information about this table, see
        <a class="xref" href="information-schema-triggers-table.html" title="26.3.45 The INFORMATION_SCHEMA TRIGGERS Table">Section 26.3.45, “The INFORMATION_SCHEMA TRIGGERS Table”</a>.
      </p><p>
        You can also use the <a class="link" href="show-triggers.html" title="13.7.7.40 SHOW TRIGGERS Statement"><code class="literal">SHOW
        TRIGGERS</code></a> statement, which is specific to MySQL. See
        <a class="xref" href="show-triggers.html" title="13.7.7.40 SHOW TRIGGERS Statement">Section 13.7.7.40, “SHOW TRIGGERS Statement”</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-how-triggers-stored"></a><a id="idm45828777167408"></a><p><strong>A.5.7.</strong></p></td><td align="left" valign="top"><p>
        Where are triggers stored?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Triggers are stored in the <code class="literal">mysql.triggers</code>
        system table, which is part of the data dictionary.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-can-trigger-procedure"></a><a id="idm45828777164608"></a><p><strong>A.5.8.</strong></p></td><td align="left" valign="top"><p>
        Can a trigger call a stored procedure?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Yes.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-can-triggers-tables"></a><a id="idm45828777162592"></a><p><strong>A.5.9.</strong></p></td><td align="left" valign="top"><p>
        Can triggers access tables?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        A trigger can access both old and new data in its own table. A
        trigger can also affect other tables, but it is not permitted to
        modify a table that is already being used (for reading or
        writing) by the statement that invoked the function or trigger.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-can-triggers-same-events"></a><a id="idm45828777160304"></a><p><strong>A.5.10.</strong></p></td><td align="left" valign="top"><p>
        Can a table have multiple triggers with the same trigger event
        and action time?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        In MySQL 8.0, it is possible to define multiple
        triggers for a given table that have the same trigger event and
        action time. For example, you can have two <code class="literal">BEFORE
        UPDATE</code> triggers for a table. By default, triggers that
        have the same trigger event and action time activate in the
        order they were created. To affect trigger order, specify a
        clause after <code class="literal">FOR EACH ROW</code> that indicates
        <code class="literal">FOLLOWS</code> or <code class="literal">PRECEDES</code> and
        the name of an existing trigger that also has the same trigger
        event and action time. With <code class="literal">FOLLOWS</code>, the new
        trigger activates after the existing trigger. With
        <code class="literal">PRECEDES</code>, the new trigger activates before
        the existing trigger.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-can-triggers-remote"></a><a id="idm45828777153344"></a><p><strong>A.5.11.</strong></p></td><td align="left" valign="top"><p>
        Is it possible for a trigger to update tables on a remote
        server?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Yes. A table on a remote server could be updated using the
        <code class="literal">FEDERATED</code> storage engine. (See
        <a class="xref" href="federated-storage-engine.html" title="16.8 The FEDERATED Storage Engine">Section 16.8, “The FEDERATED Storage Engine”</a>).
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-can-triggers-replication"></a><a id="idm45828777149840"></a><p><strong>A.5.12.</strong></p></td><td align="left" valign="top"><p>
        Do triggers work with replication?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Yes. However, the way in which they work depends whether you are
        using MySQL's <span class="quote">“<span class="quote">classic</span>”</span> statement-based or
        row-based replication format.
      </p><p>
        When using statement-based replication, triggers on the replica
        are executed by statements that are executed on the source (and
        replicated to the replica).
      </p><p>
        When using row-based replication, triggers are not executed on
        the replica due to statements that were run on the source and
        then replicated to the replica. Instead, when using row-based
        replication, the changes caused by executing the trigger on the
        source are applied on the replica.
      </p><p>
        For more information, see
        <a class="xref" href="replication-features-triggers.html" title="17.5.1.36 Replication and Triggers">Section 17.5.1.36, “Replication and Triggers”</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-mysql-how-triggers-source-replica"></a><a id="idm45828777144832"></a><p><strong>A.5.13.</strong></p></td><td align="left" valign="top"><p>
        How are actions carried out through triggers on a source
        replicated to a replica?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Again, this depends on whether you are using statement-based or
        row-based replication.
      </p><p><strong>Statement-based replication. </strong>
          First, the triggers that exist on a source must be re-created
          on the replica server. Once this is done, the replication flow
          works as any other standard DML statement that participates in
          replication. For example, consider a table
          <code class="literal">EMP</code> that has an <code class="literal">AFTER</code>
          insert trigger, which exists on a replication source server.
          The same <code class="literal">EMP</code> table and
          <code class="literal">AFTER</code> insert trigger exist on the replica
          server as well. The replication flow would be:
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            An <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a> statement is made
            to <code class="literal">EMP</code>.
          </p></li><li class="listitem"><p>
            The <code class="literal">AFTER</code> trigger on
            <code class="literal">EMP</code> activates.
          </p></li><li class="listitem"><p>
            The <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a> statement is
            written to the binary log.
          </p></li><li class="listitem"><p>
            The replica picks up the
            <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a> statement to
            <code class="literal">EMP</code> and executes it.
          </p></li><li class="listitem"><p>
            The <code class="literal">AFTER</code> trigger on
            <code class="literal">EMP</code> that exists on the replica activates.
          </p></li></ol></div><p><strong>Row-based replication. </strong>
          When you use row-based replication, the changes caused by
          executing the trigger on the source are applied on the
          replica. However, the triggers themselves are not actually
          executed on the replica under row-based replication. This is
          because, if both the source and the replica applied the
          changes from the source and, in addition, the trigger causing
          these changes were applied on the replica, the changes would
          in effect be applied twice on the replica, leading to
          different data on the source and the replica.
        </p><p>
        In most cases, the outcome is the same for both row-based and
        statement-based replication. However, if you use different
        triggers on the source and replica, you cannot use row-based
        replication. (This is because the row-based format replicates
        the changes made by triggers executing on the source to the
        replicas, rather than the statements that caused the triggers to
        execute, and the corresponding triggers on the replica are not
        executed.) Instead, any statements causing such triggers to be
        executed must be replicated using statement-based replication.
      </p><p>
        For more information, see
        <a class="xref" href="replication-features-triggers.html" title="17.5.1.36 Replication and Triggers">Section 17.5.1.36, “Replication and Triggers”</a>.
      </p></td></tr></tbody></table></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="faqs-stored-procs.html">Previous <span class="navHint"> MySQL 8.0 FAQ: Stored Procedures and Functions </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="faqs.html">Up <span class="navHint"> MySQL 8.0 Frequently Asked Questions </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="faqs-views.html">Next <span class="navHint"> MySQL 8.0 FAQ: Views </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>