<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>13.7.7.42 SHOW WARNINGS Statement</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="show.html" title="13.7.7 SHOW Statements" /><link rel="prev" href="show-variables.html" title="13.7.7.41 SHOW VARIABLES Statement" /><link rel="next" href="other-administrative-statements.html" title="13.7.8 Other Administrative Statements" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="show-warnings.html#show-warnings">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="show-variables.html">Previous <span class="navHint"> SHOW VARIABLES Statement </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="show.html">Up <span class="navHint"> SHOW Statements </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="other-administrative-statements.html">Next <span class="navHint"> Other Administrative Statements </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="show-warnings"></a>13.7.7.42 SHOW WARNINGS Statement</h4></div></div></div><a id="idm45828894291264" class="indexterm"></a><a id="idm45828894290192" class="indexterm"></a><pre class="programlisting">SHOW WARNINGS [LIMIT [<em class="replaceable"><code>offset</code></em>,] <em class="replaceable"><code>row_count</code></em>]
SHOW COUNT(*) WARNINGS
</pre><p>
        <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW WARNINGS</code></a> is a diagnostic
        statement that displays information about the conditions
        (errors, warnings, and notes) resulting from executing a
        statement in the current session. Warnings are generated for DML
        statements such as <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a>,
        <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a>, and
        <a class="link" href="load-data.html" title="13.2.9 LOAD DATA Statement"><code class="literal">LOAD DATA</code></a> as well as DDL
        statements such as <a class="link" href="create-table.html" title="13.1.20 CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a>
        and <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER TABLE</code></a>.
      </p><p>
        The <code class="literal">LIMIT</code> clause has the same syntax as for
        the <a class="link" href="select.html" title="13.2.13 SELECT Statement"><code class="literal">SELECT</code></a> statement. See
        <a class="xref" href="select.html" title="13.2.13 SELECT Statement">Section 13.2.13, “SELECT Statement”</a>.
      </p><p>
        <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW WARNINGS</code></a> is also used
        following <a class="link" href="explain.html" title="13.8.2 EXPLAIN Statement"><code class="literal">EXPLAIN</code></a>, to display the
        extended information generated by
        <a class="link" href="explain.html" title="13.8.2 EXPLAIN Statement"><code class="literal">EXPLAIN</code></a>. See
        <a class="xref" href="explain-extended.html" title="8.8.3 Extended EXPLAIN Output Format">Section 8.8.3, “Extended EXPLAIN Output Format”</a>.
      </p><p>
        <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW WARNINGS</code></a> displays
        information about the conditions resulting from execution of the
        most recent nondiagnostic statement in the current session. If
        the most recent statement resulted in an error during parsing,
        <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW WARNINGS</code></a> shows the resulting
        conditions, regardless of statement type (diagnostic or
        nondiagnostic).
      </p><p>
        The <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW COUNT(*)
        WARNINGS</code></a> diagnostic statement displays the total
        number of errors, warnings, and notes. You can also retrieve
        this number from the
        <a class="link" href="server-system-variables.html#sysvar_warning_count"><code class="literal">warning_count</code></a> system variable:
      </p><pre class="programlisting">SHOW COUNT(*) WARNINGS;
SELECT @@warning_count;
</pre><p>
        A difference in these statements is that the first is a
        diagnostic statement that does not clear the message list. The
        second, because it is a <a class="link" href="select.html" title="13.2.13 SELECT Statement"><code class="literal">SELECT</code></a>
        statement is considered nondiagnostic and does clear the message
        list.
      </p><p>
        A related diagnostic statement, <a class="link" href="show-errors.html" title="13.7.7.17 SHOW ERRORS Statement"><code class="literal">SHOW
        ERRORS</code></a>, shows only error conditions (it excludes
        warnings and notes), and
        <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW COUNT(*)
        ERRORS</code></a> statement displays the total number of errors.
        See <a class="xref" href="show-errors.html" title="13.7.7.17 SHOW ERRORS Statement">Section 13.7.7.17, “SHOW ERRORS Statement”</a>. <a class="link" href="get-diagnostics.html" title="13.6.7.3 GET DIAGNOSTICS Statement"><code class="literal">GET
        DIAGNOSTICS</code></a> can be used to examine information for
        individual conditions. See <a class="xref" href="get-diagnostics.html" title="13.6.7.3 GET DIAGNOSTICS Statement">Section 13.6.7.3, “GET DIAGNOSTICS Statement”</a>.
      </p><p>
        Here is a simple example that shows data-conversion warnings for
        <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a>. The example assumes that
        strict SQL mode is disabled. With strict mode enabled, the
        warnings would become errors and terminate the
        <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a>.
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t1 (a TINYINT NOT NULL, b CHAR(4));</code></strong>
Query OK, 0 rows affected (0.05 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t1 VALUES(10,'mysql'), (NULL,'test'), (300,'xyz');</code></strong>
Query OK, 3 rows affected, 3 warnings (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 3

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1265
Message: Data truncated for column 'b' at row 1
*************************** 2. row ***************************
  Level: Warning
   Code: 1048
Message: Column 'a' cannot be null
*************************** 3. row ***************************
  Level: Warning
   Code: 1264
Message: Out of range value for column 'a' at row 3
3 rows in set (0.00 sec)
</pre><p>
        The <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a> system
        variable controls the maximum number of error, warning, and note
        messages for which the server stores information, and thus the
        number of messages that <a class="link" href="show-warnings.html" title="13.7.7.42 SHOW WARNINGS Statement"><code class="literal">SHOW
        WARNINGS</code></a> displays. To change the number of messages
        the server can store, change the value of
        <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a>.
      </p><p>
        <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a> controls only
        how many messages are stored, not how many are counted. The
        value of <a class="link" href="server-system-variables.html#sysvar_warning_count"><code class="literal">warning_count</code></a> is not
        limited by <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a>,
        even if the number of messages generated exceeds
        <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a>. The following
        example demonstrates this. The <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER
        TABLE</code></a> statement produces three warning messages
        (strict SQL mode is disabled for the example to prevent an error
        from occurring after a single conversion issue). Only one
        message is stored and displayed because
        <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a> has been set to
        1, but all three are counted (as shown by the value of
        <a class="link" href="server-system-variables.html#sysvar_warning_count"><code class="literal">warning_count</code></a>):
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'max_error_count';</code></strong>
+-----------------+-------+
| Variable_name   | Value |
+-----------------+-------+
| max_error_count | 1024  |
+-----------------+-------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SET max_error_count=1, sql_mode = '';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>ALTER TABLE t1 MODIFY b CHAR;</code></strong>
Query OK, 3 rows affected, 3 warnings (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 3

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+---------+------+----------------------------------------+
| Level   | Code | Message                                |
+---------+------+----------------------------------------+
| Warning | 1263 | Data truncated for column 'b' at row 1 |
+---------+------+----------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @@warning_count;</code></strong>
+-----------------+
| @@warning_count |
+-----------------+
|               3 |
+-----------------+
1 row in set (0.01 sec)
</pre><p>
        To disable message storage, set
        <a class="link" href="server-system-variables.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a> to 0. In this
        case, <a class="link" href="server-system-variables.html#sysvar_warning_count"><code class="literal">warning_count</code></a> still
        indicates how many warnings occurred, but messages are not
        stored and cannot be displayed.
      </p><p>
        The <a class="link" href="server-system-variables.html#sysvar_sql_notes"><code class="literal">sql_notes</code></a> system variable
        controls whether note messages increment
        <a class="link" href="server-system-variables.html#sysvar_warning_count"><code class="literal">warning_count</code></a> and whether the
        server stores them. By default,
        <a class="link" href="server-system-variables.html#sysvar_sql_notes"><code class="literal">sql_notes</code></a> is 1, but if set to
        0, notes do not increment
        <a class="link" href="server-system-variables.html#sysvar_warning_count"><code class="literal">warning_count</code></a> and the server
        does not store them:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_notes = 1;</code></strong>
mysql&gt; <strong class="userinput"><code>DROP TABLE IF EXISTS test.no_such_table;</code></strong>
Query OK, 0 rows affected, 1 warning (0.00 sec)
mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+-------+------+------------------------------------+
| Level | Code | Message                            |
+-------+------+------------------------------------+
| Note  | 1051 | Unknown table 'test.no_such_table' |
+-------+------+------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SET sql_notes = 0;</code></strong>
mysql&gt; <strong class="userinput"><code>DROP TABLE IF EXISTS test.no_such_table;</code></strong>
Query OK, 0 rows affected (0.00 sec)
mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
Empty set (0.00 sec)
</pre><p>
        The MySQL server sends to each client a count indicating the
        total number of errors, warnings, and notes resulting from the
        most recent statement executed by that client. From the C API,
        this value can be obtained by calling
        <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-warning-count.html" target="_top"><code class="literal">mysql_warning_count()</code></a>. See
        <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-warning-count.html" target="_top">mysql_warning_count()</a>.
      </p><p>
        In the <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, you can enable and
        disable automatic warnings display using the
        <code class="literal">warnings</code> and <code class="literal">nowarning</code>
        commands, respectively, or their shortcuts,
        <code class="literal">\W</code> and <code class="literal">\w</code> (see
        <a class="xref" href="mysql-commands.html" title="4.5.1.2 mysql Client Commands">Section 4.5.1.2, “mysql Client Commands”</a>). For example:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>\W</code></strong>
Show warnings enabled.
mysql&gt; <strong class="userinput"><code>SELECT 1/0;</code></strong>
+------+
| 1/0  |
+------+
| NULL |
+------+
1 row in set, 1 warning (0.03 sec)

Warning (Code 1365): Division by 0
mysql&gt; <strong class="userinput"><code>\w</code></strong>
Show warnings disabled.
</pre></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="show-variables.html">Previous <span class="navHint"> SHOW VARIABLES Statement </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="show.html">Up <span class="navHint"> SHOW Statements </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="other-administrative-statements.html">Next <span class="navHint"> Other Administrative Statements </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>