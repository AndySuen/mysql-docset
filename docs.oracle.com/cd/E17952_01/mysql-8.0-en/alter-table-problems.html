<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>B.3.6.1 Problems with ALTER TABLE</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="table-definition-issues.html" title="B.3.6 Table Definition-Related Issues" /><link rel="prev" href="table-definition-issues.html" title="B.3.6 Table Definition-Related Issues" /><link rel="next" href="temporary-table-problems.html" title="B.3.6.2 TEMPORARY Table Problems" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="alter-table-problems.html#alter-table-problems">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="table-definition-issues.html">Previous <span class="navHint"> Table Definition-Related Issues </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="table-definition-issues.html">Up <span class="navHint"> Table Definition-Related Issues </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="temporary-table-problems.html">Next <span class="navHint"> TEMPORARY Table Problems </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="alter-table-problems"></a>B.3.6.1 Problems with ALTER TABLE</h4></div></div></div><a id="idm45828774294448" class="indexterm"></a><a id="idm45828774293408" class="indexterm"></a><a id="idm45828774291920" class="indexterm"></a><a id="idm45828774290432" class="indexterm"></a><p>
          If you get a duplicate-key error when using
          <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER TABLE</code></a> to change the
          character set or collation of a character column, the cause is
          either that the new column collation maps two keys to the same
          value or that the table is corrupted. In the latter case, you
          should run <a class="link" href="repair-table.html" title="13.7.3.5 REPAIR TABLE Statement"><code class="literal">REPAIR TABLE</code></a> on the
          table. <a class="link" href="repair-table.html" title="13.7.3.5 REPAIR TABLE Statement"><code class="literal">REPAIR TABLE</code></a> works for
          <code class="literal">MyISAM</code>, <code class="literal">ARCHIVE</code>, and
          <code class="literal">CSV</code> tables.
        </p><p>
          If you use <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER TABLE</code></a> on a
          transactional table or if you are using Windows,
          <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER TABLE</code></a> unlocks the table
          if you had done a
          <a class="link" href="lock-tables.html" title="13.3.6 LOCK TABLES and UNLOCK TABLES Statements"><code class="literal">LOCK
          TABLE</code></a> on it. This is done because
          <code class="literal">InnoDB</code> and these operating systems cannot
          drop a table that is in use.
        </p></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="table-definition-issues.html">Previous <span class="navHint"> Table Definition-Related Issues </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="table-definition-issues.html">Up <span class="navHint"> Table Definition-Related Issues </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="temporary-table-problems.html">Next <span class="navHint"> TEMPORARY Table Problems </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>