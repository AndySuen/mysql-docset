<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.5.3.4 MySQL Enterprise Data Masking and De-Identification Plugin Function Descriptions</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="data-masking-plugin.html" title="6.5.3 MySQL Enterprise Data Masking and De-Identification Plugin" /><link rel="prev" href="data-masking-plugin-function-reference.html" title="6.5.3.3 MySQL Enterprise Data Masking and De-Identification Plugin Function Reference" /><link rel="next" href="enterprise-encryption.html" title="6.6 MySQL Enterprise Encryption" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="data-masking-plugin-functions.html#data-masking-plugin-functions">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="data-masking-plugin-function-reference.html">Previous <span class="navHint"> MySQL Enterprise Data Masking and De-Identification Plugin Function Reference </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="data-masking-plugin.html">Up <span class="navHint"> MySQL Enterprise Data Masking and De-Identification Plugin </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="enterprise-encryption.html">Next <span class="navHint"> MySQL Enterprise Encryption </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="data-masking-plugin-functions"></a>6.5.3.4 MySQL Enterprise Data Masking and De-Identification Plugin Function Descriptions</h4></div></div></div><p>
        The MySQL Enterprise Data Masking and De-Identification plugin library includes several functions, which
        may be grouped into these categories:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="data-masking-plugin-functions.html#data-masking-masking-plugin-functions" title="Data Masking Plugin Functions">Data Masking Plugin Functions</a></p></li><li class="listitem"><p><a class="xref" href="data-masking-plugin-functions.html#data-masking-generation-plugin-functions" title="Random Data Generation Plugin Functions">Random Data Generation Plugin Functions</a></p></li><li class="listitem"><p><a class="xref" href="data-masking-plugin-functions.html#data-masking-dictionary-plugin-functions" title="Random Data Dictionary-Based Plugin Functions">Random Data Dictionary-Based Plugin Functions</a></p></li></ul></div><p>
        As of MySQL 8.0.19, these functions support the single-byte
        <code class="literal">latin1</code> character set for string arguments and
        return values. Prior to MySQL 8.0.19, the functions treat string
        arguments as binary strings (which means they do not distinguish
        lettercase), and string return values are binary strings. You
        can see the difference in return value character set as follows:
      </p><p>
        MySQL 8.0.19 and higher:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARSET(gen_rnd_email());</code></strong>
+--------------------------+
| CHARSET(gen_rnd_email()) |
+--------------------------+
| latin1                   |
+--------------------------+
</pre><p>
        Prior to MySQL 8.0.19:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARSET(gen_rnd_email());</code></strong>
+--------------------------+
| CHARSET(gen_rnd_email()) |
+--------------------------+
| binary                   |
+--------------------------+
</pre><p>
        For any version, if a string return value should be in a
        different character set, convert it. The following example shows
        how to convert the result of
        <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-email-plugin"><code class="literal">gen_rnd_email()</code></a>
        to the <code class="literal">utf8mb4</code> character set:
      </p><pre class="programlisting">SET @email = CONVERT(gen_rnd_email() USING utf8mb4);
</pre><p>
        To explicitly produce a binary string (for example, to produce a
        result like that for MySQL versions prior to 8.0.19), do this:
      </p><pre class="programlisting">SET @email = CONVERT(gen_rnd_email() USING binary);
</pre><p>
        It may also be necessary to convert string arguments, as
        illustrated in
        <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-5.7-en/data-masking-usage.html#data-masking-usage-customer-identification" target="_top">Using Masked Data for Customer Identification</a>.
      </p><p>
        If a MySQL Enterprise Data Masking and De-Identification function is invoked from within the
        <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary string results display
        using hexadecimal notation, depending on the value of the
        <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>. For more
        information about that option, see <a class="xref" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client">Section 4.5.1, “mysql — The MySQL Command-Line Client”</a>.
      </p><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a id="data-masking-masking-plugin-functions"></a>Data Masking Plugin Functions</h5></div></div></div><p>
          Each plugin function in this section performs a masking
          operation on its string argument and returns the masked
          result.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="function_mask-inner-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_mask-inner-plugin"><code class="literal">mask_inner(<em class="replaceable"><code>str</code></em>,
              <em class="replaceable"><code>margin1</code></em>,
              <em class="replaceable"><code>margin2</code></em> [,
              <em class="replaceable"><code>mask_char</code></em>])</code></a>
            </p><a id="idm45828959412944" class="indexterm"></a><a id="idm45828959411808" class="indexterm"></a><p>
              Masks the interior part of a string, leaving the ends
              untouched, and returns the result. An optional masking
              character can be specified.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>str</code></em>: The string to mask.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>margin1</code></em>: A nonnegative
                  integer that specifies the number of characters on the
                  left end of the string to remain unmasked. If the
                  value is 0, no left end characters remain unmasked.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>margin2</code></em>: A nonnegative
                  integer that specifies the number of characters on the
                  right end of the string to remain unmasked. If the
                  value is 0, no right end characters remain unmasked.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>mask_char</code></em>: (Optional) The
                  single character to use for masking. The default is
                  <code class="literal">'X'</code> if
                  <em class="replaceable"><code>mask_char</code></em> is not given.
                </p><p>
                  The masking character must be a single-byte character.
                  Attempts to use a multibyte character produce an
                  error.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              The masked string, or <code class="literal">NULL</code> if either
              margin is negative.
            </p><p>
              If the sum of the margin values is larger than the
              argument length, no masking occurs and the argument is
              returned unchanged.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT mask_inner('abcdef', 1, 2), mask_inner('abcdef',0, 5);</code></strong>
+----------------------------+---------------------------+
| mask_inner('abcdef', 1, 2) | mask_inner('abcdef',0, 5) |
+----------------------------+---------------------------+
| aXXXef                     | Xbcdef                    |
+----------------------------+---------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_inner('abcdef', 1, 2, '*'), mask_inner('abcdef',0, 5, '#');</code></strong>
+---------------------------------+--------------------------------+
| mask_inner('abcdef', 1, 2, '*') | mask_inner('abcdef',0, 5, '#') |
+---------------------------------+--------------------------------+
| a***ef                          | #bcdef                         |
+---------------------------------+--------------------------------+
</pre></li><li class="listitem"><p><a id="function_mask-outer-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_mask-outer-plugin"><code class="literal">mask_outer(<em class="replaceable"><code>str</code></em>,
              <em class="replaceable"><code>margin1</code></em>,
              <em class="replaceable"><code>margin2</code></em> [,
              <em class="replaceable"><code>mask_char</code></em>])</code></a>
            </p><a id="idm45828959391568" class="indexterm"></a><a id="idm45828959390432" class="indexterm"></a><p>
              Masks the left and right ends of a string, leaving the
              interior unmasked, and returns the result. An optional
              masking character can be specified.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>str</code></em>: The string to mask.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>margin1</code></em>: A nonnegative
                  integer that specifies the number of characters on the
                  left end of the string to mask. If the value is 0, no
                  left end characters are masked.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>margin2</code></em>: A nonnegative
                  integer that specifies the number of characters on the
                  right end of the string to mask. If the value is 0, no
                  right end characters are masked.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>mask_char</code></em>: (Optional) The
                  single character to use for masking. The default is
                  <code class="literal">'X'</code> if
                  <em class="replaceable"><code>mask_char</code></em> is not given.
                </p><p>
                  The masking character must be a single-byte character.
                  Attempts to use a multibyte character produce an
                  error.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              The masked string, or <code class="literal">NULL</code> if either
              margin is negative.
            </p><p>
              If the sum of the margin values is larger than the
              argument length, the entire argument is masked.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT mask_outer('abcdef', 1, 2), mask_outer('abcdef',0, 5);</code></strong>
+----------------------------+---------------------------+
| mask_outer('abcdef', 1, 2) | mask_outer('abcdef',0, 5) |
+----------------------------+---------------------------+
| XbcdXX                     | aXXXXX                    |
+----------------------------+---------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_outer('abcdef', 1, 2, '*'), mask_outer('abcdef',0, 5, '#');</code></strong>
+---------------------------------+--------------------------------+
| mask_outer('abcdef', 1, 2, '*') | mask_outer('abcdef',0, 5, '#') |
+---------------------------------+--------------------------------+
| *bcd**                          | a#####                         |
+---------------------------------+--------------------------------+
</pre></li><li class="listitem"><p><a id="function_mask-pan-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_mask-pan-plugin"><code class="literal">mask_pan(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><a id="idm45828959371520" class="indexterm"></a><a id="idm45828959370400" class="indexterm"></a><p>
              Masks a payment card Primary Account Number and returns
              the number with all but the last four digits replaced by
              <code class="literal">'X'</code> characters.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>str</code></em>: The string to mask.
                  The string must be a suitable length for the Primary
                  Account Number, but is not otherwise checked.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              The masked payment number as a string. If the argument is
              shorter than required, it is returned unchanged.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT mask_pan(gen_rnd_pan());</code></strong>
+-------------------------+
| mask_pan(gen_rnd_pan()) |
+-------------------------+
| XXXXXXXXXXXX9102        |
+-------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan(gen_rnd_pan(19));</code></strong>
+---------------------------+
| mask_pan(gen_rnd_pan(19)) |
+---------------------------+
| XXXXXXXXXXXXXXX8268       |
+---------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan('a*Z');</code></strong>
+-----------------+
| mask_pan('a*Z') |
+-----------------+
| a*Z             |
+-----------------+
</pre></li><li class="listitem"><p><a id="function_mask-pan-relaxed-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_mask-pan-relaxed-plugin"><code class="literal">mask_pan_relaxed(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><a id="idm45828959357392" class="indexterm"></a><a id="idm45828959356256" class="indexterm"></a><p>
              Masks a payment card Primary Account Number and returns
              the number with all but the first six and last four digits
              replaced by <code class="literal">'X'</code> characters. The first
              six digits indicate the payment card issuer.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>str</code></em>: The string to mask.
                  The string must be a suitable length for the Primary
                  Account Number, but is not otherwise checked.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              The masked payment number as a string. If the argument is
              shorter than required, it is returned unchanged.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT mask_pan_relaxed(gen_rnd_pan());</code></strong>
+---------------------------------+
| mask_pan_relaxed(gen_rnd_pan()) |
+---------------------------------+
| 551279XXXXXX3108                |
+---------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan_relaxed(gen_rnd_pan(19));</code></strong>
+-----------------------------------+
| mask_pan_relaxed(gen_rnd_pan(19)) |
+-----------------------------------+
| 462634XXXXXXXXX6739               |
+-----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan_relaxed('a*Z');</code></strong>
+-------------------------+
| mask_pan_relaxed('a*Z') |
+-------------------------+
| a*Z                     |
+-------------------------+
</pre></li><li class="listitem"><p><a id="function_mask-ssn-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_mask-ssn-plugin"><code class="literal">mask_ssn(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><a id="idm45828959342928" class="indexterm"></a><a id="idm45828959341808" class="indexterm"></a><p>
              Masks a US Social Security number and returns the number
              with all but the last four digits replaced by
              <code class="literal">'X'</code> characters.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>str</code></em>: The string to mask.
                  The string must be 11 characters long.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              The masked Social Security number as a string, or an error
              if the argument is not the correct length.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT mask_ssn('909-63-6922'), mask_ssn('abcdefghijk');</code></strong>
+-------------------------+-------------------------+
| mask_ssn('909-63-6922') | mask_ssn('abcdefghijk') |
+-------------------------+-------------------------+
| XXX-XX-6922             | XXX-XX-hijk             |
+-------------------------+-------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_ssn('909');</code></strong>
ERROR 1123 (HY000): Can't initialize function 'mask_ssn'; MASK_SSN: Error:
String argument width too small
mysql&gt; <strong class="userinput"><code>SELECT mask_ssn('123456789123456789');</code></strong>
ERROR 1123 (HY000): Can't initialize function 'mask_ssn'; MASK_SSN: Error:
String argument width too large
</pre></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a id="data-masking-generation-plugin-functions"></a>Random Data Generation Plugin Functions</h5></div></div></div><p>
          The plugin functions in this section generate random values
          for different types of data. When possible, generated values
          have characteristics reserved for demonstration or test
          values, to avoid having them mistaken for legitimate data. For
          example,
          <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-us-phone-plugin"><code class="literal">gen_rnd_us_phone()</code></a>
          returns a US phone number that uses the 555 area code, which
          is not assigned to phone numbers in actual use. Individual
          function descriptions describe any exceptions to this
          principle.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="function_gen-range-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-range-plugin"><code class="literal">gen_range(<em class="replaceable"><code>lower</code></em>,
              <em class="replaceable"><code>upper</code></em>)</code></a>
            </p><a id="idm45828959324304" class="indexterm"></a><a id="idm45828959323168" class="indexterm"></a><p>
              Generates a random number chosen from a specified range.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>lower</code></em>: An integer that
                  specifies the lower boundary of the range.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>upper</code></em>: An integer that
                  specifies the upper boundary of the range, which must
                  not be less than the lower boundary.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              A random integer in the range from
              <em class="replaceable"><code>lower</code></em> to
              <em class="replaceable"><code>upper</code></em>, inclusive, or
              <code class="literal">NULL</code> if the
              <em class="replaceable"><code>upper</code></em> argument is less than
              <em class="replaceable"><code>lower</code></em>.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_range(100, 200), gen_range(-1000, -800);</code></strong>
+---------------------+------------------------+
| gen_range(100, 200) | gen_range(-1000, -800) |
+---------------------+------------------------+
|                 177 |                   -917 |
+---------------------+------------------------+
mysql&gt; <strong class="userinput"><code>SELECT gen_range(1, 0);</code></strong>
+-----------------+
| gen_range(1, 0) |
+-----------------+
|            NULL |
+-----------------+
</pre></li><li class="listitem"><p><a id="function_gen-rnd-email-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-email-plugin"><code class="literal">gen_rnd_email()</code></a>
            </p><a id="idm45828959308352" class="indexterm"></a><a id="idm45828959307216" class="indexterm"></a><p>
              Generates a random email address in the
              <code class="literal">example.com</code> domain.
            </p><p>
              Arguments:
            </p><p>
              None.
            </p><p>
              Return value:
            </p><p>
              A random email address as a string.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_rnd_email();</code></strong>
+---------------------------+
| gen_rnd_email()           |
+---------------------------+
| ijocv.mwvhhuf@example.com |
+---------------------------+
</pre></li><li class="listitem"><p><a id="function_gen-rnd-pan-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-pan-plugin"><code class="literal">gen_rnd_pan([<em class="replaceable"><code>size</code></em>])</code></a>
            </p><a id="idm45828959297696" class="indexterm"></a><a id="idm45828959296560" class="indexterm"></a><p>
              Generates a random payment card Primary Account Number.
              The number passes the Luhn check (an algorithm that
              performs a checksum verification against a check digit).
            </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p>
                Values returned from
                <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-pan-plugin"><code class="literal">gen_rnd_pan()</code></a>
                should be used only for test purposes, and are not
                suitable for publication. There is no way to guarantee
                that a given return value is not assigned to a
                legitimate payment account. Should it be necessary to
                publish a
                <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-pan-plugin"><code class="literal">gen_rnd_pan()</code></a>
                result, consider masking it with
                <a class="link" href="data-masking-plugin-functions.html#function_mask-pan-plugin"><code class="literal">mask_pan()</code></a>
                or
                <a class="link" href="data-masking-plugin-functions.html#function_mask-pan-relaxed-plugin"><code class="literal">mask_pan_relaxed()</code></a>.
              </p></div><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>size</code></em>: (Optional) An integer
                  that specifies the size of the result. The default is
                  16 if <em class="replaceable"><code>size</code></em> is not given. If
                  given, <em class="replaceable"><code>size</code></em> must be an
                  integer in the range from 12 to 19.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              A random payment number as a string, or
              <code class="literal">NULL</code> if a
              <em class="replaceable"><code>size</code></em> argument outside the
              permitted range is given.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT mask_pan(gen_rnd_pan());</code></strong>
+-------------------------+
| mask_pan(gen_rnd_pan()) |
+-------------------------+
| XXXXXXXXXXXX5805        |
+-------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan(gen_rnd_pan(19));</code></strong>
+---------------------------+
| mask_pan(gen_rnd_pan(19)) |
+---------------------------+
| XXXXXXXXXXXXXXX5067       |
+---------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan_relaxed(gen_rnd_pan());</code></strong>
+---------------------------------+
| mask_pan_relaxed(gen_rnd_pan()) |
+---------------------------------+
| 398403XXXXXX9547                |
+---------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT mask_pan_relaxed(gen_rnd_pan(19));</code></strong>
+-----------------------------------+
| mask_pan_relaxed(gen_rnd_pan(19)) |
+-----------------------------------+
| 578416XXXXXXXXX6509               |
+-----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT gen_rnd_pan(11), gen_rnd_pan(20);</code></strong>
+-----------------+-----------------+
| gen_rnd_pan(11) | gen_rnd_pan(20) |
+-----------------+-----------------+
| NULL            | NULL            |
+-----------------+-----------------+
</pre></li><li class="listitem"><p><a id="function_gen-rnd-ssn-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-ssn-plugin"><code class="literal">gen_rnd_ssn()</code></a>
            </p><a id="idm45828959273840" class="indexterm"></a><a id="idm45828959272704" class="indexterm"></a><p>
              Generates a random US Social Security number in
              <code class="literal"><em class="replaceable"><code>AAA</code></em>-<em class="replaceable"><code>BB</code></em>-<em class="replaceable"><code>CCCC</code></em></code>
              format. The <em class="replaceable"><code>AAA</code></em> part is greater
              than 900 and the <em class="replaceable"><code>BB</code></em> part is
              less than 70, which are characteristics not used for
              legitimate Social Security numbers.
            </p><p>
              Arguments:
            </p><p>
              None.
            </p><p>
              Return value:
            </p><p>
              A random Social Security number as a string.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_rnd_ssn();</code></strong>
+---------------+
| gen_rnd_ssn() |
+---------------+
| 951-26-0058   |
+---------------+
</pre></li><li class="listitem"><p><a id="function_gen-rnd-us-phone-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-rnd-us-phone-plugin"><code class="literal">gen_rnd_us_phone()</code></a>
            </p><a id="idm45828959261648" class="indexterm"></a><a id="idm45828959260512" class="indexterm"></a><p>
              Generates a random US phone number in
              <code class="literal">1-555-<em class="replaceable"><code>AAA</code></em>-<em class="replaceable"><code>BBBB</code></em></code>
              format. The 555 area code is not used for legitimate phone
              numbers.
            </p><p>
              Arguments:
            </p><p>
              None.
            </p><p>
              Return value:
            </p><p>
              A random US phone number as a string.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_rnd_us_phone();</code></strong>
+--------------------+
| gen_rnd_us_phone() |
+--------------------+
| 1-555-682-5423     |
+--------------------+
</pre></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a id="data-masking-dictionary-plugin-functions"></a>Random Data Dictionary-Based Plugin Functions</h5></div></div></div><p>
          The plugin functions in this section manipulate dictionaries
          of terms and perform generation and masking operations based
          on them. Some of these functions require the
          <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a> privilege.
        </p><p>
          When a dictionary is loaded, it becomes part of the dictionary
          registry and is assigned a name to be used by other dictionary
          functions. Dictionaries are loaded from plain text files
          containing one term per line. Empty lines are ignored. To be
          valid, a dictionary file must contain at least one nonempty
          line.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="function_gen-blacklist-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-blacklist-plugin"><code class="literal">gen_blacklist(<em class="replaceable"><code>str</code></em>,
              <em class="replaceable"><code>dictionary_name</code></em>,
              <em class="replaceable"><code>replacement_dictionary_name</code></em>)</code></a>
            </p><a id="idm45828959245008" class="indexterm"></a><a id="idm45828959243872" class="indexterm"></a><p>
              Replaces a term present in one dictionary with a term from
              a second dictionary and returns the replacement term. This
              masks the original term by substitution. This function is
              deprecated in MySQL 8.0.23; use
              <a class="link" href="data-masking-plugin-functions.html#function_gen-blocklist-plugin"><code class="literal">gen_blocklist()</code></a>
              instead.
            </p></li><li class="listitem"><p><a id="function_gen-blocklist-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-blocklist-plugin"><code class="literal">gen_blocklist(<em class="replaceable"><code>str</code></em>,
              <em class="replaceable"><code>dictionary_name</code></em>,
              <em class="replaceable"><code>replacement_dictionary_name</code></em>)</code></a>
            </p><a id="idm45828959236624" class="indexterm"></a><a id="idm45828959235488" class="indexterm"></a><p>
              Replaces a term present in one dictionary with a term from
              a second dictionary and returns the replacement term. This
              masks the original term by substitution. This function was
              added in MySQL 8.0.23; use it instead of
              <a class="link" href="data-masking-plugin-functions.html#function_gen-blacklist-plugin"><code class="literal">gen_blacklist()</code></a>.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>str</code></em>: A string that
                  indicates the term to replace.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>dictionary_name</code></em>: A string
                  that names the dictionary containing the term to
                  replace.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>replacement_dictionary_name</code></em>:
                  A string that names the dictionary from which to
                  choose the replacement term.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              A string randomly chosen from
              <em class="replaceable"><code>replacement_dictionary_name</code></em> as
              a replacement for <em class="replaceable"><code>str</code></em>, or
              <em class="replaceable"><code>str</code></em> if it does not appear in
              <em class="replaceable"><code>dictionary_name</code></em>, or
              <code class="literal">NULL</code> if either dictionary name is not
              in the dictionary registry.
            </p><p>
              If the term to replace appears in both dictionaries, it is
              possible for the return value to be the same term.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_blocklist('Berlin', 'DE_Cities', 'US_Cities');</code></strong>
+---------------------------------------------------+
| gen_blocklist('Berlin', 'DE_Cities', 'US_Cities') |
+---------------------------------------------------+
| Phoenix                                           |
+---------------------------------------------------+
</pre></li><li class="listitem"><p><a id="function_gen-dictionary-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-dictionary-plugin"><code class="literal">gen_dictionary(<em class="replaceable"><code>dictionary_name</code></em>)</code></a>
            </p><a id="idm45828959217968" class="indexterm"></a><a id="idm45828959216832" class="indexterm"></a><p>
              Returns a random term from a dictionary.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>dictionary_name</code></em>: A string
                  that names the dictionary from which to choose the
                  term.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              A random term from the dictionary as a string, or
              <code class="literal">NULL</code> if the dictionary name is not in
              the dictionary registry.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_dictionary('mydict');</code></strong>
+--------------------------+
| gen_dictionary('mydict') |
+--------------------------+
| My term                  |
+--------------------------+
mysql&gt; <strong class="userinput"><code>SELECT gen_dictionary('no-such-dict');</code></strong>
+--------------------------------+
| gen_dictionary('no-such-dict') |
+--------------------------------+
| NULL                           |
+--------------------------------+
</pre></li><li class="listitem"><p><a id="function_gen-dictionary-drop-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-dictionary-drop-plugin"><code class="literal">gen_dictionary_drop(<em class="replaceable"><code>dictionary_name</code></em>)</code></a>
            </p><a id="idm45828959204816" class="indexterm"></a><a id="idm45828959203680" class="indexterm"></a><p>
              Removes a dictionary from the dictionary registry.
            </p><p>
              This function requires the
              <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a> privilege.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>dictionary_name</code></em>: A string
                  that names the dictionary to remove from the
                  dictionary registry.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              A string that indicates whether the drop operation
              succeeded. <code class="literal">Dictionary removed</code> indicates
              success. <code class="literal">Dictionary removal error</code>
              indicates failure.
            </p><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_dictionary_drop('mydict');</code></strong>
+-------------------------------+
| gen_dictionary_drop('mydict') |
+-------------------------------+
| Dictionary removed            |
+-------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT gen_dictionary_drop('no-such-dict');</code></strong>
+-------------------------------------+
| gen_dictionary_drop('no-such-dict') |
+-------------------------------------+
| Dictionary removal error            |
+-------------------------------------+
</pre></li><li class="listitem"><p><a id="function_gen-dictionary-load-plugin"></a>
              <a class="link" href="data-masking-plugin-functions.html#function_gen-dictionary-load-plugin"><code class="literal">gen_dictionary_load(<em class="replaceable"><code>dictionary_path</code></em>,
              <em class="replaceable"><code>dictionary_name</code></em>)</code></a>
            </p><a id="idm45828959188656" class="indexterm"></a><a id="idm45828959187520" class="indexterm"></a><p>
              Loads a file into the dictionary registry and assigns the
              dictionary a name to be used with other functions that
              require a dictionary name argument.
            </p><p>
              This function requires the
              <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a> privilege.
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
                Dictionaries are not persistent. Any dictionary used by
                applications must be loaded for each server startup.
              </p></div><p>
              Once loaded into the registry, a dictionary is used as is,
              even if the underlying dictionary file changes. To reload
              a dictionary, first drop it with
              <a class="link" href="data-masking-plugin-functions.html#function_gen-dictionary-drop-plugin"><code class="literal">gen_dictionary_drop()</code></a>,
              then load it again with
              <a class="link" href="data-masking-plugin-functions.html#function_gen-dictionary-load-plugin"><code class="literal">gen_dictionary_load()</code></a>.
            </p><p>
              Arguments:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <em class="replaceable"><code>dictionary_path</code></em>: A string
                  that specifies the path name of the dictionary file.
                </p></li><li class="listitem"><p>
                  <em class="replaceable"><code>dictionary_name</code></em>: A string
                  that provides a name for the dictionary.
                </p></li></ul></div><p>
              Return value:
            </p><p>
              A string that indicates whether the load operation
              succeeded. <code class="literal">Dictionary load success</code>
              indicates success. <code class="literal">Dictionary load
              error</code> indicates failure. Dictionary load failure
              can occur for several reasons, including:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  A dictionary with the given name is already loaded.
                </p></li><li class="listitem"><p>
                  The dictionary file is not found.
                </p></li><li class="listitem"><p>
                  The dictionary file contains no terms.
                </p></li><li class="listitem"><p>
                  The <a class="link" href="server-system-variables.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a>
                  system variable is set and the dictionary file is not
                  located in the directory named by the variable.
                </p></li></ul></div><p>
              Example:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT gen_dictionary_load('/usr/local/mysql/mysql-files/mydict','mydict');</code></strong>
+---------------------------------------------------------------------+
| gen_dictionary_load('/usr/local/mysql/mysql-files/mydict','mydict') |
+---------------------------------------------------------------------+
| Dictionary load success                                             |
+---------------------------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT gen_dictionary_load('/dev/null','null');</code></strong>
+-----------------------------------------+
| gen_dictionary_load('/dev/null','null') |
+-----------------------------------------+
| Dictionary load error                   |
+-----------------------------------------+
</pre></li></ul></div></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="data-masking-plugin-function-reference.html">Previous <span class="navHint"> MySQL Enterprise Data Masking and De-Identification Plugin Function Reference </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="data-masking-plugin.html">Up <span class="navHint"> MySQL Enterprise Data Masking and De-Identification Plugin </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="enterprise-encryption.html">Next <span class="navHint"> MySQL Enterprise Encryption </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>