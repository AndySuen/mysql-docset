<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>23.6.3.1 NDB Cluster Logging Management Commands</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="mysql-cluster-event-reports.html" title="23.6.3 Event Reports Generated in NDB Cluster" /><link rel="prev" href="mysql-cluster-event-reports.html" title="23.6.3 Event Reports Generated in NDB Cluster" /><link rel="next" href="mysql-cluster-log-events.html" title="23.6.3.2 NDB Cluster Log Events" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="mysql-cluster-logging-management-commands.html#mysql-cluster-logging-management-commands">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="mysql-cluster-event-reports.html">Previous <span class="navHint"> Event Reports Generated in NDB Cluster </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="mysql-cluster-event-reports.html">Up <span class="navHint"> Event Reports Generated in NDB Cluster </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="mysql-cluster-log-events.html">Next <span class="navHint"> NDB Cluster Log Events </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="mysql-cluster-logging-management-commands"></a>23.6.3.1 NDB Cluster Logging Management Commands</h4></div></div></div><a id="idm45828810822448" class="indexterm"></a><a id="idm45828810820960" class="indexterm"></a><a id="idm45828810819872" class="indexterm"></a><a id="idm45828810818800" class="indexterm"></a><a id="idm45828810817312" class="indexterm"></a><a id="idm45828810816224" class="indexterm"></a><p>
        <a class="link" href="mysql-cluster-programs-ndb-mgm.html" title="23.5.5 ndb_mgm — The NDB Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> supports a number of management
        commands related to the cluster log and node logs. In the
        listing that follows, <em class="replaceable"><code>node_id</code></em> denotes
        either a storage node ID or the keyword <code class="literal">ALL</code>,
        which indicates that the command should be applied to all of the
        cluster's data nodes.
      </p><a id="idm45828810811648" class="indexterm"></a><a id="idm45828810810608" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">CLUSTERLOG ON</code>
          </p><p>
            Turns the cluster log on.
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG OFF</code>
          </p><p>
            Turns the cluster log off.
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG INFO</code>
          </p><p>
            Provides information about cluster log settings.
          </p></li><li class="listitem"><p>
            <code class="literal"><em class="replaceable"><code>node_id</code></em> CLUSTERLOG
            <em class="replaceable"><code>category</code></em>=<em class="replaceable"><code>threshold</code></em></code>
          </p><p>
            Logs <em class="replaceable"><code>category</code></em> events with
            priority less than or equal to
            <em class="replaceable"><code>threshold</code></em> in the cluster log.
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG FILTER
            <em class="replaceable"><code>severity_level</code></em></code>
          </p><p>
            Toggles cluster logging of events of the specified
            <em class="replaceable"><code>severity_level</code></em>.
          </p></li></ul></div><p>
        The following table describes the default setting (for all data
        nodes) of the cluster log category threshold. If an event has a
        priority with a value lower than or equal to the priority
        threshold, it is reported in the cluster log.
      </p><a id="idm45828810795856" class="indexterm"></a><a id="idm45828810794352" class="indexterm"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
          Events are reported per data node, and that the threshold can
          be set to different values on different nodes.
        </p></div><div class="table"><a id="idm45828810792336"></a><p class="title"><strong>Table 23.54 Cluster log categories, with default threshold setting</strong></p><div class="table-contents"><table summary="Cluster log categories, with default threshold setting"><col style="width: 30%" /><col style="width: 70%" /><thead><tr>
            <th>Category</th>
            <th>Default threshold (All data nodes)</th>
          </tr></thead><tbody><tr>
            <td><code class="literal">STARTUP</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr><tr>
            <td><code class="literal">SHUTDOWN</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr><tr>
            <td><code class="literal">STATISTICS</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr><tr>
            <td><code class="literal">CHECKPOINT</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr><tr>
            <td><code class="literal">NODERESTART</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr><tr>
            <td><code class="literal">CONNECTION</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr><tr>
            <td><code class="literal">ERROR</code></td>
            <td><span class="bold"><strong>15</strong></span></td>
          </tr><tr>
            <td><code class="literal">INFO</code></td>
            <td><span class="bold"><strong>7</strong></span></td>
          </tr></tbody></table></div></div><br class="table-break" /><p>
        The <code class="literal">STATISTICS</code> category can provide a great
        deal of useful data. See
        <a class="xref" href="mysql-cluster-log-statistics.html" title="23.6.3.3 Using CLUSTERLOG STATISTICS in the NDB Cluster Management Client">Section 23.6.3.3, “Using CLUSTERLOG STATISTICS in the NDB Cluster Management Client”</a>, for more
        information.
      </p><p>
        Thresholds are used to filter events within each category. For
        example, a <code class="literal">STARTUP</code> event with a priority of 3
        is not logged unless the threshold for
        <code class="literal">STARTUP</code> is set to 3 or higher. Only events
        with priority 3 or lower are sent if the threshold is 3.
      </p><a id="idm45828810759280" class="indexterm"></a><a id="idm45828810757792" class="indexterm"></a><p>
        The following table shows the event severity levels.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
          These correspond to Unix <code class="literal">syslog</code> levels,
          except for <code class="literal">LOG_EMERG</code> and
          <code class="literal">LOG_NOTICE</code>, which are not used or mapped.
        </p></div><div class="table"><a id="idm45828810753216"></a><p class="title"><strong>Table 23.55 Event severity levels</strong></p><div class="table-contents"><table summary="Event severity levels"><col style="width: 20%" /><col style="width: 20%" /><col style="width: 60%" /><thead><tr>
            <th scope="col">Severity Level Value</th>
            <th scope="col">Severity</th>
            <th scope="col">Description</th>
          </tr></thead><tbody><tr>
            <th scope="row">1</th>
            <td><code class="literal">ALERT</code></td>
            <td>A condition that should be corrected immediately, such as a corrupted
              system database</td>
          </tr><tr>
            <th scope="row">2</th>
            <td><code class="literal">CRITICAL</code></td>
            <td>Critical conditions, such as device errors or insufficient resources</td>
          </tr><tr>
            <th scope="row">3</th>
            <td><code class="literal">ERROR</code></td>
            <td>Conditions that should be corrected, such as configuration errors</td>
          </tr><tr>
            <th scope="row">4</th>
            <td><code class="literal">WARNING</code></td>
            <td>Conditions that are not errors, but that might require special handling</td>
          </tr><tr>
            <th scope="row">5</th>
            <td><code class="literal">INFO</code></td>
            <td>Informational messages</td>
          </tr><tr>
            <th scope="row">6</th>
            <td><code class="literal">DEBUG</code></td>
            <td>Debugging messages used for <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDBCLUSTER</code></a>
              development</td>
          </tr></tbody></table></div></div><br class="table-break" /><p>
        Event severity levels can be turned on or off (using
        <code class="literal">CLUSTERLOG FILTER</code>—see above). If a
        severity level is turned on, then all events with a priority
        less than or equal to the category thresholds are logged. If the
        severity level is turned off then no events belonging to that
        severity level are logged.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
          Cluster log levels are set on a per
          <a class="link" href="mysql-cluster-programs-ndb-mgmd.html" title="23.5.4 ndb_mgmd — The NDB Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, per subscriber basis. This means
          that, in an NDB Cluster with multiple management servers,
          using a <code class="literal">CLUSTERLOG</code> command in an instance
          of <a class="link" href="mysql-cluster-programs-ndb-mgm.html" title="23.5.5 ndb_mgm — The NDB Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> connected to one management
          server affects only logs generated by that management server
          but not by any of the others. This also means that, should one
          of the management servers be restarted, only logs generated by
          that management server are affected by the resetting of log
          levels caused by the restart.
        </p></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="mysql-cluster-event-reports.html">Previous <span class="navHint"> Event Reports Generated in NDB Cluster </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="mysql-cluster-event-reports.html">Up <span class="navHint"> Event Reports Generated in NDB Cluster </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="mysql-cluster-log-events.html">Next <span class="navHint"> NDB Cluster Log Events </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>