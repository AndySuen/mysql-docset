<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>12.23 Miscellaneous Functions</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="functions.html" title="Chapter 12 Functions and Operators" /><link rel="prev" href="internal-functions.html" title="12.22 Internal Functions" /><link rel="next" href="precision-math.html" title="12.24 Precision Math" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="miscellaneous-functions.html#miscellaneous-functions">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="internal-functions.html">Previous <span class="navHint"> Internal Functions </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="functions.html">Up <span class="navHint"> Functions and Operators </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="precision-math.html">Next <span class="navHint"> Precision Math </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="miscellaneous-functions"></a>12.23 Miscellaneous Functions</h2></div></div></div><a id="idm45828917890048" class="indexterm"></a><a id="idm45828917888976" class="indexterm"></a><div class="table"><a id="idm45828917887488"></a><p class="title"><strong>Table 12.29 Miscellaneous Functions</strong></p><div class="table-contents"><table frame="box" rules="all" summary="A reference that lists miscellaneous functions."><col style="width: 22%" /><col style="width: 55%" /><col style="width: 11%" /><col style="width: 11%" /><thead><tr><th>Name</th>
<th>Description</th>
<th>Introduced</th>
<th>Deprecated</th>
</tr></thead><tbody><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a></th>
<td>
      Suppress ONLY_FULL_GROUP_BY value rejection
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID()</code></a></th>
<td>
      Convert binary UUID to string
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_default"><code class="literal">DEFAULT()</code></a></th>
<td>
      Return the default value for a table column
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a></th>
<td>
      Distinguish super-aggregate ROLLUP rows from regular rows
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a></th>
<td>
      Return the numeric value of an IP address
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a></th>
<td>
      Return the IP address from a numeric value
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a></th>
<td>
      Return the numeric value of an IPv6 address
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a></th>
<td>
      Return the IPv6 address from a numeric value
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a></th>
<td>
      Whether argument is an IPv4 address
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_is-ipv4-compat"><code class="literal">IS_IPV4_COMPAT()</code></a></th>
<td>
      Whether argument is an IPv4-compatible address
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_is-ipv4-mapped"><code class="literal">IS_IPV4_MAPPED()</code></a></th>
<td>
      Whether argument is an IPv4-mapped address
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_is-ipv6"><code class="literal">IS_IPV6()</code></a></th>
<td>
      Whether argument is an IPv6 address
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_is-uuid"><code class="literal">IS_UUID()</code></a></th>
<td>
      Whether argument is a valid UUID
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a></th>
<td>
      Block until the replica has read and applied all updates up to the
      specified position
    </td>
<td></td>
<td>8.0.26</td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a></th>
<td>
      Cause the column to have the given name
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_sleep"><code class="literal">SLEEP()</code></a></th>
<td>
      Sleep for a number of seconds
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_source-pos-wait"><code class="literal">SOURCE_POS_WAIT()</code></a></th>
<td>
      Block until the replica has read and applied all updates up to the
      specified position
    </td>
<td>8.0.26</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a></th>
<td>
      Return a Universal Unique Identifier (UUID)
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a></th>
<td>
      Return an integer-valued universal identifier
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a></th>
<td>
      Convert string UUID to binary
    </td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="miscellaneous-functions.html#function_values"><code class="literal">VALUES()</code></a></th>
<td>
      Define the values to be used during an INSERT
    </td>
<td></td>
<td></td>
</tr></tbody></table></div></div><br class="table-break" /><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="function_any-value"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE(<em class="replaceable"><code>arg</code></em>)</code></a>
        </p><a id="idm45828917773168" class="indexterm"></a><p>
          This function is useful for <code class="literal">GROUP BY</code>
          queries when the
          <a class="link" href="sql-mode.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode
          is enabled, for cases when MySQL rejects a query that you know
          is valid for reasons that MySQL cannot determine. The function
          return value and type are the same as the return value and
          type of its argument, but the function result is not checked
          for the <a class="link" href="sql-mode.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
          SQL mode.
        </p><p>
          For example, if <code class="literal">name</code> is a nonindexed
          column, the following query fails with
          <a class="link" href="sql-mode.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT name, address, MAX(age) FROM t GROUP BY name;</code></strong>
ERROR 1055 (42000): Expression #2 of SELECT list is not in GROUP
BY clause and contains nonaggregated column 'mydb.t.address' which
is not functionally dependent on columns in GROUP BY clause; this
is incompatible with sql_mode=only_full_group_by
</pre><p>
          The failure occurs because <code class="literal">address</code> is a
          nonaggregated column that is neither named among
          <code class="literal">GROUP BY</code> columns nor functionally dependent
          on them. As a result, the <code class="literal">address</code> value for
          rows within each <code class="literal">name</code> group is
          nondeterministic. There are multiple ways to cause MySQL to
          accept the query:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Alter the table to make <code class="literal">name</code> a primary
              key or a unique <code class="literal">NOT NULL</code> column. This
              enables MySQL to determine that <code class="literal">address</code>
              is functionally dependent on <code class="literal">name</code>; that
              is, <code class="literal">address</code> is uniquely determined by
              <code class="literal">name</code>. (This technique is inapplicable
              if <code class="literal">NULL</code> must be permitted as a valid
              <code class="literal">name</code> value.)
            </p></li><li class="listitem"><p>
              Use <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> to refer to
              <code class="literal">address</code>:
            </p><pre class="programlisting">SELECT name, ANY_VALUE(address), MAX(age) FROM t GROUP BY name;
</pre><p>
              In this case, MySQL ignores the nondeterminism of
              <code class="literal">address</code> values within each
              <code class="literal">name</code> group and accepts the query. This
              may be useful if you simply do not care which value of a
              nonaggregated column is chosen for each group.
              <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> is not an
              aggregate function, unlike functions such as
              <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a> or
              <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT()</code></a>. It simply acts to
              suppress the test for nondeterminism.
            </p></li><li class="listitem"><p>
              Disable
              <a class="link" href="sql-mode.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>. This
              is equivalent to using
              <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> with
              <a class="link" href="sql-mode.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
              enabled, as described in the previous item.
            </p></li></ul></div><p>
          <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> is also useful if
          functional dependence exists between columns but MySQL cannot
          determine it. The following query is valid because
          <code class="literal">age</code> is functionally dependent on the
          grouping column <code class="literal">age-1</code>, but MySQL cannot
          tell that and rejects the query with
          <a class="link" href="sql-mode.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled:
        </p><pre class="programlisting">SELECT age FROM t GROUP BY age-1;
</pre><p>
          To cause MySQL to accept the query, use
          <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a>:
        </p><pre class="programlisting">SELECT ANY_VALUE(age) FROM t GROUP BY age-1;
</pre><p>
          <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> can be used for
          queries that refer to aggregate functions in the absence of a
          <code class="literal">GROUP BY</code> clause:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT name, MAX(age) FROM t;</code></strong>
ERROR 1140 (42000): In aggregated query without GROUP BY, expression
#1 of SELECT list contains nonaggregated column 'mydb.t.name'; this
is incompatible with sql_mode=only_full_group_by
</pre><p>
          Without <code class="literal">GROUP BY</code>, there is a single group
          and it is nondeterministic which <code class="literal">name</code> value
          to choose for the group.
          <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> tells MySQL to
          accept the query:
        </p><pre class="programlisting">SELECT ANY_VALUE(name), MAX(age) FROM t;
</pre><p>
          It may be that, due to some property of a given data set, you
          know that a selected nonaggregated column is effectively
          functionally dependent on a <code class="literal">GROUP BY</code>
          column. For example, an application may enforce uniqueness of
          one column with respect to another. In this case, using
          <a class="link" href="miscellaneous-functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> for the effectively
          functionally dependent column may make sense.
        </p><p>
          For additional discussion, see
          <a class="xref" href="group-by-handling.html" title="12.19.3 MySQL Handling of GROUP BY">Section 12.19.3, “MySQL Handling of GROUP BY”</a>.
        </p></li><li class="listitem"><a id="function_bin-to-uuid"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID(<em class="replaceable"><code>binary_uuid</code></em>)</code></a>,
          <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID(<em class="replaceable"><code>binary_uuid</code></em>,
          <em class="replaceable"><code>swap_flag</code></em>)</code></a>
        </p><a id="idm45828917710736" class="indexterm"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID()</code></a> is the inverse of
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a>. It converts a
          binary UUID to a string UUID and returns the result. The
          binary value should be a UUID as a
          <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">VARBINARY(16)</code></a> value. The return
          value is a string of five hexadecimal numbers separated by
          dashes. (For details about this format, see the
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> function description.)
          If the UUID argument is <code class="literal">NULL</code>, the return
          value is <code class="literal">NULL</code>. If any argument is invalid,
          an error occurs.
        </p><p>
          <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID()</code></a> takes one or two
          arguments:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The one-argument form takes a binary UUID value. The UUID
              value is assumed not to have its time-low and time-high
              parts swapped. The string result is in the same order as
              the binary argument.
            </p></li><li class="listitem"><p>
              The two-argument form takes a binary UUID value and a
              swap-flag value:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  If <em class="replaceable"><code>swap_flag</code></em> is 0, the
                  two-argument form is equivalent to the one-argument
                  form. The string result is in the same order as the
                  binary argument.
                </p></li><li class="listitem"><p>
                  If <em class="replaceable"><code>swap_flag</code></em> is 1, the UUID
                  value is assumed to have its time-low and time-high
                  parts swapped. These parts are swapped back to their
                  original position in the result value.
                </p></li></ul></div></li></ul></div><p>
          For usage examples and information about time-part swapping,
          see the <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a> function
          description.
        </p></li><li class="listitem"><a id="function_default"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_default"><code class="literal">DEFAULT(<em class="replaceable"><code>col_name</code></em>)</code></a>
        </p><a id="idm45828917688128" class="indexterm"></a><p>
          Returns the default value for a table column. An error results
          if the column has no default value.
        </p><p>
          The use of
          <a class="link" href="miscellaneous-functions.html#function_default"><code class="literal">DEFAULT(<em class="replaceable"><code>col_name</code></em>)</code></a>
          to specify the default value for a named column is permitted
          only for columns that have a literal default value, not for
          columns that have an expression default value.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>UPDATE t SET i = DEFAULT(i)+1 WHERE id &lt; 100;</code></strong>
</pre></li><li class="listitem"><p>
          <a class="link" href="string-functions.html#function_format"><code class="literal">FORMAT(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        </p><p>
          Formats the number <em class="replaceable"><code>X</code></em> to a format
          like <code class="literal">'#,###,###.##'</code>, rounded to
          <em class="replaceable"><code>D</code></em> decimal places, and returns the
          result as a string. For details, see
          <a class="xref" href="string-functions.html" title="12.8 String Functions and Operators">Section 12.8, “String Functions and Operators”</a>.
        </p></li><li class="listitem"><a id="function_grouping"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING(<em class="replaceable"><code>expr</code></em>
          [, <em class="replaceable"><code>expr</code></em>] ...)</code></a>
        </p><a id="idm45828917668832" class="indexterm"></a><p>
          For <code class="literal">GROUP BY</code> queries that include a
          <code class="literal">WITH ROLLUP</code> modifier, the
          <code class="literal">ROLLUP</code> operation produces super-aggregate
          output rows where <code class="literal">NULL</code> represents the set
          of all values. The <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>
          function enables you to distinguish <code class="literal">NULL</code>
          values for super-aggregate rows from <code class="literal">NULL</code>
          values in regular grouped rows.
        </p><p>
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> is permitted in the
          select list, <code class="literal">HAVING</code> clause, and (as of
          MySQL 8.0.12) <code class="literal">ORDER BY</code> clause.
        </p><p>
          Each argument to <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>
          must be an expression that exactly matches an expression in
          the <code class="literal">GROUP BY</code> clause. The expression cannot
          be a positional specifier. For each expression,
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> produces 1 if the
          expression value in the current row is a
          <code class="literal">NULL</code> representing a super-aggregate value.
          Otherwise, <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> produces
          0, indicating that the expression value is a
          <code class="literal">NULL</code> for a regular result row or is not
          <code class="literal">NULL</code>.
        </p><p>
          Suppose that table <code class="literal">t1</code> contains these rows,
          where <code class="literal">NULL</code> indicates something like
          <span class="quote">“<span class="quote">other</span>”</span> or <span class="quote">“<span class="quote">unknown</span>”</span>:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM t1;</code></strong>
+------+-------+----------+
| name | size  | quantity |
+------+-------+----------+
| ball | small |       10 |
| ball | large |       20 |
| ball | NULL  |        5 |
| hoop | small |       15 |
| hoop | large |        5 |
| hoop | NULL  |        3 |
+------+-------+----------+
</pre><p>
          A summary of the table without <code class="literal">WITH ROLLUP</code>
          looks like this:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT name, size, SUM(quantity) AS quantity</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size;</code></strong>
+------+-------+----------+
| name | size  | quantity |
+------+-------+----------+
| ball | small |       10 |
| ball | large |       20 |
| ball | NULL  |        5 |
| hoop | small |       15 |
| hoop | large |        5 |
| hoop | NULL  |        3 |
+------+-------+----------+
</pre><p>
          The result contains <code class="literal">NULL</code> values, but those
          do not represent super-aggregate rows because the query does
          not include <code class="literal">WITH ROLLUP</code>.
        </p><p>
          Adding <code class="literal">WITH ROLLUP</code> produces super-aggregate
          summary rows containing additional <code class="literal">NULL</code>
          values. However, without comparing this result to the previous
          one, it is not easy to see which <code class="literal">NULL</code>
          values occur in super-aggregate rows and which occur in
          regular grouped rows:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT name, size, SUM(quantity) AS quantity</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size WITH ROLLUP;</code></strong>
+------+-------+----------+
| name | size  | quantity |
+------+-------+----------+
| ball | NULL  |        5 |
| ball | large |       20 |
| ball | small |       10 |
| ball | NULL  |       35 |
| hoop | NULL  |        3 |
| hoop | large |        5 |
| hoop | small |       15 |
| hoop | NULL  |       23 |
| NULL | NULL  |       58 |
+------+-------+----------+
</pre><p>
          To distinguish <code class="literal">NULL</code> values in
          super-aggregate rows from those in regular grouped rows, use
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>, which returns 1
          only for super-aggregate <code class="literal">NULL</code> values:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
         <strong class="userinput"><code>name, size, SUM(quantity) AS quantity,</code></strong>
         <strong class="userinput"><code>GROUPING(name) AS grp_name,</code></strong>
         <strong class="userinput"><code>GROUPING(size) AS grp_size</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size WITH ROLLUP;</code></strong>
+------+-------+----------+----------+----------+
| name | size  | quantity | grp_name | grp_size |
+------+-------+----------+----------+----------+
| ball | NULL  |        5 |        0 |        0 |
| ball | large |       20 |        0 |        0 |
| ball | small |       10 |        0 |        0 |
| ball | NULL  |       35 |        0 |        1 |
| hoop | NULL  |        3 |        0 |        0 |
| hoop | large |        5 |        0 |        0 |
| hoop | small |       15 |        0 |        0 |
| hoop | NULL  |       23 |        0 |        1 |
| NULL | NULL  |       58 |        1 |        1 |
+------+-------+----------+----------+----------+
</pre><p>
          Common uses for <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Substitute a label for super-aggregate
              <code class="literal">NULL</code> values:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
         <strong class="userinput"><code>IF(GROUPING(name) = 1, 'All items', name) AS name,</code></strong>
         <strong class="userinput"><code>IF(GROUPING(size) = 1, 'All sizes', size) AS size,</code></strong>
         <strong class="userinput"><code>SUM(quantity) AS quantity</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size WITH ROLLUP;</code></strong>
+-----------+-----------+----------+
| name      | size      | quantity |
+-----------+-----------+----------+
| ball      | NULL      |        5 |
| ball      | large     |       20 |
| ball      | small     |       10 |
| ball      | All sizes |       35 |
| hoop      | NULL      |        3 |
| hoop      | large     |        5 |
| hoop      | small     |       15 |
| hoop      | All sizes |       23 |
| All items | All sizes |       58 |
+-----------+-----------+----------+
</pre></li><li class="listitem"><p>
              Return only super-aggregate lines by filtering out the
              regular grouped lines:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT name, size, SUM(quantity) AS quantity</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size WITH ROLLUP</code></strong>
       <strong class="userinput"><code>HAVING GROUPING(name) = 1 OR GROUPING(size) = 1;</code></strong>
+------+------+----------+
| name | size | quantity |
+------+------+----------+
| ball | NULL |       35 |
| hoop | NULL |       23 |
| NULL | NULL |       58 |
+------+------+----------+
</pre></li></ul></div><p>
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> permits multiple
          expression arguments. In this case, the
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> return value
          represents a bitmask combined from the results for each
          expression, where the lowest-order bit corresponds to the
          result for the rightmost expression. For example, with three
          expression arguments,
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING(<em class="replaceable"><code>expr1</code></em>,
          <em class="replaceable"><code>expr2</code></em>,
          <em class="replaceable"><code>expr3</code></em>)</code></a> is evaluated like
          this:
        </p><pre class="programlisting">  result for GROUPING(<em class="replaceable"><code>expr3</code></em>)
+ result for GROUPING(<em class="replaceable"><code>expr2</code></em>) &lt;&lt; 1
+ result for GROUPING(<em class="replaceable"><code>expr1</code></em>) &lt;&lt; 2
</pre><p>
          The following query shows how
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> results for single
          arguments combine for a multiple-argument call to produce a
          bitmask value:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
         <strong class="userinput"><code>name, size, SUM(quantity) AS quantity,</code></strong>
         <strong class="userinput"><code>GROUPING(name) AS grp_name,</code></strong>
         <strong class="userinput"><code>GROUPING(size) AS grp_size,</code></strong>
       <strong class="userinput"><code>GROUPING(name, size) AS grp_all</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size WITH ROLLUP;</code></strong>
+------+-------+----------+----------+----------+---------+
| name | size  | quantity | grp_name | grp_size | grp_all |
+------+-------+----------+----------+----------+---------+
| ball | NULL  |        5 |        0 |        0 |       0 |
| ball | large |       20 |        0 |        0 |       0 |
| ball | small |       10 |        0 |        0 |       0 |
| ball | NULL  |       35 |        0 |        1 |       1 |
| hoop | NULL  |        3 |        0 |        0 |       0 |
| hoop | large |        5 |        0 |        0 |       0 |
| hoop | small |       15 |        0 |        0 |       0 |
| hoop | NULL  |       23 |        0 |        1 |       1 |
| NULL | NULL  |       58 |        1 |        1 |       3 |
+------+-------+----------+----------+----------+---------+
</pre><p>
          With multiple expression arguments, the
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> return value is
          nonzero if any expression represents a super-aggregate value.
          Multiple-argument <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>
          syntax thus provides a simpler way to write the earlier query
          that returned only super-aggregate rows, by using a single
          multiple-argument <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>
          call rather than multiple single-argument calls:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT name, size, SUM(quantity) AS quantity</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY name, size WITH ROLLUP</code></strong>
       <strong class="userinput"><code>HAVING GROUPING(name, size) &lt;&gt; 0;</code></strong>
+------+------+----------+
| name | size | quantity |
+------+------+----------+
| ball | NULL |       35 |
| hoop | NULL |       23 |
| NULL | NULL |       58 |
+------+------+----------+
</pre><p>
          Use of <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> is subject to
          these limitations:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Do not use subquery <code class="literal">GROUP BY</code>
              expressions as <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>
              arguments because matching might fail. For example,
              matching fails for this query:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT GROUPING((SELECT MAX(name) FROM t1))</code></strong>
       <strong class="userinput"><code>FROM t1</code></strong>
       <strong class="userinput"><code>GROUP BY (SELECT MAX(name) FROM t1) WITH ROLLUP;</code></strong>
ERROR 3580 (HY000): Argument #1 of GROUPING function is not in GROUP BY
</pre></li><li class="listitem"><p>
              <code class="literal">GROUP BY</code> literal expressions should not
              be used within a <code class="literal">HAVING</code> clause as
              <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> arguments. Due
              to differences between when the optimizer evaluates
              <code class="literal">GROUP BY</code> and <code class="literal">HAVING</code>,
              matching may succeed but
              <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> evaluation does
              not produce the expected result. Consider this query:
            </p><pre class="programlisting">SELECT a AS f1, 'w' AS f2
FROM t
GROUP BY f1, f2 WITH ROLLUP
HAVING GROUPING(f2) = 1;
</pre><p>
              <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a> is evaluated
              earlier for the literal constant expression than for the
              <code class="literal">HAVING</code> clause as a whole and returns 0.
              To check whether a query such as this is affected, use
              <a class="link" href="explain.html" title="13.8.2 EXPLAIN Statement"><code class="literal">EXPLAIN</code></a> and look for
              <code class="literal">Impossible having</code> in the
              <code class="literal">Extra</code> column.
            </p></li></ul></div><p>
          For more information about <code class="literal">WITH ROLLUP</code> and
          <a class="link" href="miscellaneous-functions.html#function_grouping"><code class="literal">GROUPING()</code></a>, see
          <a class="xref" href="group-by-modifiers.html" title="12.19.2 GROUP BY Modifiers">Section 12.19.2, “GROUP BY Modifiers”</a>.
        </p></li><li class="listitem"><a id="function_inet-aton"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917555664" class="indexterm"></a><p>
          Given the dotted-quad representation of an IPv4 network
          address as a string, returns an integer that represents the
          numeric value of the address in network byte order (big
          endian). <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returns
          <code class="literal">NULL</code> if it does not understand its
          argument, or if <em class="replaceable"><code>expr</code></em> is
          <code class="literal">NULL</code>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INET_ATON('10.0.5.9');</code></strong>
        -&gt; 167773449
</pre><p>
          For this example, the return value is calculated as
          10×256<sup>3</sup> +
          0×256<sup>2</sup> + 5×256 + 9.
        </p><p>
          <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> may or may not
          return a non-<code class="literal">NULL</code> result for short-form IP
          addresses (such as <code class="literal">'127.1'</code> as a
          representation of <code class="literal">'127.0.0.1'</code>). Because of
          this, <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a>a should not
          be used for such addresses.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
            To store values generated by
            <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a>, use an
            <code class="literal">INT UNSIGNED</code> column rather than
            <a class="link" href="integer-types.html" title="11.1.2 Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a>, which is signed. If you
            use a signed column, values corresponding to IP addresses
            for which the first octet is greater than 127 cannot be
            stored correctly. See
            <a class="xref" href="out-of-range-and-overflow.html" title="11.1.7 Out-of-Range and Overflow Handling">Section 11.1.7, “Out-of-Range and Overflow Handling”</a>.
          </p></div></li><li class="listitem"><a id="function_inet-ntoa"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_inet-ntoa"><code class="literal">INET_NTOA(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917530704" class="indexterm"></a><p>
          Given a numeric IPv4 network address in network byte order,
          returns the dotted-quad string representation of the address
          as a string in the connection character set.
          <a class="link" href="miscellaneous-functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> returns
          <code class="literal">NULL</code> if it does not understand its
          argument.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INET_NTOA(167773449);</code></strong>
        -&gt; '10.0.5.9'
</pre></li><li class="listitem"><a id="function_inet6-aton"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917518464" class="indexterm"></a><p>
          Given an IPv6 or IPv4 network address as a string, returns a
          binary string that represents the numeric value of the address
          in network byte order (big endian). Because numeric-format
          IPv6 addresses require more bytes than the largest integer
          type, the representation returned by this function has the
          <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> data type:
          <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">VARBINARY(16)</code></a> for IPv6
          addresses and <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">VARBINARY(4)</code></a> for
          IPv4 addresses. If the argument is not a valid address, or if
          it is <code class="literal">NULL</code>,
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> returns
          <code class="literal">NULL</code>.
        </p><p>
          The following examples use
          <a class="link" href="string-functions.html#function_hex"><code class="literal">HEX()</code></a> to display the
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> result in
          printable form:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON('fdfe::5a55:caff:fefa:9089'));</code></strong>
        -&gt; 'FDFE0000000000005A55CAFFFEFA9089'
mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON('10.0.5.9'));</code></strong>
        -&gt; '0A000509'
</pre><p>
          <code class="literal">INET6_ATON()</code> observes several constraints
          on valid arguments. These are given in the following list
          along with examples.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              A trailing zone ID is not permitted, as in
              <code class="literal">fe80::3%1</code> or
              <code class="literal">fe80::3%eth0</code>.
            </p></li><li class="listitem"><p>
              A trailing network mask is not permitted, as in
              <code class="literal">2001:45f:3:ba::/64</code> or
              <code class="literal">198.51.100.0/24</code>.
            </p></li><li class="listitem"><p>
              For values representing IPv4 addresses, only classless
              addresses are supported. Classful addresses such as
              <code class="literal">198.51.1</code> are rejected. A trailing port
              number is not permitted, as in
              <code class="literal">198.51.100.2:8080</code>. Hexadecimal numbers
              in address components are not permitted, as in
              <code class="literal">198.0xa0.1.2</code>. Octal numbers are not
              supported: <code class="literal">198.51.010.1</code> is treated as
              <code class="literal">198.51.10.1</code>, not
              <code class="literal">198.51.8.1</code>. These IPv4 constraints also
              apply to IPv6 addresses that have IPv4 address parts, such
              as IPv4-compatible or IPv4-mapped addresses.
            </p></li></ul></div><p>
          To convert an IPv4 address <em class="replaceable"><code>expr</code></em>
          represented in numeric form as an
          <a class="link" href="integer-types.html" title="11.1.2 Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> value to an IPv6 address
          represented in numeric form as a
          <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> value, use this
          expression:
        </p><pre class="programlisting">INET6_ATON(INET_NTOA(<em class="replaceable"><code>expr</code></em>))
</pre><p>
          For example:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON(INET_NTOA(167773449)));</code></strong>
        -&gt; '0A000509'
</pre><p>
          If <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> is invoked from
          within the <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary strings
          display using hexadecimal notation, depending on the value of
          the <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>. For more
          information about that option, see <a class="xref" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client">Section 4.5.1, “mysql — The MySQL Command-Line Client”</a>.
        </p></li><li class="listitem"><a id="function_inet6-ntoa"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917474336" class="indexterm"></a><p>
          Given an IPv6 or IPv4 network address represented in numeric
          form as a binary string, returns the string representation of
          the address as a string in the connection character set. If
          the argument is not a valid address, or if it is
          <code class="literal">NULL</code>,
          <a class="link" href="miscellaneous-functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a> returns
          <code class="literal">NULL</code>.
        </p><p>
          <a class="link" href="miscellaneous-functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a> has these
          properties:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              It does not use operating system functions to perform
              conversions, thus the output string is platform
              independent.
            </p></li><li class="listitem"><p>
              The return string has a maximum length of 39 (4 x 8 + 7).
              Given this statement:
            </p><pre class="programlisting">CREATE TABLE t AS SELECT INET6_NTOA(<em class="replaceable"><code>expr</code></em>) AS c1;
</pre><p>
              The resulting table would have this definition:
            </p><pre class="programlisting">CREATE TABLE t (c1 VARCHAR(39) CHARACTER SET utf8mb3 DEFAULT NULL);
</pre></li><li class="listitem"><p>
              The return string uses lowercase letters for IPv6
              addresses.
            </p></li></ul></div><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(INET6_ATON('fdfe::5a55:caff:fefa:9089'));</code></strong>
        -&gt; 'fdfe::5a55:caff:fefa:9089'
mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(INET6_ATON('10.0.5.9'));</code></strong>
        -&gt; '10.0.5.9'

mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(UNHEX('FDFE0000000000005A55CAFFFEFA9089'));</code></strong>
        -&gt; 'fdfe::5a55:caff:fefa:9089'
mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(UNHEX('0A000509'));</code></strong>
        -&gt; '10.0.5.9'
</pre><p>
          If <a class="link" href="miscellaneous-functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a> is invoked from
          within the <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary strings
          display using hexadecimal notation, depending on the value of
          the <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>. For more
          information about that option, see <a class="xref" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client">Section 4.5.1, “mysql — The MySQL Command-Line Client”</a>.
        </p></li><li class="listitem"><a id="function_is-ipv4"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_is-ipv4"><code class="literal">IS_IPV4(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917446464" class="indexterm"></a><p>
          Returns 1 if the argument is a valid IPv4 address specified as
          a string, 0 otherwise. Returns <code class="literal">NULL</code> if
          <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4('10.0.5.9'), IS_IPV4('10.0.5.256');</code></strong>
        -&gt; 1, 0
</pre><p>
          For a given argument, if
          <a class="link" href="miscellaneous-functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a> returns 1,
          <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> (and
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a>) returns
          non-<code class="literal">NULL</code>. The converse statement is not
          true: In some cases,
          <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returns
          non-<code class="literal">NULL</code> when
          <a class="link" href="miscellaneous-functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a> returns 0.
        </p><p>
          As implied by the preceding remarks,
          <a class="link" href="miscellaneous-functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a> is more strict than
          <a class="link" href="miscellaneous-functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> about what
          constitutes a valid IPv4 address, so it may be useful for
          applications that need to perform strong checks against
          invalid values. Alternatively, use
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> to convert IPv4
          addresses to internal form and check for a
          <code class="literal">NULL</code> result (which indicates an invalid
          address). <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> is
          equally strong as <a class="link" href="miscellaneous-functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a>
          about checking IPv4 addresses.
        </p></li><li class="listitem"><a id="function_is-ipv4-compat"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_is-ipv4-compat"><code class="literal">IS_IPV4_COMPAT(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917418512" class="indexterm"></a><p>
          This function takes an IPv6 address represented in numeric
          form as a binary string, as returned by
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a>. It returns 1 if
          the argument is a valid IPv4-compatible IPv6 address, 0
          otherwise (unless <em class="replaceable"><code>expr</code></em> is
          <code class="literal">NULL</code>, in which case the function returns
          <code class="literal">NULL</code>). IPv4-compatible addresses have the
          form
          <code class="literal">::<em class="replaceable"><code>ipv4_address</code></em></code>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_COMPAT(INET6_ATON('::10.0.5.9'));</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_COMPAT(INET6_ATON('::ffff:10.0.5.9'));</code></strong>
        -&gt; 0
</pre><p>
          The IPv4 part of an IPv4-compatible address can also be
          represented using hexadecimal notation. For example,
          <code class="literal">198.51.100.1</code> has this raw hexadecimal
          value:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON('198.51.100.1'));</code></strong>
        -&gt; 'C6336401'
</pre><p>
          Expressed in IPv4-compatible form,
          <code class="literal">::198.51.100.1</code> is equivalent to
          <code class="literal">::c0a8:0001</code> or (without leading zeros)
          <code class="literal">::c0a8:1</code>
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_COMPAT(INET6_ATON('::198.51.100.1')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_COMPAT(INET6_ATON('::c0a8:0001')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_COMPAT(INET6_ATON('::c0a8:1'));</code></strong>
        -&gt; 1, 1, 1
</pre></li><li class="listitem"><a id="function_is-ipv4-mapped"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_is-ipv4-mapped"><code class="literal">IS_IPV4_MAPPED(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917393760" class="indexterm"></a><p>
          This function takes an IPv6 address represented in numeric
          form as a binary string, as returned by
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a>. It returns 1 if
          the argument is a valid IPv4-mapped IPv6 address, 0 otherwise,
          unless <em class="replaceable"><code>expr</code></em> is
          <code class="literal">NULL</code>, in which case the function returns
          <code class="literal">NULL</code>. IPv4-mapped addresses have the form
          <code class="literal">::ffff:<em class="replaceable"><code>ipv4_address</code></em></code>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_MAPPED(INET6_ATON('::10.0.5.9'));</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_MAPPED(INET6_ATON('::ffff:10.0.5.9'));</code></strong>
        -&gt; 1
</pre><p>
          As with <code class="literal">IS_IPV4_COMPAT()</code> the IPv4 part of
          an IPv4-mapped address can also be represented using
          hexadecimal notation:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_MAPPED(INET6_ATON('::ffff:198.51.100.1')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_MAPPED(INET6_ATON('::ffff:c0a8:0001')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_MAPPED(INET6_ATON('::ffff:c0a8:1'));</code></strong>
        -&gt; 1, 1, 1
</pre></li><li class="listitem"><a id="function_is-ipv6"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_is-ipv6"><code class="literal">IS_IPV6(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828917373328" class="indexterm"></a><p>
          Returns 1 if the argument is a valid IPv6 address specified as
          a string, 0 otherwise, unless <em class="replaceable"><code>expr</code></em>
          is <code class="literal">NULL</code>, in which case the function returns
          <code class="literal">NULL</code>. This function does not consider IPv4
          addresses to be valid IPv6 addresses.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV6('10.0.5.9'), IS_IPV6('::1');</code></strong>
        -&gt; 0, 1
</pre><p>
          For a given argument, if
          <a class="link" href="miscellaneous-functions.html#function_is-ipv6"><code class="literal">IS_IPV6()</code></a> returns 1,
          <a class="link" href="miscellaneous-functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> returns
          non-<code class="literal">NULL</code>.
        </p></li><li class="listitem"><a id="function_is-uuid"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_is-uuid"><code class="literal">IS_UUID(<em class="replaceable"><code>string_uuid</code></em>)</code></a>
        </p><a id="idm45828917357472" class="indexterm"></a><p>
          Returns 1 if the argument is a valid string-format UUID, 0 if
          the argument is not a valid UUID, and <code class="literal">NULL</code>
          if the argument is <code class="literal">NULL</code>.
        </p><p>
          <span class="quote">“<span class="quote">Valid</span>”</span> means that the value is in a format that
          can be parsed. That is, it has the correct length and contains
          only the permitted characters (hexadecimal digits in any
          lettercase and, optionally, dashes and curly braces). This
          format is most common:
        </p><pre class="programlisting">aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee
</pre><p>
          These other formats are also permitted:
        </p><pre class="programlisting">aaaaaaaabbbbccccddddeeeeeeeeeeee
{aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee}
</pre><p>
          For the meanings of fields within the value, see the
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> function description.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_UUID('6ccd780c-baba-1026-9564-5b8c656024db');</code></strong>
+-------------------------------------------------+
| IS_UUID('6ccd780c-baba-1026-9564-5b8c656024db') |
+-------------------------------------------------+
|                                               1 |
+-------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT IS_UUID('6CCD780C-BABA-1026-9564-5B8C656024DB');</code></strong>
+-------------------------------------------------+
| IS_UUID('6CCD780C-BABA-1026-9564-5B8C656024DB') |
+-------------------------------------------------+
|                                               1 |
+-------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT IS_UUID('6ccd780cbaba102695645b8c656024db');</code></strong>
+---------------------------------------------+
| IS_UUID('6ccd780cbaba102695645b8c656024db') |
+---------------------------------------------+
|                                           1 |
+---------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT IS_UUID('{6ccd780c-baba-1026-9564-5b8c656024db}');</code></strong>
+---------------------------------------------------+
| IS_UUID('{6ccd780c-baba-1026-9564-5b8c656024db}') |
+---------------------------------------------------+
|                                                 1 |
+---------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT IS_UUID('6ccd780c-baba-1026-9564-5b8c6560');</code></strong>
+---------------------------------------------+
| IS_UUID('6ccd780c-baba-1026-9564-5b8c6560') |
+---------------------------------------------+
|                                           0 |
+---------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT IS_UUID(RAND());</code></strong>
+-----------------+
| IS_UUID(RAND()) |
+-----------------+
|               0 |
+-----------------+
</pre></li><li class="listitem"><a id="function_master-pos-wait"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT(<em class="replaceable"><code>log_name</code></em>,<em class="replaceable"><code>log_pos</code></em>[,<em class="replaceable"><code>timeout</code></em>][,<em class="replaceable"><code>channel</code></em>])</code></a>
        </p><a id="idm45828917333360" class="indexterm"></a><p>
          This function is for control of source/replica
          synchronization. It blocks until the replica has read and
          applied all updates up to the specified position in the
          source's binary log. From MySQL 8.0.26,
          <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a> is deprecated
          and the alias <a class="link" href="miscellaneous-functions.html#function_source-pos-wait"><code class="literal">SOURCE_POS_WAIT()</code></a>
          should be used instead. In releases before MySQL 8.0.26, use
          <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a>.
        </p><p>
          The return value is the number of log events the replica had
          to wait for to advance to the specified position. The function
          returns <code class="literal">NULL</code> if the replication SQL thread
          is not started, the replica's source information is not
          initialized, the arguments are incorrect, or an error occurs.
          It returns <code class="literal">-1</code> if the timeout has been
          exceeded. If the replication SQL thread stops while
          <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a> is waiting,
          the function returns <code class="literal">NULL</code>. If the replica
          is past the specified position, the function returns
          immediately.
        </p><p>
          If the binary log file position has been marked as invalid,
          the function waits until a valid file position is known. The
          binary log file position can be marked as invalid when the
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3 CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
          option <code class="literal">GTID_ONLY</code> is set for the replication
          channel, and the server is restarted or replication is
          stopped. The file position becomes valid after a transaction
          is successfully applied past the given file position. If the
          applier does not reach the stated position, the function waits
          until the timeout. Use a <a class="link" href="show-replica-status.html" title="13.7.7.35 SHOW REPLICA STATUS Statement"><code class="literal">SHOW REPLICA
          STATUS</code></a> statement to check if the binary log file
          position has been marked as invalid.
        </p><p>
          On a multithreaded replica, the function waits until expiry of
          the limit set by the
          <a class="link" href="replication-options-replica.html#sysvar_replica_checkpoint_group"><code class="literal">replica_checkpoint_group</code></a>,
          <a class="link" href="replication-options-replica.html#sysvar_slave_checkpoint_group"><code class="literal">slave_checkpoint_group</code></a>,
          <a class="link" href="replication-options-replica.html#sysvar_replica_checkpoint_period"><code class="literal">replica_checkpoint_period</code></a> or
          <a class="link" href="replication-options-replica.html#sysvar_slave_checkpoint_period"><code class="literal">slave_checkpoint_period</code></a>
          system variable, when the checkpoint operation is called to
          update the status of the replica. Depending on the setting for
          the system variables, the function might therefore return some
          time after the specified position was reached.
        </p><p>
          If binary log transaction compression is in use and the
          transaction payload at the specified position is compressed
          (as a <code class="literal">Transaction_payload_event</code>), the
          function waits until the whole transaction has been read and
          applied, and the positions have updated.
        </p><p>
          If a <em class="replaceable"><code>timeout</code></em> value is specified,
          <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a> stops waiting
          when <em class="replaceable"><code>timeout</code></em> seconds have elapsed.
          <em class="replaceable"><code>timeout</code></em> must be greater than 0; a
          zero or negative <em class="replaceable"><code>timeout</code></em> means no
          timeout.
        </p><p>
          The optional <em class="replaceable"><code>channel</code></em> value enables
          you to name which replication channel the function applies to.
          See <a class="xref" href="replication-channels.html" title="17.2.2 Replication Channels">Section 17.2.2, “Replication Channels”</a> for more
          information.
        </p><p>
          This function is unsafe for statement-based replication. A
          warning is logged if you use this function when
          <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
          <code class="literal">STATEMENT</code>.
        </p></li><li class="listitem"><a id="function_name-const"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,<em class="replaceable"><code>value</code></em>)</code></a>
        </p><a id="idm45828917297216" class="indexterm"></a><p>
          Returns the given value. When used to produce a result set
          column, <a class="link" href="miscellaneous-functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> causes the
          column to have the given name. The arguments should be
          constants.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NAME_CONST('myname', 14);</code></strong>
+--------+
| myname |
+--------+
|     14 |
+--------+
</pre><p>
          This function is for internal use only. The server uses it
          when writing statements from stored programs that contain
          references to local program variables, as described in
          <a class="xref" href="stored-programs-logging.html" title="25.7 Stored Program Binary Logging">Section 25.7, “Stored Program Binary Logging”</a>. You might see this
          function in the output from <a class="link" href="mysqlbinlog.html" title="4.6.9 mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a>.
        </p><p>
          For your applications, you can obtain exactly the same result
          as in the example just shown by using simple aliasing, like
          this:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 14 AS myname;</code></strong>
+--------+
| myname |
+--------+
|     14 |
+--------+
1 row in set (0.00 sec)
</pre><p>
          See <a class="xref" href="select.html" title="13.2.13 SELECT Statement">Section 13.2.13, “SELECT Statement”</a>, for more information about
          column aliases.
        </p></li><li class="listitem"><a id="function_sleep"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_sleep"><code class="literal">SLEEP(<em class="replaceable"><code>duration</code></em>)</code></a>
        </p><a id="idm45828917280208" class="indexterm"></a><p>
          Sleeps (pauses) for the number of seconds given by the
          <em class="replaceable"><code>duration</code></em> argument, then returns 0.
          The duration may have a fractional part. If the argument is
          <code class="literal">NULL</code> or negative,
          <a class="link" href="miscellaneous-functions.html#function_sleep"><code class="literal">SLEEP()</code></a> produces a warning, or
          an error in strict SQL mode.
        </p><p>
          When sleep returns normally (without interruption), it returns
          0:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SLEEP(1000);</code></strong>
+-------------+
| SLEEP(1000) |
+-------------+
|           0 |
+-------------+
</pre><p>
          When <a class="link" href="miscellaneous-functions.html#function_sleep"><code class="literal">SLEEP()</code></a> is the only thing
          invoked by a query that is interrupted, it returns 1 and the
          query itself returns no error. This is true whether the query
          is killed or times out:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              This statement is interrupted using
              <a class="link" href="kill.html" title="13.7.8.4 KILL Statement"><code class="literal">KILL QUERY</code></a>
              from another session:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SLEEP(1000);</code></strong>
+-------------+
| SLEEP(1000) |
+-------------+
|           1 |
+-------------+
</pre></li><li class="listitem"><p>
              This statement is interrupted by timing out:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT /*+ MAX_EXECUTION_TIME(1) */ SLEEP(1000);</code></strong>
+-------------+
| SLEEP(1000) |
+-------------+
|           1 |
+-------------+
</pre></li></ul></div><p>
          When <a class="link" href="miscellaneous-functions.html#function_sleep"><code class="literal">SLEEP()</code></a> is only part of a
          query that is interrupted, the query returns an error:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              This statement is interrupted using
              <a class="link" href="kill.html" title="13.7.8.4 KILL Statement"><code class="literal">KILL QUERY</code></a>
              from another session:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 FROM t1 WHERE SLEEP(1000);</code></strong>
ERROR 1317 (70100): Query execution was interrupted
</pre></li><li class="listitem"><p>
              This statement is interrupted by timing out:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT /*+ MAX_EXECUTION_TIME(1000) */ 1 FROM t1 WHERE SLEEP(1000);</code></strong>
ERROR 3024 (HY000): Query execution was interrupted, maximum statement
execution time exceeded
</pre></li></ul></div><p>
          This function is unsafe for statement-based replication. A
          warning is logged if you use this function when
          <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
          <code class="literal">STATEMENT</code>.
        </p></li><li class="listitem"><a id="function_source-pos-wait"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_source-pos-wait"><code class="literal">SOURCE_POS_WAIT(<em class="replaceable"><code>log_name</code></em>,<em class="replaceable"><code>log_pos</code></em>[,<em class="replaceable"><code>timeout</code></em>][,<em class="replaceable"><code>channel</code></em>])</code></a>
        </p><a id="idm45828917246384" class="indexterm"></a><p>
          This function is for control of source/replica
          synchronization. It blocks until the replica has read and
          applied all updates up to the specified position in the
          source's binary log. From MySQL 8.0.26, use
          <a class="link" href="miscellaneous-functions.html#function_source-pos-wait"><code class="literal">SOURCE_POS_WAIT()</code></a> in place of
          <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a>, which is
          deprecated from that release. In releases before MySQL 8.0.26,
          use <a class="link" href="miscellaneous-functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a>.
        </p><p>
          The return value is the number of log events the replica had
          to wait for to advance to the specified position. The function
          returns <code class="literal">NULL</code> if the replication SQL thread
          is not started, the replica's source information is not
          initialized, the arguments are incorrect, or an error occurs.
          It returns <code class="literal">-1</code> if the timeout has been
          exceeded. If the replication SQL thread stops while
          <a class="link" href="miscellaneous-functions.html#function_source-pos-wait"><code class="literal">SOURCE_POS_WAIT()</code></a> is waiting,
          the function returns <code class="literal">NULL</code>. If the replica
          is past the specified position, the function returns
          immediately.
        </p><p>
          If the binary log file position has been marked as invalid,
          the function waits until a valid file position is known. The
          binary log file position can be marked as invalid when the
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3 CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
          TO</code></a> option <code class="literal">GTID_ONLY</code> is set for
          the replication channel, and the server is restarted or
          replication is stopped. The file position becomes valid after
          a transaction is successfully applied past the given file
          position. If the applier does not reach the stated position,
          the function waits until the timeout. Use a
          <a class="link" href="show-replica-status.html" title="13.7.7.35 SHOW REPLICA STATUS Statement"><code class="literal">SHOW REPLICA STATUS</code></a>
          statement to check if the binary log file position has been
          marked as invalid.
        </p><p>
          On a multithreaded replica, the function waits until expiry of
          the limit set by the
          <a class="link" href="replication-options-replica.html#sysvar_replica_checkpoint_group"><code class="literal">replica_checkpoint_group</code></a> or
          <a class="link" href="replication-options-replica.html#sysvar_replica_checkpoint_period"><code class="literal">replica_checkpoint_period</code></a>
          system variable, when the checkpoint operation is called to
          update the status of the replica. Depending on the setting for
          the system variables, the function might therefore return some
          time after the specified position was reached.
        </p><p>
          If binary log transaction compression is in use and the
          transaction payload at the specified position is compressed
          (as a <code class="literal">Transaction_payload_event</code>), the
          function waits until the whole transaction has been read and
          applied, and the positions have updated.
        </p><p>
          If a <em class="replaceable"><code>timeout</code></em> value is specified,
          <a class="link" href="miscellaneous-functions.html#function_source-pos-wait"><code class="literal">SOURCE_POS_WAIT()</code></a> stops waiting
          when <em class="replaceable"><code>timeout</code></em> seconds have elapsed.
          <em class="replaceable"><code>timeout</code></em> must be greater than 0; a
          zero or negative <em class="replaceable"><code>timeout</code></em> means no
          timeout.
        </p><p>
          The optional <em class="replaceable"><code>channel</code></em> value enables
          you to name which replication channel the function applies to.
          See <a class="xref" href="replication-channels.html" title="17.2.2 Replication Channels">Section 17.2.2, “Replication Channels”</a> for more
          information.
        </p><p>
          This function is unsafe for statement-based replication. A
          warning is logged if you use this function when
          <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
          <code class="literal">STATEMENT</code>.
        </p></li><li class="listitem"><a id="function_uuid"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a>
        </p><a id="idm45828917213696" class="indexterm"></a><p>
          Returns a Universal Unique Identifier (UUID) generated
          according to RFC 4122, <span class="quote">“<span class="quote">A Universally Unique IDentifier
          (UUID) URN Namespace</span>”</span>
          (<a class="ulink" href="http://www.ietf.org/rfc/rfc4122.txt" target="_top">http://www.ietf.org/rfc/rfc4122.txt</a>).
        </p><p>
          A UUID is designed as a number that is globally unique in
          space and time. Two calls to
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> are expected to generate
          two different values, even if these calls are performed on two
          separate devices not connected to each other.
        </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p>
            Although <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> values are
            intended to be unique, they are not necessarily unguessable
            or unpredictable. If unpredictability is required, UUID
            values should be generated some other way.
          </p></div><p>
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> returns a value that
          conforms to UUID version 1 as described in RFC 4122. The value
          is a 128-bit number represented as a
          <code class="literal">utf8mb3</code> string of five hexadecimal numbers
          in <code class="literal">aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee</code>
          format:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The first three numbers are generated from the low,
              middle, and high parts of a timestamp. The high part also
              includes the UUID version number.
            </p></li><li class="listitem"><p>
              The fourth number preserves temporal uniqueness in case
              the timestamp value loses monotonicity (for example, due
              to daylight saving time).
            </p></li><li class="listitem"><p>
              The fifth number is an IEEE 802 node number that provides
              spatial uniqueness. A random number is substituted if the
              latter is not available (for example, because the host
              device has no Ethernet card, or it is unknown how to find
              the hardware address of an interface on the host operating
              system). In this case, spatial uniqueness cannot be
              guaranteed. Nevertheless, a collision should have
              <span class="emphasis"><em>very</em></span> low probability.
            </p><p>
              The MAC address of an interface is taken into account only
              on FreeBSD, Linux, and Windows. On other operating
              systems, MySQL uses a randomly generated 48-bit number.
            </p></li></ul></div><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UUID();</code></strong>
        -&gt; '6ccd780c-baba-1026-9564-5b8c656024db'
</pre><p>
          To convert between string and binary UUID values, use the
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a> and
          <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID()</code></a> functions. To
          check whether a string is a valid UUID value, use the
          <a class="link" href="miscellaneous-functions.html#function_is-uuid"><code class="literal">IS_UUID()</code></a> function.
        </p><p>
          This function is unsafe for statement-based replication. A
          warning is logged if you use this function when
          <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
          <code class="literal">STATEMENT</code>.
        </p></li><li class="listitem"><a id="function_uuid-short"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a>
        </p><a id="idm45828917183904" class="indexterm"></a><p>
          Returns a <span class="quote">“<span class="quote">short</span>”</span> universal identifier as a
          64-bit unsigned integer. Values returned by
          <a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> differ from the
          string-format 128-bit identifiers returned by the
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> function and have
          different uniqueness properties. The value of
          <a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> is guaranteed to
          be unique if the following conditions hold:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The <a class="link" href="replication-options.html#sysvar_server_id"><code class="literal">server_id</code></a> value of
              the current server is between 0 and 255 and is unique
              among your set of source and replica servers
            </p></li><li class="listitem"><p>
              You do not set back the system time for your server host
              between <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> restarts
            </p></li><li class="listitem"><p>
              You invoke <a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> on
              average fewer than 16 million times per second between
              <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> restarts
            </p></li></ul></div><p>
          The <a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> return value
          is constructed this way:
        </p><pre class="programlisting">  (server_id &amp; 255) &lt;&lt; 56
+ (server_startup_time_in_seconds &lt;&lt; 24)
+ incremented_variable++;
</pre><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UUID_SHORT();</code></strong>
        -&gt; 92395783831158784
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
            <a class="link" href="miscellaneous-functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> does not work
            with statement-based replication.
          </p></div></li><li class="listitem"><a id="function_uuid-to-bin"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN(<em class="replaceable"><code>string_uuid</code></em>)</code></a>,
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN(<em class="replaceable"><code>string_uuid</code></em>,
          <em class="replaceable"><code>swap_flag</code></em>)</code></a>
        </p><a id="idm45828917154416" class="indexterm"></a><p>
          Converts a string UUID to a binary UUID and returns the
          result. (The <a class="link" href="miscellaneous-functions.html#function_is-uuid"><code class="literal">IS_UUID()</code></a> function
          description lists the permitted string UUID formats.) The
          return binary UUID is a
          <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">VARBINARY(16)</code></a> value. If the
          UUID argument is <code class="literal">NULL</code>, the return value is
          <code class="literal">NULL</code>. If any argument is invalid, an error
          occurs.
        </p><p>
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a> takes one or two
          arguments:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The one-argument form takes a string UUID value. The
              binary result is in the same order as the string argument.
            </p></li><li class="listitem"><p>
              The two-argument form takes a string UUID value and a flag
              value:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  If <em class="replaceable"><code>swap_flag</code></em> is 0, the
                  two-argument form is equivalent to the one-argument
                  form. The binary result is in the same order as the
                  string argument.
                </p></li><li class="listitem"><p>
                  If <em class="replaceable"><code>swap_flag</code></em> is 1, the
                  format of the return value differs: The time-low and
                  time-high parts (the first and third groups of
                  hexadecimal digits, respectively) are swapped. This
                  moves the more rapidly varying part to the right and
                  can improve indexing efficiency if the result is
                  stored in an indexed column.
                </p></li></ul></div></li></ul></div><p>
          Time-part swapping assumes the use of UUID version 1 values,
          such as are generated by the
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> function. For UUID
          values produced by other means that do not follow version 1
          format, time-part swapping provides no benefit. For details
          about version 1 format, see the
          <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a> function description.
        </p><p>
          Suppose that you have the following string UUID value:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @uuid = '6ccd780c-baba-1026-9564-5b8c656024db';</code></strong>
</pre><p>
          To convert the string UUID to binary with or without time-part
          swapping, use <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a>:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT HEX(UUID_TO_BIN(@uuid));</code></strong>
+----------------------------------+
| HEX(UUID_TO_BIN(@uuid))          |
+----------------------------------+
| 6CCD780CBABA102695645B8C656024DB |
+----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT HEX(UUID_TO_BIN(@uuid, 0));</code></strong>
+----------------------------------+
| HEX(UUID_TO_BIN(@uuid, 0))       |
+----------------------------------+
| 6CCD780CBABA102695645B8C656024DB |
+----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT HEX(UUID_TO_BIN(@uuid, 1));</code></strong>
+----------------------------------+
| HEX(UUID_TO_BIN(@uuid, 1))       |
+----------------------------------+
| 1026BABA6CCD780C95645B8C656024DB |
+----------------------------------+
</pre><p>
          To convert a binary UUID returned by
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a> to a string UUID,
          use <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID()</code></a>. If you
          produce a binary UUID by calling
          <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a> with a second
          argument of 1 to swap time parts, you should also pass a
          second argument of 1 to
          <a class="link" href="miscellaneous-functions.html#function_bin-to-uuid"><code class="literal">BIN_TO_UUID()</code></a> to unswap the
          time parts when converting the binary UUID back to a string
          UUID:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT BIN_TO_UUID(UUID_TO_BIN(@uuid));</code></strong>
+--------------------------------------+
| BIN_TO_UUID(UUID_TO_BIN(@uuid))      |
+--------------------------------------+
| 6ccd780c-baba-1026-9564-5b8c656024db |
+--------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT BIN_TO_UUID(UUID_TO_BIN(@uuid,0),0);</code></strong>
+--------------------------------------+
| BIN_TO_UUID(UUID_TO_BIN(@uuid,0),0)  |
+--------------------------------------+
| 6ccd780c-baba-1026-9564-5b8c656024db |
+--------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT BIN_TO_UUID(UUID_TO_BIN(@uuid,1),1);</code></strong>
+--------------------------------------+
| BIN_TO_UUID(UUID_TO_BIN(@uuid,1),1)  |
+--------------------------------------+
| 6ccd780c-baba-1026-9564-5b8c656024db |
+--------------------------------------+
</pre><p>
          If the use of time-part swapping is not the same for the
          conversion in both directions, the original UUID is not
          recovered properly:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT BIN_TO_UUID(UUID_TO_BIN(@uuid,0),1);</code></strong>
+--------------------------------------+
| BIN_TO_UUID(UUID_TO_BIN(@uuid,0),1)  |
+--------------------------------------+
| baba1026-780c-6ccd-9564-5b8c656024db |
+--------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT BIN_TO_UUID(UUID_TO_BIN(@uuid,1),0);</code></strong>
+--------------------------------------+
| BIN_TO_UUID(UUID_TO_BIN(@uuid,1),0)  |
+--------------------------------------+
| 1026baba-6ccd-780c-9564-5b8c656024db |
+--------------------------------------+
</pre><p>
          If <a class="link" href="miscellaneous-functions.html#function_uuid-to-bin"><code class="literal">UUID_TO_BIN()</code></a> is invoked
          from within the <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary
          strings display using hexadecimal notation, depending on the
          value of the <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>.
          For more information about that option, see
          <a class="xref" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client">Section 4.5.1, “mysql — The MySQL Command-Line Client”</a>.
        </p></li><li class="listitem"><a id="function_values"></a><p>
          <a class="link" href="miscellaneous-functions.html#function_values"><code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code></a>
        </p><a id="idm45828917105680" class="indexterm"></a><p>
          In an
          <a class="link" href="insert-on-duplicate.html" title="13.2.7.2 INSERT ... ON DUPLICATE KEY UPDATE Statement"><code class="literal">INSERT
          ... ON DUPLICATE KEY UPDATE</code></a> statement, you can use
          the
          <code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code>
          function in the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> clause
          to refer to column values from the
          <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a> portion of the
          statement. In other words,
          <code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code>
          in the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> clause refers to
          the value of <em class="replaceable"><code>col_name</code></em> that would be
          inserted, had no duplicate-key conflict occurred. This
          function is especially useful in multiple-row inserts. The
          <a class="link" href="miscellaneous-functions.html#function_values"><code class="literal">VALUES()</code></a> function is meaningful
          only in the <code class="literal">ON DUPLICATE KEY UPDATE</code> clause
          of <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a> statements and
          returns <code class="literal">NULL</code> otherwise. See
          <a class="xref" href="insert-on-duplicate.html" title="13.2.7.2 INSERT ... ON DUPLICATE KEY UPDATE Statement">Section 13.2.7.2, “INSERT ... ON DUPLICATE KEY UPDATE Statement”</a>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO table (a,b,c) VALUES (1,2,3),(4,5,6)</code></strong>
    -&gt; <strong class="userinput"><code>ON DUPLICATE KEY UPDATE c=VALUES(a)+VALUES(b);</code></strong>
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
            This usage is deprecated in MySQL 8.0.20, and is subject to
            removal in a future release of MySQL. Use a row alias, or
            row and column aliases, instead. See
            <a class="xref" href="insert-on-duplicate.html" title="13.2.7.2 INSERT ... ON DUPLICATE KEY UPDATE Statement">Section 13.2.7.2, “INSERT ... ON DUPLICATE KEY UPDATE Statement”</a>, for more information
            and examples.
          </p></div></li></ul></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="internal-functions.html">Previous <span class="navHint"> Internal Functions </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="functions.html">Up <span class="navHint"> Functions and Operators </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="precision-math.html">Next <span class="navHint"> Precision Math </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>