<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>23.6.3 Event Reports Generated in NDB Cluster</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="mysql-cluster-management.html" title="23.6 Management of NDB Cluster" /><link rel="prev" href="mysql-cluster-ndb-transporter-errors.html" title="23.6.2.4 NDB Cluster: NDB Transporter Errors" /><link rel="next" href="mysql-cluster-logging-management-commands.html" title="23.6.3.1 NDB Cluster Logging Management Commands" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="mysql-cluster-event-reports.html#mysql-cluster-event-reports">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="mysql-cluster-ndb-transporter-errors.html">Previous <span class="navHint"> NDB Cluster: NDB Transporter Errors </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="mysql-cluster-management.html">Up <span class="navHint"> Management of NDB Cluster </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="mysql-cluster-logging-management-commands.html">Next <span class="navHint"> NDB Cluster Logging Management Commands </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="mysql-cluster-event-reports"></a>23.6.3 Event Reports Generated in NDB Cluster</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="mysql-cluster-logging-management-commands.html">23.6.3.1 NDB Cluster Logging Management Commands</a></span></li><li><span class="section"><a href="mysql-cluster-log-events.html">23.6.3.2 NDB Cluster Log Events</a></span></li><li><span class="section"><a href="mysql-cluster-log-statistics.html">23.6.3.3 Using CLUSTERLOG STATISTICS in the NDB Cluster Management Client</a></span></li></ul></div><a id="idm45828810891840" class="indexterm"></a><a id="idm45828810890352" class="indexterm"></a><a id="idm45828810889264" class="indexterm"></a><a id="idm45828810888192" class="indexterm"></a><a id="idm45828810887120" class="indexterm"></a><a id="idm45828810885632" class="indexterm"></a><p>
      In this section, we discuss the types of event logs provided by
      NDB Cluster, and the types of events that are logged.
    </p><p>
      NDB Cluster provides two types of event log:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The <span class="firstterm">cluster log</span>, which
          includes events generated by all cluster nodes. The cluster
          log is the log recommended for most uses because it provides
          logging information for an entire cluster in a single
          location.
        </p><p>
          By default, the cluster log is saved to a file named
          <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code>,
          (where <em class="replaceable"><code>node_id</code></em> is the node ID of
          the management server) in the management server's
          <a class="link" href="mysql-cluster-mgm-definition.html#ndbparam-mgmd-datadir"><code class="literal">DataDir</code></a>.
        </p><p>
          Cluster logging information can also be sent to
          <code class="literal">stdout</code> or a <code class="literal">syslog</code>
          facility in addition to or instead of being saved to a file,
          as determined by the values set for the
          <a class="link" href="mysql-cluster-mgm-definition.html#ndbparam-mgmd-datadir"><code class="literal">DataDir</code></a> and
          <a class="link" href="mysql-cluster-mgm-definition.html#ndbparam-mgmd-logdestination"><code class="literal">LogDestination</code></a>
          configuration parameters. See
          <a class="xref" href="mysql-cluster-mgm-definition.html" title="23.4.3.5 Defining an NDB Cluster Management Server">Section 23.4.3.5, “Defining an NDB Cluster Management Server”</a>, for more
          information about these parameters.
        </p></li><li class="listitem"><p>
          <span class="firstterm">Node logs</span> are local to
          each node.
        </p><p>
          Output generated by node event logging is written to the file
          <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code>
          (where <em class="replaceable"><code>node_id</code></em> is the node's
          node ID) in the node's
          <a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>. Node event
          logs are generated for both management nodes and data nodes.
        </p><p>
          Node logs are intended to be used only during application
          development, or for debugging application code.
        </p></li></ul></div><p>
      Both types of event logs can be set to log different subsets of
      events.
    </p><p>
      Each reportable event can be distinguished according to three
      different criteria:
    </p><a id="idm45828810865824" class="indexterm"></a><a id="idm45828810864336" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>Category</em></span>: This can be any one of the
          following values: <code class="literal">STARTUP</code>,
          <code class="literal">SHUTDOWN</code>, <code class="literal">STATISTICS</code>,
          <code class="literal">CHECKPOINT</code>, <code class="literal">NODERESTART</code>,
          <code class="literal">CONNECTION</code>, <code class="literal">ERROR</code>, or
          <code class="literal">INFO</code>.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Priority</em></span>: This is represented by one of
          the numbers from 0 to 15 inclusive, where 0 indicates
          <span class="quote">“<span class="quote">most important</span>”</span> and 15 <span class="quote">“<span class="quote">least
          important.</span>”</span>
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Severity Level</em></span>: This can be any one of
          the following values: <code class="literal">ON</code>,
          <code class="literal">DEBUG</code>, <code class="literal">INFO</code>,
          <code class="literal">WARNING</code>, <code class="literal">ERROR</code>,
          <code class="literal">CRITICAL</code>, <code class="literal">ALERT</code>, or
          <code class="literal">ALL</code>. (This is also sometimes referred to as
          the log level.)
        </p></li></ul></div><p>
      Both the cluster log and the node log can be filtered on these
      properties.
    </p><p>
      The format used in a log message generated by NDB Cluster (as of
      NDB 8.0.26) is as shown here:
    </p><pre class="programlisting"><em class="replaceable"><code>timestamp</code></em> [<em class="replaceable"><code>node_type</code></em>] <em class="replaceable"><code>level</code></em> -- Node <em class="replaceable"><code>node_id</code></em>: <em class="replaceable"><code>message</code></em>
</pre><p>
      Each line in the log, or log message, contains the following
      information:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          A <em class="replaceable"><code>timestamp</code></em> in
          <code class="literal"><em class="replaceable"><code>YYYY</code></em>-<em class="replaceable"><code>MM</code></em>-<em class="replaceable"><code>DD</code></em>
          <em class="replaceable"><code>HH</code></em>:<em class="replaceable"><code>MM</code></em>:<em class="replaceable"><code>SS</code></em></code>
          format. The timestamp value currently resolves to whole
          seconds only; fractional seconds are not supported.
        </p></li><li class="listitem"><p>
          The <em class="replaceable"><code>node_type</code></em>, or type of node or
          application which is performing the logging. In the cluster
          log, this is always <code class="literal">[MgmSrvr]</code>; in the data
          node log, it is always <code class="literal">[ndbd]</code>.
          <code class="literal">[NdbApi]</code> and other values are possible in
          logs generated by NDB API applications and tools.
        </p></li><li class="listitem"><p>
          The <em class="replaceable"><code>level</code></em> of the event, sometimes
          also referred to as its severity level or log level. See
          earlier in this section, as well as
          <a class="xref" href="mysql-cluster-logging-management-commands.html" title="23.6.3.1 NDB Cluster Logging Management Commands">Section 23.6.3.1, “NDB Cluster Logging Management Commands”</a>,
          for more information about severity levels.
        </p></li><li class="listitem"><p>
          The ID of the node reporting the event
          (<em class="replaceable"><code>node_id</code></em>).
        </p></li><li class="listitem"><p>
          A <em class="replaceable"><code>message</code></em> containing a description
          of the event. The most common types of events to appear in the
          log are connections and disconnections between different nodes
          in the cluster, and when checkpoints occur. In some cases, the
          description may contain status or other information.
        </p></li></ul></div><p>
      A sample from an actual cluster log is shown here:
    </p><pre class="programlisting">2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 5 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 5 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 6 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 6 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: President restarts arbitration thread [state=1]
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 7 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 7 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 8 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 8 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 9 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 9 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 50 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 50 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Start phase 101 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Start phase 101 completed (system restart)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Started (mysql-8.0.34 ndb-8.0.34)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Started (mysql-8.0.34 ndb-8.0.34)
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 5: Node 50: API mysql-8.0.34 ndb-8.0.34
2021-06-10 10:01:07 [MgmtSrvr] INFO     -- Node 6: Node 50: API mysql-8.0.34 ndb-8.0.34
2021-06-10 10:01:08 [MgmtSrvr] INFO     -- Node 6: Prepare arbitrator node 50 [ticket=75fd00010fa8b608]
2021-06-10 10:01:08 [MgmtSrvr] INFO     -- Node 5: Started arbitrator node 50 [ticket=75fd00010fa8b608]
2021-06-10 10:01:08 [MgmtSrvr] INFO     -- Node 6: Communication to Node 100 opened
2021-06-10 10:01:08 [MgmtSrvr] INFO     -- Node 6: Communication to Node 101 opened
2021-06-10 10:01:08 [MgmtSrvr] INFO     -- Node 5: Communication to Node 100 opened
2021-06-10 10:01:08 [MgmtSrvr] INFO     -- Node 5: Communication to Node 101 opened
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Alloc node id 100 succeeded
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Nodeid 100 allocated for API at 127.0.0.1
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Node 100: mysqld --server-id=1
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Node 5: Node 100 Connected
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Node 6: Node 100 Connected
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Node 5: Node 100: API mysql-8.0.34 ndb-8.0.34
2021-06-10 10:01:36 [MgmtSrvr] INFO     -- Node 6: Node 100: API mysql-8.0.34 ndb-8.0.34
</pre><p>
      For additional information, see
      <a class="xref" href="mysql-cluster-log-events.html" title="23.6.3.2 NDB Cluster Log Events">Section 23.6.3.2, “NDB Cluster Log Events”</a>.
    </p></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="mysql-cluster-ndb-transporter-errors.html">Previous <span class="navHint"> NDB Cluster: NDB Transporter Errors </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="mysql-cluster-management.html">Up <span class="navHint"> Management of NDB Cluster </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="mysql-cluster-logging-management-commands.html">Next <span class="navHint"> NDB Cluster Logging Management Commands </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>