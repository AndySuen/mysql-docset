<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4.6.4.3 myisamchk Repair Options</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility" /><link rel="prev" href="myisamchk-check-options.html" title="4.6.4.2 myisamchk Check Options" /><link rel="next" href="myisamchk-other-options.html" title="4.6.4.4 Other myisamchk Options" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="myisamchk-repair-options.html#myisamchk-repair-options">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="myisamchk-check-options.html">Previous <span class="navHint"> myisamchk Check Options </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="myisamchk.html">Up <span class="navHint"> myisamchk — MyISAM Table-Maintenance Utility </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="myisamchk-other-options.html">Next <span class="navHint"> Other myisamchk Options </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="myisamchk-repair-options"></a>4.6.4.3 myisamchk Repair Options</h4></div></div></div><a id="idm45829034427440" class="indexterm"></a><a id="idm45829034425952" class="indexterm"></a><p>
        <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> supports the following options for
        table repair operations (operations performed when an option
        such as <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a> or
        <a class="link" href="myisamchk-repair-options.html#option_myisamchk_safe-recover"><code class="option">--safe-recover</code></a> is given):
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="option_myisamchk_backup"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_backup"><code class="option">--backup</code></a>,
            <code class="option">-B</code>
          </p><a id="idm45829034418080" class="indexterm"></a><a id="idm45829034416592" class="indexterm"></a><p>
            Make a backup of the <code class="filename">.MYD</code> file as
            <code class="filename"><em class="replaceable"><code>file_name</code></em>-<em class="replaceable"><code>time</code></em>.BAK</code>
          </p></li><li class="listitem"><p><a id="option_myisamchk_character-sets-dir"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_character-sets-dir"><code class="option">--character-sets-dir=<em class="replaceable"><code>dir_name</code></em></code></a>
          </p><a id="idm45829034409984" class="indexterm"></a><a id="idm45829034408528" class="indexterm"></a><p>
            The directory where character sets are installed. See
            <a class="xref" href="charset-configuration.html" title="10.15 Character Set Configuration">Section 10.15, “Character Set Configuration”</a>.
          </p></li><li class="listitem"><p><a id="option_myisamchk_correct-checksum"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_correct-checksum"><code class="option">--correct-checksum</code></a>
          </p><a id="idm45829034403632" class="indexterm"></a><a id="idm45829034402144" class="indexterm"></a><p>
            Correct the checksum information for the table.
          </p></li><li class="listitem"><p><a id="option_myisamchk_data-file-length"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_data-file-length"><code class="option">--data-file-length=<em class="replaceable"><code>len</code></em></code></a>,
            <code class="option">-D <em class="replaceable"><code>len</code></em></code>
          </p><a id="idm45829034397136" class="indexterm"></a><a id="idm45829034395648" class="indexterm"></a><p>
            The maximum length of the data file (when re-creating data
            file when it is <span class="quote">“<span class="quote">full</span>”</span>).
          </p></li><li class="listitem"><p>


            <a id="idm45829034392528" class="indexterm"></a>

            <a id="idm45829034391040" class="indexterm"></a>

            <a class="link" href="myisamchk-check-options.html#option_myisamchk_extend-check"><code class="option">--extend-check</code></a>,
            <code class="option">-e</code>
          </p><p>
            Do a repair that tries to recover every possible row from
            the data file. Normally, this also finds a lot of garbage
            rows. Do not use this option unless you are desperate.
          </p><p>
            See also the description of this option under table checking
            options.
          </p><p>
            For a description of the output format, see
            <a class="xref" href="myisamchk-table-info.html" title="4.6.4.5 Obtaining Table Information with myisamchk">Section 4.6.4.5, “Obtaining Table Information with myisamchk”</a>.
          </p></li><li class="listitem"><p>
            <a id="idm45829034385136" class="indexterm"></a>

            <a id="idm45829034383648" class="indexterm"></a>

            <a class="link" href="myisamchk-check-options.html#option_myisamchk_force"><code class="option">--force</code></a>,
            <code class="option">-f</code>
          </p><p>
            Overwrite old intermediate files (files with names like
            <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.TMD</code>)
            instead of aborting.
          </p></li><li class="listitem"><p><a id="option_myisamchk_keys-used"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_keys-used"><code class="option">--keys-used=<em class="replaceable"><code>val</code></em></code></a>,
            <code class="option">-k <em class="replaceable"><code>val</code></em></code>
          </p><a id="idm45829034376000" class="indexterm"></a><a id="idm45829034374512" class="indexterm"></a><p>
            For <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a>, the option value is a bit
            value that indicates which indexes to update. Each binary
            bit of the option value corresponds to a table index, where
            the first index is bit 0. An option value of 0 disables
            updates to all indexes, which can be used to get faster
            inserts. Deactivated indexes can be reactivated by using
            <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk -r</strong></span></a>.
          </p></li><li class="listitem"><p><a id="option_myisamchk_no-symlinks"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_no-symlinks"><code class="option">--no-symlinks</code></a>,
            <code class="option">-l</code>
          </p><a id="idm45829034367008" class="indexterm"></a><a id="idm45829034365520" class="indexterm"></a><p>
            Do not follow symbolic links. Normally
            <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> repairs the table that a
            symlink points to. This option does not exist as of MySQL
            4.0 because versions from 4.0 on do not remove symlinks
            during repair operations.
          </p></li><li class="listitem"><p><a id="option_myisamchk_max-record-length"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_max-record-length"><code class="option">--max-record-length=<em class="replaceable"><code>len</code></em></code></a>
          </p><a id="idm45829034359696" class="indexterm"></a><a id="idm45829034358240" class="indexterm"></a><p>
            Skip rows larger than the given length if
            <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> cannot allocate memory to hold
            them.
          </p></li><li class="listitem"><p><a id="option_myisamchk_parallel-recover"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_parallel-recover"><code class="option">--parallel-recover</code></a>,
            <code class="option">-p</code>
          </p><a id="idm45829034352336" class="indexterm"></a><a id="idm45829034350848" class="indexterm"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
              This option is deprecated in MySQL 8.0.28 and removed in
              MySQL 8.0.30.
            </p></div><p>
            Use the same technique as <code class="option">-r</code> and
            <code class="option">-n</code>, but create all the keys in parallel,
            using different threads. <span class="emphasis"><em>This is beta-quality
            code. Use at your own risk!</em></span>
          </p></li><li class="listitem"><p><a id="option_myisamchk_quick"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_quick"><code class="option">--quick</code></a>,
            <code class="option">-q</code>
          </p><a id="idm45829034344176" class="indexterm"></a><a id="idm45829034342688" class="indexterm"></a><p>
            Achieve a faster repair by modifying only the index file,
            not the data file. You can specify this option twice to
            force <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> to modify the original
            data file in case of duplicate keys.
          </p></li><li class="listitem"><p><a id="option_myisamchk_recover"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a>,
            <code class="option">-r</code>
          </p><a id="idm45829034336688" class="indexterm"></a><a id="idm45829034335200" class="indexterm"></a><p>
            Do a repair that can fix almost any problem except unique
            keys that are not unique (which is an extremely unlikely
            error with <code class="literal">MyISAM</code> tables). If you want to
            recover a table, this is the option to try first. You should
            try <a class="link" href="myisamchk-repair-options.html#option_myisamchk_safe-recover"><code class="option">--safe-recover</code></a> only if
            <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> reports that the table cannot
            be recovered using
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a>. (In the
            unlikely case that
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a> fails, the data
            file remains intact.)
          </p><p>
            If you have lots of memory, you should increase the value of
            <code class="literal">myisam_sort_buffer_size</code>.
          </p></li><li class="listitem"><p><a id="option_myisamchk_safe-recover"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_safe-recover"><code class="option">--safe-recover</code></a>,
            <code class="option">-o</code>
          </p><a id="idm45829034324240" class="indexterm"></a><a id="idm45829034322752" class="indexterm"></a><p>
            Do a repair using an old recovery method that reads through
            all rows in order and updates all index trees based on the
            rows found. This is an order of magnitude slower than
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a>, but can handle
            a couple of very unlikely cases that
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a> cannot. This
            recovery method also uses much less disk space than
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a>. Normally, you
            should repair first using
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a>, and then with
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_safe-recover"><code class="option">--safe-recover</code></a> only if
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_recover"><code class="option">--recover</code></a> fails.
          </p><p>
            If you have lots of memory, you should increase the value of
            <code class="literal">key_buffer_size</code>.
          </p></li><li class="listitem"><p><a id="option_myisamchk_set-collation"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_set-collation"><code class="option">--set-collation=<em class="replaceable"><code>name</code></em></code></a>
          </p><a id="idm45829034310864" class="indexterm"></a><a id="idm45829034309376" class="indexterm"></a><p>
            Specify the collation to use for sorting table indexes. The
            character set name is implied by the first part of the
            collation name.
          </p></li><li class="listitem"><p><a id="option_myisamchk_sort-recover"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_sort-recover"><code class="option">--sort-recover</code></a>,
            <code class="option">-n</code>
          </p><a id="idm45829034304704" class="indexterm"></a><a id="idm45829034303216" class="indexterm"></a><p>
            Force <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> to use sorting to resolve
            the keys even if the temporary files would be very large.
          </p></li><li class="listitem"><p><a id="option_myisamchk_tmpdir"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_tmpdir"><code class="option">--tmpdir=<em class="replaceable"><code>dir_name</code></em></code></a>,
            <code class="option">-t <em class="replaceable"><code>dir_name</code></em></code>
          </p><a id="idm45829034296976" class="indexterm"></a><a id="idm45829034295488" class="indexterm"></a><p>
            The path of the directory to be used for storing temporary
            files. If this is not set, <a class="link" href="myisamchk.html" title="4.6.4 myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> uses
            the value of the <code class="literal">TMPDIR</code> environment
            variable. <a class="link" href="myisamchk-repair-options.html#option_myisamchk_tmpdir"><code class="option">--tmpdir</code></a> can be
            set to a list of directory paths that are used successively
            in round-robin fashion for creating temporary files. The
            separator character between directory names is the colon
            (<code class="literal">:</code>) on Unix and the semicolon
            (<code class="literal">;</code>) on Windows.
          </p></li><li class="listitem"><p><a id="option_myisamchk_unpack"></a>
            <a class="link" href="myisamchk-repair-options.html#option_myisamchk_unpack"><code class="option">--unpack</code></a>,
            <code class="option">-u</code>
          </p><a id="idm45829034286432" class="indexterm"></a><a id="idm45829034284944" class="indexterm"></a><p>
            Unpack a table that was packed with
            <a class="link" href="myisampack.html" title="4.6.6 myisampack — Generate Compressed, Read-Only MyISAM Tables"><span class="command"><strong>myisampack</strong></span></a>.
          </p></li></ul></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="myisamchk-check-options.html">Previous <span class="navHint"> myisamchk Check Options </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="myisamchk.html">Up <span class="navHint"> myisamchk — MyISAM Table-Maintenance Utility </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="myisamchk-other-options.html">Next <span class="navHint"> Other myisamchk Options </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>