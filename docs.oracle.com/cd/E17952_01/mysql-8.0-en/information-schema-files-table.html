<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>26.3.15 The INFORMATION_SCHEMA FILES Table</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="general-information-schema-tables.html" title="26.3 INFORMATION_SCHEMA General Tables" /><link rel="prev" href="information-schema-events-table.html" title="26.3.14 The INFORMATION_SCHEMA EVENTS Table" /><link rel="next" href="information-schema-key-column-usage-table.html" title="26.3.16 The INFORMATION_SCHEMA KEY_COLUMN_USAGE Table" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="information-schema-files-table.html#information-schema-files-table">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="information-schema-events-table.html">Previous <span class="navHint"> The INFORMATION_SCHEMA EVENTS Table </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="general-information-schema-tables.html">Up <span class="navHint"> INFORMATION_SCHEMA General Tables </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="information-schema-key-column-usage-table.html">Next <span class="navHint"> The INFORMATION_SCHEMA KEY_COLUMN_USAGE Table </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="information-schema-files-table"></a>26.3.15 The INFORMATION_SCHEMA FILES Table</h3></div></div></div><a id="idm45828797396560" class="indexterm"></a><a id="idm45828797395056" class="indexterm"></a><p>
      The <code class="literal">FILES</code> table provides information about the
      files in which MySQL tablespace data is stored.
    </p><p>
      The <code class="literal">FILES</code> table provides information about
      <code class="literal">InnoDB</code> data files. In NDB Cluster, this table
      also provides information about the files in which NDB Cluster
      Disk Data tables are stored. For additional information specific
      to <code class="literal">InnoDB</code>, see
      <a class="xref" href="information-schema-files-table.html#files-table-innodb-notes" title="InnoDB Notes">InnoDB Notes</a>, later in this section;
      for additional information specific to NDB Cluster, see
      <a class="xref" href="information-schema-files-table.html#files-table-ndb-notes" title="NDB Notes">NDB Notes</a>.
    </p><p>
      The <code class="literal">FILES</code> table has these columns:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">FILE_ID</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The tablespace ID, also
          referred to as the <code class="literal">space_id</code> or
          <code class="literal">fil_space_t::id</code>.
        </p><p>
          For <code class="literal">NDB</code>: A file identifier.
          <code class="literal">FILE_ID</code> column values are auto-generated.
        </p></li><li class="listitem"><p>
          <code class="literal">FILE_NAME</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The name of the data file.
          File-per-table and general tablespaces have an
          <code class="filename">.ibd</code> file name extension. Undo
          tablespaces are prefixed by <code class="literal">undo</code>. The
          system tablespace is prefixed by <code class="literal">ibdata</code>.
          The global temporary tablespace is prefixed by
          <code class="literal">ibtmp</code>. The file name includes the file
          path, which may be relative to the MySQL data directory (the
          value of the <a class="link" href="server-system-variables.html#sysvar_datadir"><code class="literal">datadir</code></a> system
          variable).
        </p><p>
          For <code class="literal">NDB</code>: The name of an undo log file
          created by <a class="link" href="create-logfile-group.html" title="13.1.16 CREATE LOGFILE GROUP Statement"><code class="literal">CREATE LOGFILE GROUP</code></a>
          or <a class="link" href="alter-logfile-group.html" title="13.1.6 ALTER LOGFILE GROUP Statement"><code class="literal">ALTER LOGFILE GROUP</code></a>, or of a
          data file created by <a class="link" href="create-tablespace.html" title="13.1.21 CREATE TABLESPACE Statement"><code class="literal">CREATE
          TABLESPACE</code></a> or <a class="link" href="alter-tablespace.html" title="13.1.10 ALTER TABLESPACE Statement"><code class="literal">ALTER
          TABLESPACE</code></a>. In NDB 8.0, the file name is shown with
          a relative path; for an undo log file, this path is relative
          to the directory
          <code class="filename"><a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>/ndb_<a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodeid"><code class="literal">NodeId</code></a>_fs/LG</code>;
          for a data file, it is relative to the directory
          <code class="filename"><a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>/ndb_<a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodeid"><code class="literal">NodeId</code></a>_fs/TS</code>.
          This means, for example, that the name of a data file created
          with <code class="literal">ALTER TABLESPACE ts ADD DATAFILE 'data_2.dat'
          INITIAL SIZE 256M</code> is shown as
          <code class="literal">./data_2.dat</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">FILE_TYPE</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The tablespace file type. There
          are three possible file types for <code class="literal">InnoDB</code>
          files. <code class="literal">TABLESPACE</code> is the file type for any
          system, general, or file-per-table tablespace file that holds
          tables, indexes, or other forms of user data.
          <code class="literal">TEMPORARY</code> is the file type for temporary
          tablespaces. <code class="literal">UNDO LOG</code> is the file type for
          undo tablespaces, which hold undo records.
        </p><p>
          For <code class="literal">NDB</code>: One of the values <code class="literal">UNDO
          LOG</code> or <code class="literal">DATAFILE</code>. Prior to NDB
          8.0.13, <code class="literal">TABLESPACE</code> was also a possible
          value.
        </p></li><li class="listitem"><p>
          <code class="literal">TABLESPACE_NAME</code>
        </p><p>
          The name of the tablespace with which the file is associated.
        </p><p>
          For <code class="literal">InnoDB</code>: General tablespace names are as
          specified when created. File-per-table tablespace names are
          shown in the following format:
          <code class="literal"><em class="replaceable"><code>schema_name</code></em>/<em class="replaceable"><code>table_name</code></em></code>.
          The <code class="literal">InnoDB</code> system tablespace name is
          <code class="literal">innodb_system</code>. The global temporary
          tablespace name is <code class="literal">innodb_temporary</code>.
          Default undo tablespace names are
          <code class="literal">innodb_undo_001</code> and
          <code class="literal">innodb_undo_002</code>. User-created undo
          tablespace names are as specified when created.
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_CATALOG</code>
        </p><p>
          This value is always empty.
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_SCHEMA</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_NAME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">LOGFILE_GROUP_NAME</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This is always
          <code class="literal">NULL</code>.
        </p><p>
          For <code class="literal">NDB</code>: The name of the log file group to
          which the log file or data file belongs.
        </p></li><li class="listitem"><p>
          <code class="literal">LOGFILE_GROUP_NUMBER</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This is always
          <code class="literal">NULL</code>.
        </p><p>
          For <code class="literal">NDB</code>: For a Disk Data undo log file, the
          auto-generated ID number of the log file group to which the
          log file belongs. This is the same as the value shown for the
          <code class="literal">id</code> column in the
          <a class="link" href="mysql-cluster-ndbinfo-dict-obj-info.html" title="23.6.16.24 The ndbinfo dict_obj_info Table"><code class="literal">ndbinfo.dict_obj_info</code></a> table
          and the <code class="literal">log_id</code> column in the
          <a class="link" href="mysql-cluster-ndbinfo-logspaces.html" title="23.6.16.43 The ndbinfo logspaces Table"><code class="literal">ndbinfo.logspaces</code></a> and
          <a class="link" href="mysql-cluster-ndbinfo-logspaces.html" title="23.6.16.43 The ndbinfo logspaces Table"><code class="literal">ndbinfo.logspaces</code></a> tables for
          this undo log file.
        </p></li><li class="listitem"><p>
          <code class="literal">ENGINE</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This value is always
          <code class="literal">InnoDB</code>.
        </p><p>
          For <code class="literal">NDB</code>: This value is always
          <code class="literal">ndbcluster</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">FULLTEXT_KEYS</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">DELETED_ROWS</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">UPDATE_COUNT</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">FREE_EXTENTS</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The number of fully free
          extents in the current data file.
        </p><p>
          For <code class="literal">NDB</code>: The number of extents which have
          not yet been used by the file.
        </p></li><li class="listitem"><p>
          <code class="literal">TOTAL_EXTENTS</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The number of full extents used
          in the current data file. Any partial extent at the end of the
          file is not counted.
        </p><p>
          For <code class="literal">NDB</code>: The total number of extents
          allocated to the file.
        </p></li><li class="listitem"><p>
          <code class="literal">EXTENT_SIZE</code>
        </p><p>
          For <code class="literal">InnoDB</code>: Extent size is 1048576 (1MB)
          for files with a 4KB, 8KB, or 16KB page size. Extent size is
          2097152 bytes (2MB) for files with a 32KB page size, and
          4194304 (4MB) for files with a 64KB page size.
          <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> does not report
          <code class="literal">InnoDB</code> page size. Page size is defined by
          the <a class="link" href="innodb-parameters.html#sysvar_innodb_page_size"><code class="literal">innodb_page_size</code></a> system
          variable. Extent size information can also be retrieved from
          the <a class="link" href="information-schema-innodb-tablespaces-table.html" title="26.4.24 The INFORMATION_SCHEMA INNODB_TABLESPACES Table"><code class="literal">INNODB_TABLESPACES</code></a> table
          where <code class="literal">FILES.FILE_ID =
          INNODB_TABLESPACES.SPACE</code>.
        </p><p>
          For <code class="literal">NDB</code>: The size of an extent for the file
          in bytes.
        </p></li><li class="listitem"><p>
          <code class="literal">INITIAL_SIZE</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The initial size of the file in
          bytes.
        </p><p>
          For <code class="literal">NDB</code>: The size of the file in bytes.
          This is the same value that was used in the
          <code class="literal">INITIAL_SIZE</code> clause of the
          <a class="link" href="create-logfile-group.html" title="13.1.16 CREATE LOGFILE GROUP Statement"><code class="literal">CREATE LOGFILE GROUP</code></a>,
          <a class="link" href="alter-logfile-group.html" title="13.1.6 ALTER LOGFILE GROUP Statement"><code class="literal">ALTER LOGFILE GROUP</code></a>,
          <a class="link" href="create-tablespace.html" title="13.1.21 CREATE TABLESPACE Statement"><code class="literal">CREATE TABLESPACE</code></a>, or
          <a class="link" href="alter-tablespace.html" title="13.1.10 ALTER TABLESPACE Statement"><code class="literal">ALTER TABLESPACE</code></a> statement used
          to create the file.
        </p></li><li class="listitem"><p>
          <code class="literal">MAXIMUM_SIZE</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The maximum number of bytes
          permitted in the file. The value is <code class="literal">NULL</code>
          for all data files except for predefined system tablespace
          data files. Maximum system tablespace file size is defined by
          <a class="link" href="innodb-parameters.html#sysvar_innodb_data_file_path"><code class="literal">innodb_data_file_path</code></a>.
          Maximum global temporary tablespace file size is defined by
          <a class="link" href="innodb-parameters.html#sysvar_innodb_temp_data_file_path"><code class="literal">innodb_temp_data_file_path</code></a>. A
          <code class="literal">NULL</code> value for a predefined system
          tablespace data file indicates that a file size limit was not
          defined explicitly.
        </p><p>
          For <code class="literal">NDB</code>: This value is always the same as
          the <code class="literal">INITIAL_SIZE</code> value.
        </p></li><li class="listitem"><p>
          <code class="literal">AUTOEXTEND_SIZE</code>
        </p><p>
          The auto-extend size of the tablespace. For
          <code class="literal">NDB</code>, <code class="literal">AUTOEXTEND_SIZE</code> is
          always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">CREATION_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">LAST_UPDATE_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">LAST_ACCESS_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">RECOVER_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">TRANSACTION_COUNTER</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">VERSION</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This is always
          <code class="literal">NULL</code>.
        </p><p>
          For <code class="literal">NDB</code>: The version number of the file.
        </p></li><li class="listitem"><p>
          <code class="literal">ROW_FORMAT</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This is always
          <code class="literal">NULL</code>.
        </p><p>
          For <code class="literal">NDB</code>: One of <code class="literal">FIXED</code> or
          <code class="literal">DYNAMIC</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_ROWS</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">AVG_ROW_LENGTH</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">DATA_LENGTH</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">MAX_DATA_LENGTH</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">INDEX_LENGTH</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">DATA_FREE</code>
        </p><p>
          For <code class="literal">InnoDB</code>: The total amount of free space
          (in bytes) for the entire tablespace. Predefined system
          tablespaces, which include the system tablespace and temporary
          table tablespaces, may have one or more data files.
        </p><p>
          For <code class="literal">NDB</code>: This is always
          <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">CREATE_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">UPDATE_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">CHECK_TIME</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">CHECKSUM</code>
        </p><p>
          This is always <code class="literal">NULL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">STATUS</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This value is
          <code class="literal">NORMAL</code> by default.
          <code class="literal">InnoDB</code> file-per-table tablespaces may
          report <code class="literal">IMPORTING</code>, which indicates that the
          tablespace is not yet available.
        </p><p>
          For <code class="literal">NDB</code>: For NDB Cluster Disk Data files,
          this value is always <code class="literal">NORMAL</code>.
        </p></li><li class="listitem"><p>
          <code class="literal">EXTRA</code>
        </p><p>
          For <code class="literal">InnoDB</code>: This is always
          <code class="literal">NULL</code>.
        </p><p>
          For <code class="literal">NDB</code>: (<span class="emphasis"><em>NDB 8.0.15 and
          later</em></span>) For undo log files, this column shows the
          undo log buffer size; for data files, it is always
          <span class="emphasis"><em>NULL</em></span>. A more detailed explanation is
          provided in the next few paragraphs.
        </p><p>
          <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDBCLUSTER</code></a> stores a copy of each
          data file and each undo log file on each data node in the
          cluster. In NDB 8.0.13 and later, the <code class="literal">FILES</code>
          table contains only one row for each such file. Suppose that
          you run the following two statements on an NDB Cluster with
          four data nodes:
        </p><pre class="programlisting">CREATE LOGFILE GROUP mygroup
    ADD UNDOFILE 'new_undo.dat'
    INITIAL_SIZE 2G
    ENGINE NDBCLUSTER;

CREATE TABLESPACE myts
    ADD DATAFILE 'data_1.dat'
    USE LOGFILE GROUP mygroup
    INITIAL_SIZE 256M
    ENGINE NDBCLUSTER;
</pre><p>
          After running these two statements successfully, you should
          see a result similar to the one shown here for this query
          against the <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOGFILE_GROUP_NAME, FILE_TYPE, EXTRA</code></strong>
    -&gt;     <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE ENGINE = 'ndbcluster';</code></strong>

+--------------------+-----------+--------------------------+
| LOGFILE_GROUP_NAME | FILE_TYPE | EXTRA                    |
+--------------------+-----------+--------------------------+
| mygroup            | UNDO LOG  | UNDO_BUFFER_SIZE=8388608 |
| mygroup            | DATAFILE  | NULL                     |
+--------------------+-----------+--------------------------+
</pre><p>
          The undo log buffer size information was inadvertently removed
          in NDB 8.0.13, but was restored in NDB 8.0.15. (Bug #92796,
          Bug #28800252)
        </p><p>
          Prior to NDB 8.0.13, the <code class="literal">FILES</code> table
          contained a row for each of these files on each data node the
          file belonged to, as well as the size of its undo buffer. In
          these versions, the result of the same query contains one row
          per data node, as shown here:
        </p><pre class="programlisting">+--------------------+-----------+-----------------------------------------+
| LOGFILE_GROUP_NAME | FILE_TYPE | EXTRA                                   |
+--------------------+-----------+-----------------------------------------+
| mygroup            | UNDO LOG  | CLUSTER_NODE=5;UNDO_BUFFER_SIZE=8388608 |
| mygroup            | UNDO LOG  | CLUSTER_NODE=6;UNDO_BUFFER_SIZE=8388608 |
| mygroup            | UNDO LOG  | CLUSTER_NODE=7;UNDO_BUFFER_SIZE=8388608 |
| mygroup            | UNDO LOG  | CLUSTER_NODE=8;UNDO_BUFFER_SIZE=8388608 |
| mygroup            | DATAFILE  | CLUSTER_NODE=5                          |
| mygroup            | DATAFILE  | CLUSTER_NODE=6                          |
| mygroup            | DATAFILE  | CLUSTER_NODE=7                          |
| mygroup            | DATAFILE  | CLUSTER_NODE=8                          |
+--------------------+-----------+-----------------------------------------+
</pre></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a id="files-table-notes"></a>Notes</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> is a nonstandard
            <code class="literal">INFORMATION_SCHEMA</code> table.
          </p></li><li class="listitem"><p>
            As of MySQL 8.0.21, you must have the
            <a class="link" href="privileges-provided.html#priv_process"><code class="literal">PROCESS</code></a> privilege to query
            this table.
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a id="files-table-innodb-notes"></a>InnoDB Notes</h4></div></div></div><p>
        The following notes apply to <code class="literal">InnoDB</code> data
        files.
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Information reported by <code class="literal">FILES</code> is obtained
            from the <code class="literal">InnoDB</code> in-memory cache for open
            files, whereas <a class="link" href="information-schema-innodb-datafiles-table.html" title="26.4.10 The INFORMATION_SCHEMA INNODB_DATAFILES Table"><code class="literal">INNODB_DATAFILES</code></a>
            gets its data from the <code class="literal">InnoDB</code>
            <code class="literal">SYS_DATAFILES</code> internal data dictionary
            table.
          </p></li><li class="listitem"><p>
            The information provided by <code class="literal">FILES</code>
            includes global temporary tablespace information which is
            not available in the <code class="literal">InnoDB</code>
            <code class="literal">SYS_DATAFILES</code> internal data dictionary
            table, and is therefore not included in
            <a class="link" href="information-schema-innodb-datafiles-table.html" title="26.4.10 The INFORMATION_SCHEMA INNODB_DATAFILES Table"><code class="literal">INNODB_DATAFILES</code></a>.
          </p></li><li class="listitem"><p>
            Undo tablespace information is shown in
            <code class="literal">FILES</code> when separate undo tablespaces are
            present, as they are by default in MySQL 8.0.
          </p></li><li class="listitem"><p>
            The following query returns all <code class="literal">FILES</code>
            table information relating to <code class="literal">InnoDB</code>
            tablespaces.
          </p><pre class="programlisting">SELECT
  FILE_ID, FILE_NAME, FILE_TYPE, TABLESPACE_NAME, FREE_EXTENTS,
  TOTAL_EXTENTS, EXTENT_SIZE, INITIAL_SIZE, MAXIMUM_SIZE,
  AUTOEXTEND_SIZE, DATA_FREE, STATUS
FROM INFORMATION_SCHEMA.FILES
WHERE ENGINE='InnoDB'\G
</pre></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a id="files-table-ndb-notes"></a>NDB Notes</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="literal">FILES</code> table provides information
            about Disk Data <span class="emphasis"><em>files</em></span> only; you cannot
            use it for determining disk space allocation or availability
            for individual <code class="literal">NDB</code> tables. However, it is
            possible to see how much space is allocated for each
            <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDB</code></a> table having data stored on
            disk—as well as how much remains available for storage
            of data on disk for that table—using
            <a class="link" href="mysql-cluster-programs-ndb-desc.html" title="23.5.9 ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>.
          </p></li><li class="listitem"><p>
            Beginning with NDB 8.0.29 much of the information in the
            <code class="literal">FILES</code> table can also be found in the
            <a class="link" href="mysql-cluster-ndbinfo-files.html" title="23.6.16.35 The ndbinfo files Table"><code class="literal">ndbinfo.files</code></a> table.
          </p></li><li class="listitem"><p>
            The <code class="literal">CREATION_TIME</code>,
            <code class="literal">LAST_UPDATE_TIME</code>, and
            <code class="literal">LAST_ACCESSED</code> values are as reported by
            the operating system, and are not supplied by the
            <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDB</code></a> storage engine. Where no
            value is provided by the operating system, these columns
            display <code class="literal">NULL</code>.
          </p></li><li class="listitem"><p>
            The difference between the <code class="literal">TOTAL EXTENTS</code>
            and <code class="literal">FREE_EXTENTS</code> columns is the number of
            extents currently in use by the file:
          </p><pre class="programlisting">SELECT TOTAL_EXTENTS - FREE_EXTENTS AS extents_used
    FROM INFORMATION_SCHEMA.FILES
    WHERE FILE_NAME = './myfile.dat';
</pre><p>
            To approximate the amount of disk space in use by the file,
            multiply that difference by the value of the
            <code class="literal">EXTENT_SIZE</code> column, which gives the size
            of an extent for the file in bytes:
          </p><pre class="programlisting">SELECT (TOTAL_EXTENTS - FREE_EXTENTS) * EXTENT_SIZE AS bytes_used
    FROM INFORMATION_SCHEMA.FILES
    WHERE FILE_NAME = './myfile.dat';
</pre><p>
            Similarly, you can estimate the amount of space that remains
            available in a given file by multiplying
            <code class="literal">FREE_EXTENTS</code> by
            <code class="literal">EXTENT_SIZE</code>:
          </p><pre class="programlisting">SELECT FREE_EXTENTS * EXTENT_SIZE AS bytes_free
    FROM INFORMATION_SCHEMA.FILES
    WHERE FILE_NAME = './myfile.dat';
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
              The byte values produced by the preceding queries are
              approximations only, and their precision is inversely
              proportional to the value of
              <code class="literal">EXTENT_SIZE</code>. That is, the larger
              <code class="literal">EXTENT_SIZE</code> becomes, the less accurate
              the approximations are.
            </p></div><p>
            It is also important to remember that once an extent is
            used, it cannot be freed again without dropping the data
            file of which it is a part. This means that deletes from a
            Disk Data table do <span class="emphasis"><em>not</em></span> release disk
            space.
          </p><p>
            The extent size can be set in a <a class="link" href="create-tablespace.html" title="13.1.21 CREATE TABLESPACE Statement"><code class="literal">CREATE
            TABLESPACE</code></a> statement. For more information, see
            <a class="xref" href="create-tablespace.html" title="13.1.21 CREATE TABLESPACE Statement">Section 13.1.21, “CREATE TABLESPACE Statement”</a>.
          </p></li><li class="listitem"><p>
            Prior to NDB 8.0.13, an additional row was present in the
            <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table following the
            creation of a logfile group, having <code class="literal">NULL</code>
            in the <code class="literal">FILE_NAME</code> column. In NDB 8.0.13
            and later, this row— which did not correspond to any
            file—is no longer shown, and it is necessary to query
            the <a class="link" href="mysql-cluster-ndbinfo-logspaces.html" title="23.6.16.43 The ndbinfo logspaces Table"><code class="literal">ndbinfo.logspaces</code></a>
            table to obtain undo log file usage information. See the
            description of this table as well as
            <a class="xref" href="mysql-cluster-disk-data-objects.html" title="23.6.11.1 NDB Cluster Disk Data Objects">Section 23.6.11.1, “NDB Cluster Disk Data Objects”</a>, for more
            information.
          </p><p>
            The remainder of the discussion in this item applies only to
            NDB 8.0.12 and earlier. For the row having
            <code class="literal">NULL</code> in the <code class="literal">FILE_NAME</code>
            column, the value of the <code class="literal">FILE_ID</code> column
            is always <code class="literal">0</code>, that of the
            <code class="literal">FILE_TYPE</code> column is always <code class="literal">UNDO
            LOG</code>, and that of the <code class="literal">STATUS</code>
            column is always <code class="literal">NORMAL</code>. The value of the
            <code class="literal">ENGINE</code> column is always
            <code class="literal">ndbcluster</code>.
          </p><p>
            The <code class="literal">FREE_EXTENTS</code> column in this row shows
            the total number of free extents available to all undo files
            belonging to a given log file group whose name and number
            are shown in the <code class="literal">LOGFILE_GROUP_NAME</code> and
            <code class="literal">LOGFILE_GROUP_NUMBER</code> columns,
            respectively.
          </p><p>
            Suppose there are no existing log file groups on your NDB
            Cluster, and you create one using the following statement:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE LOGFILE GROUP lg1</code></strong>
         <strong class="userinput"><code>ADD UNDOFILE 'undofile.dat'</code></strong>
         <strong class="userinput"><code>INITIAL_SIZE = 16M</code></strong>
         <strong class="userinput"><code>UNDO_BUFFER_SIZE = 1M</code></strong>
         <strong class="userinput"><code>ENGINE = NDB;</code></strong>
</pre><p>
            You can now see this <code class="literal">NULL</code> row when you
            query the <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DISTINCT</code></strong>
         <strong class="userinput"><code>FILE_NAME AS File,</code></strong>
         <strong class="userinput"><code>FREE_EXTENTS AS Free,</code></strong>
         <strong class="userinput"><code>TOTAL_EXTENTS AS Total,</code></strong>
         <strong class="userinput"><code>EXTENT_SIZE AS Size,</code></strong>
         <strong class="userinput"><code>INITIAL_SIZE AS Initial</code></strong>
         <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES;</code></strong>
+--------------+---------+---------+------+----------+
| File         | Free    | Total   | Size | Initial  |
+--------------+---------+---------+------+----------+
| undofile.dat |    NULL | 4194304 |    4 | 16777216 |
| NULL         | 4184068 |    NULL |    4 |     NULL |
+--------------+---------+---------+------+----------+
</pre><p>
            The total number of free extents available for undo logging
            is always somewhat less than the sum of the
            <code class="literal">TOTAL_EXTENTS</code> column values for all undo
            files in the log file group due to overhead required for
            maintaining the undo files. This can be seen by adding a
            second undo file to the log file group, then repeating the
            previous query against the
            <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER LOGFILE GROUP lg1</code></strong>
         <strong class="userinput"><code>ADD UNDOFILE 'undofile02.dat'</code></strong>
         <strong class="userinput"><code>INITIAL_SIZE = 4M</code></strong>
         <strong class="userinput"><code>ENGINE = NDB;</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT DISTINCT</code></strong>
         <strong class="userinput"><code>FILE_NAME AS File,</code></strong>
         <strong class="userinput"><code>FREE_EXTENTS AS Free,</code></strong>
         <strong class="userinput"><code>TOTAL_EXTENTS AS Total,</code></strong>
         <strong class="userinput"><code>EXTENT_SIZE AS Size,</code></strong>
         <strong class="userinput"><code>INITIAL_SIZE AS Initial</code></strong>
         <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES;</code></strong>
+----------------+---------+---------+------+----------+
| File           | Free    | Total   | Size | Initial  |
+----------------+---------+---------+------+----------+
| undofile.dat   |    NULL | 4194304 |    4 | 16777216 |
| undofile02.dat |    NULL | 1048576 |    4 |  4194304 |
| NULL           | 5223944 |    NULL |    4 |     NULL |
+----------------+---------+---------+------+----------+
</pre><p>
            The amount of free space in bytes which is available for
            undo logging by Disk Data tables using this log file group
            can be approximated by multiplying the number of free
            extents by the initial size:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
         <strong class="userinput"><code>FREE_EXTENTS AS 'Free Extents',</code></strong>
         <strong class="userinput"><code>FREE_EXTENTS * EXTENT_SIZE AS 'Free Bytes'</code></strong>
         <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES</code></strong>
         <strong class="userinput"><code>WHERE LOGFILE_GROUP_NAME = 'lg1'</code></strong>
         <strong class="userinput"><code>AND FILE_NAME IS NULL;</code></strong>
+--------------+------------+
| Free Extents | Free Bytes |
+--------------+------------+
|      5223944 |   20895776 |
+--------------+------------+
</pre><p>
            If you create an NDB Cluster Disk Data table and then insert
            some rows into it, you can see approximately how much space
            remains for undo logging afterward, for example:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLESPACE ts1</code></strong>
         <strong class="userinput"><code>ADD DATAFILE 'data1.dat'</code></strong>
         <strong class="userinput"><code>USE LOGFILE GROUP lg1</code></strong>
         <strong class="userinput"><code>INITIAL_SIZE 512M</code></strong>
         <strong class="userinput"><code>ENGINE = NDB;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLE dd (</code></strong>
         <strong class="userinput"><code>c1 INT NOT NULL PRIMARY KEY,</code></strong>
         <strong class="userinput"><code>c2 INT,</code></strong>
         <strong class="userinput"><code>c3 DATE</code></strong>
         <strong class="userinput"><code>)</code></strong>
         <strong class="userinput"><code>TABLESPACE ts1 STORAGE DISK</code></strong>
         <strong class="userinput"><code>ENGINE = NDB;</code></strong>

mysql&gt; <strong class="userinput"><code>INSERT INTO dd VALUES</code></strong>
         <strong class="userinput"><code>(NULL, 1234567890, '2007-02-02'),</code></strong>
         <strong class="userinput"><code>(NULL, 1126789005, '2007-02-03'),</code></strong>
         <strong class="userinput"><code>(NULL, 1357924680, '2007-02-04'),</code></strong>
         <strong class="userinput"><code>(NULL, 1642097531, '2007-02-05');</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
         <strong class="userinput"><code>FREE_EXTENTS AS 'Free Extents',</code></strong>
         <strong class="userinput"><code>FREE_EXTENTS * EXTENT_SIZE AS 'Free Bytes'</code></strong>
         <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES</code></strong>
         <strong class="userinput"><code>WHERE LOGFILE_GROUP_NAME = 'lg1'</code></strong>
         <strong class="userinput"><code>AND FILE_NAME IS NULL;</code></strong>
+--------------+------------+
| Free Extents | Free Bytes |
+--------------+------------+
|      5207565 |   20830260 |
+--------------+------------+
</pre></li><li class="listitem"><p>
            Prior to NDB 8.0.13, an additional row was present in the
            <a class="link" href="information-schema-files-table.html" title="26.3.15 The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table for each NDB
            Cluster Disk Data tablespace. Because it did not correspond
            to an actual file, it was removed in NDB 8.0.13. This row
            had <code class="literal">NULL</code> for the value of the
            <code class="literal">FILE_NAME</code> column, the value of the
            <code class="literal">FILE_ID</code> column was always
            <code class="literal">0</code>, that of the
            <code class="literal">FILE_TYPE</code> column was always
            <code class="literal">TABLESPACE</code>, that of the
            <code class="literal">STATUS</code> column was always
            <code class="literal">NORMAL</code>, and the value of the
            <code class="literal">ENGINE</code> column is always
            <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDBCLUSTER</code></a>.
          </p><p>
            In NDB 8.0.13 and later, you can obtain information about
            Disk Data tablespaces using the <a class="link" href="mysql-cluster-programs-ndb-desc.html" title="23.5.9 ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>
            utility. For more information, see
            <a class="xref" href="mysql-cluster-disk-data-objects.html" title="23.6.11.1 NDB Cluster Disk Data Objects">Section 23.6.11.1, “NDB Cluster Disk Data Objects”</a>, as well
            as the description of <a class="link" href="mysql-cluster-programs-ndb-desc.html" title="23.5.9 ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>.
          </p></li><li class="listitem"><p>
            For additional information, and examples of creating,
            dropping, and obtaining information about NDB Cluster Disk
            Data objects, see <a class="xref" href="mysql-cluster-disk-data.html" title="23.6.11 NDB Cluster Disk Data Tables">Section 23.6.11, “NDB Cluster Disk Data Tables”</a>.
          </p></li></ul></div></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="information-schema-events-table.html">Previous <span class="navHint"> The INFORMATION_SCHEMA EVENTS Table </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="general-information-schema-tables.html">Up <span class="navHint"> INFORMATION_SCHEMA General Tables </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="information-schema-key-column-usage-table.html">Next <span class="navHint"> The INFORMATION_SCHEMA KEY_COLUMN_USAGE Table </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>