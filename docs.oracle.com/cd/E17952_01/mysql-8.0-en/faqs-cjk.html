<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>A.11 MySQL 8.0 FAQ: MySQL Chinese, Japanese, and Korean Character Sets</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="faqs.html" title="Appendix A MySQL 8.0 Frequently Asked Questions" /><link rel="prev" href="faqs-mysql-cluster.html" title="A.10 MySQL 8.0 FAQ: NDB Cluster" /><link rel="next" href="faqs-connectors-apis.html" title="A.12 MySQL 8.0 FAQ: Connectors &amp; APIs" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="faqs-cjk.html#faqs-cjk">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="faqs-mysql-cluster.html">Previous <span class="navHint"> MySQL 8.0 FAQ: NDB Cluster </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="faqs.html">Up <span class="navHint"> MySQL 8.0 Frequently Asked Questions </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="faqs-connectors-apis.html">Next <span class="navHint"> MySQL 8.0 FAQ: Connectors &amp; APIs </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="faqs-cjk"></a>A.11 MySQL 8.0 FAQ: MySQL Chinese, Japanese, and Korean
      Character Sets</h2></div></div></div><a id="idm45828776573648" class="indexterm"></a><a id="idm45828776572256" class="indexterm"></a><a id="idm45828776570720" class="indexterm"></a><a id="idm45828776569184" class="indexterm"></a><a id="idm45828776567664" class="indexterm"></a><a id="idm45828776566128" class="indexterm"></a><a id="idm45828776564624" class="indexterm"></a><a id="idm45828776563552" class="indexterm"></a><a id="idm45828776562032" class="indexterm"></a><a id="idm45828776560496" class="indexterm"></a><a id="idm45828776558992" class="indexterm"></a><a id="idm45828776557920" class="indexterm"></a><a id="idm45828776556384" class="indexterm"></a><a id="idm45828776554880" class="indexterm"></a><a id="idm45828776553392" class="indexterm"></a><a id="idm45828776551872" class="indexterm"></a><a id="idm45828776550368" class="indexterm"></a><a id="idm45828776549296" class="indexterm"></a><a id="idm45828776547760" class="indexterm"></a><a id="idm45828776546256" class="indexterm"></a><a id="idm45828776545184" class="indexterm"></a><a id="idm45828776543664" class="indexterm"></a><a id="idm45828776542160" class="indexterm"></a><a id="idm45828776541072" class="indexterm"></a><a id="idm45828776539552" class="indexterm"></a><a id="idm45828776538048" class="indexterm"></a><a id="idm45828776536544" class="indexterm"></a><a id="idm45828776535024" class="indexterm"></a><a id="idm45828776533520" class="indexterm"></a><a id="idm45828776532000" class="indexterm"></a><a id="idm45828776530480" class="indexterm"></a><a id="idm45828776528976" class="indexterm"></a><a id="idm45828776527472" class="indexterm"></a><a id="idm45828776525968" class="indexterm"></a><a id="idm45828776524464" class="indexterm"></a><a id="idm45828776522960" class="indexterm"></a><a id="idm45828776521456" class="indexterm"></a><a id="idm45828776519952" class="indexterm"></a><a id="idm45828776518448" class="indexterm"></a><a id="idm45828776516944" class="indexterm"></a><a id="idm45828776515440" class="indexterm"></a><a id="idm45828776513936" class="indexterm"></a><a id="idm45828776512432" class="indexterm"></a><a id="idm45828776511360" class="indexterm"></a><a id="idm45828776509840" class="indexterm"></a><a id="idm45828776508320" class="indexterm"></a><a id="idm45828776506800" class="indexterm"></a><a id="idm45828776505296" class="indexterm"></a><a id="idm45828776503808" class="indexterm"></a><a id="idm45828776502320" class="indexterm"></a><p>
      This set of Frequently Asked Questions derives from the experience
      of MySQL's Support and Development groups in handling many
      inquiries about CJK (Chinese-Japanese-Korean) issues.
    </p><div class="qandaset"><a id="idm45828776500224"></a><dl><dt>A.11.1. <a href="faqs-cjk.html#faq-cjk-what-cjk-avail">
        What CJK character sets are available in MySQL?
      </a></dt><dt>A.11.2. <a href="faqs-cjk.html#faq-cjk-why-cjk-question-marks">
        I have inserted CJK characters into my table. Why does
        SELECT display them as
        “?” characters?
      </a></dt><dt>A.11.3. <a href="faqs-cjk.html#faq-cjk-what-problems-big5">
        What problems should I be aware of when working with the Big5
        Chinese character set?
      </a></dt><dt>A.11.4. <a href="faqs-cjk.html#faq-cjk-what-japanese-chars-fail">
        Why do Japanese character set conversions fail?
      </a></dt><dt>A.11.5. <a href="faqs-cjk.html#faq-cjk-how-convert-81ca-cp932">
        What should I do if I want to convert SJIS
        81CA to cp932?
      </a></dt><dt>A.11.6. <a href="faqs-cjk.html#faq-cjk-how-represent-yen">
        How does MySQL represent the Yen (¥) sign?
      </a></dt><dt>A.11.7. <a href="faqs-cjk.html#faq-cjk-what-problems-korean">
        Of what issues should I be aware when working with Korean
        character sets in MySQL?
      </a></dt><dt>A.11.8. <a href="faqs-cjk.html#faq-cjk-why-incorrect-string-value">
        Why do I get Incorrect string value error
        messages?
      </a></dt><dt>A.11.9. <a href="faqs-cjk.html#faq-cjk-why-gui-not-display-cjk">
        Why does my GUI front end or browser display CJK characters
        incorrectly in my application using Access, PHP, or another API?
      </a></dt><dt>A.11.10. <a href="faqs-cjk.html#faq-cjk-how-use-4-0-charset">
        I've upgraded to MySQL 8.0. How can I revert to
        behavior like that in MySQL 4.0 with regard to character sets?
      </a></dt><dt>A.11.11. <a href="faqs-cjk.html#faq-cjk-why-cjk-fail-searches">
        Why do some LIKE and
        FULLTEXT searches with CJK characters fail?
      </a></dt><dt>A.11.12. <a href="faqs-cjk.html#faq-cjk-how-know-avail-characters">
        How do I know whether character X is
        available in all character sets?
      </a></dt><dt>A.11.13. <a href="faqs-cjk.html#faq-cjk-how-cjk-sort-unicode-1">
        Why do CJK strings sort incorrectly in Unicode? (I)
      </a></dt><dt>A.11.14. <a href="faqs-cjk.html#faq-cjk-how-cjk-sort-unicode-2">
        Why do CJK strings sort incorrectly in Unicode? (II)
      </a></dt><dt>A.11.15. <a href="faqs-cjk.html#faq-cjk-why-supplement-char-rejected">
        Why are my supplementary characters rejected by MySQL?
      </a></dt><dt>A.11.16. <a href="faqs-cjk.html#faq-cjk-why-cjk-not-cjkv">
        Should “CJK” be “CJKV”?
      </a></dt><dt>A.11.17. <a href="faqs-cjk.html#faq-cjk-how-cjk-db-table-names">
        Does MySQL permit CJK characters to be used in database and
        table names?
      </a></dt><dt>A.11.18. <a href="faqs-cjk.html#faq-cjk-where-doc-translations">
        Where can I find translations of the MySQL Manual into Chinese,
        Japanese, and Korean?
      </a></dt><dt>A.11.19. <a href="faqs-cjk.html#faq-cjk-help-with-cjk">
        Where can I get help with CJK and related issues in MySQL?
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="faq-cjk-what-cjk-avail"></a><a id="idm45828776499456"></a><p><strong>A.11.1.</strong></p></td><td align="left" valign="top"><p>
        What CJK character sets are available in MySQL?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        The list of CJK character sets may vary depending on your MySQL
        version. For example, the <code class="literal">gb18030</code> character
        set is not supported prior to MySQL 5.7.4. However, since the
        name of the applicable language appears in the
        <code class="literal">DESCRIPTION</code> column for every entry in the
        <a class="link" href="information-schema-character-sets-table.html" title="26.3.4 The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">INFORMATION_SCHEMA.CHARACTER_SETS</code></a>
        table, you can obtain a current list of all the non-Unicode CJK
        character sets using this query:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARACTER_SET_NAME, DESCRIPTION</code></strong>
       <strong class="userinput"><code>FROM INFORMATION_SCHEMA.CHARACTER_SETS</code></strong>
       <strong class="userinput"><code>WHERE DESCRIPTION LIKE '%Chin%'</code></strong>
       <strong class="userinput"><code>OR DESCRIPTION LIKE '%Japanese%'</code></strong>
       <strong class="userinput"><code>OR DESCRIPTION LIKE '%Korean%'</code></strong>
       <strong class="userinput"><code>ORDER BY CHARACTER_SET_NAME;</code></strong>
+--------------------+---------------------------------+
| CHARACTER_SET_NAME | DESCRIPTION                     |
+--------------------+---------------------------------+
| big5               | Big5 Traditional Chinese        |
| cp932              | SJIS for Windows Japanese       |
| eucjpms            | UJIS for Windows Japanese       |
| euckr              | EUC-KR Korean                   |
| gb18030            | China National Standard GB18030 |
| gb2312             | GB2312 Simplified Chinese       |
| gbk                | GBK Simplified Chinese          |
| sjis               | Shift-JIS Japanese              |
| ujis               | EUC-JP Japanese                 |
+--------------------+---------------------------------+
</pre><p>
        (For more information, see
        <a class="xref" href="information-schema-character-sets-table.html" title="26.3.4 The INFORMATION_SCHEMA CHARACTER_SETS Table">Section 26.3.4, “The INFORMATION_SCHEMA CHARACTER_SETS Table”</a>.)
      </p><p>
        MySQL supports three variants of the
        <span class="firstterm">GB</span> (<span class="foreignphrase"><em class="foreignphrase">Guojia
        Biaozhun</em></span>, or <span class="emphasis"><em>National
        Standard</em></span>, or <span class="emphasis"><em>Simplified Chinese</em></span>)
        character sets which are official in the People's Republic of
        China: <code class="literal">gb2312</code>, <code class="literal">gbk</code>, and
        (as of MySQL 5.7.4) <code class="literal">gb18030</code>.
      </p><p>
        Sometimes people try to insert <code class="literal">gbk</code> characters
        into <code class="literal">gb2312</code>, and it works most of the time
        because <code class="literal">gbk</code> is a superset of
        <code class="literal">gb2312</code>. But eventually they try to insert a
        rarer Chinese character and it does not work. (For an example,
        see Bug #16072).
      </p><p>
        Here, we try to clarify exactly what characters are legitimate
        in <code class="literal">gb2312</code> or <code class="literal">gbk</code>, with
        reference to the official documents. Please check these
        references before reporting <code class="literal">gb2312</code> or
        <code class="literal">gbk</code> bugs:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The MySQL <code class="literal">gbk</code> character set is in reality
            <span class="quote">“<span class="quote">Microsoft code page 936</span>”</span>. This differs from
            the official <code class="literal">gbk</code> for characters
            <code class="literal">A1A4</code> (middle dot),
            <code class="literal">A1AA</code> (em dash),
            <code class="literal">A6E0-A6F5</code>, and
            <code class="literal">A8BB-A8C0</code>.
          </p></li><li class="listitem"><p>
            For a listing of <code class="literal">gbk</code>/Unicode mappings,
            see
            <a class="ulink" href="http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT" target="_top">http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT</a>.
          </p></li></ul></div><p>
        It is also possible to store CJK characters in Unicode character
        sets, although the available collations may not sort characters
        quite as you expect:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="literal">utf8</code> and <code class="literal">ucs2</code>
            character sets support the characters from Unicode Basic
            Multilingual Plane (BMP). These characters have code point
            values between <code class="literal">U+0000</code> and
            <code class="literal">U+FFFF</code>.
          </p></li><li class="listitem"><p>
            The <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>,
            <code class="literal">utf16le</code>, and <code class="literal">utf32</code>
            character sets support BMP characters, as well as
            supplementary characters that lie outside the BMP.
            Supplementary characters have code point values between
            <code class="literal">U+10000</code> and <code class="literal">U+10FFFF</code>.
          </p></li></ul></div><p>
        The collation used for a Unicode character set determines the
        ability to sort (that is, distinguish) characters in the set:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Collations based on Unicode Collation Algorithm (UCA) 4.0.0
            distinguish only BMP characters.
          </p></li><li class="listitem"><p>
            Collations based on UCA 5.2.0 or 9.0.0 distinguish BMP and
            supplementary characters.
          </p></li><li class="listitem"><p>
            Non-UCA collations may not distinguish all Unicode
            characters. For example, the <code class="literal">utf8mb4</code>
            default collation is <code class="literal">utf8mb4_general_ci</code>,
            which distinguishes only BMP characters.
          </p></li></ul></div><p>
        Moreover, distinguishing characters is not the same as ordering
        them per the conventions of a given CJK language. Currently,
        MySQL has only one CJK-specific UCA collation,
        <code class="literal">gb18030_unicode_520_ci</code> (which requires use of
        the non-Unicode <code class="literal">gb18030</code> character set).
      </p><p>
        For information about Unicode collations and their
        differentiating properties, including collation properties for
        supplementary characters, see
        <a class="xref" href="charset-unicode-sets.html" title="10.10.1 Unicode Character Sets">Section 10.10.1, “Unicode Character Sets”</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-why-cjk-question-marks"></a><a id="idm45828776449104"></a><p><strong>A.11.2.</strong></p></td><td align="left" valign="top"><p>
        I have inserted CJK characters into my table. Why does
        <a class="link" href="select.html" title="13.2.13 SELECT Statement"><code class="literal">SELECT</code></a> display them as
        <span class="quote">“<span class="quote">?</span>”</span> characters?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        This problem is usually due to a setting in MySQL that does not
        match the settings for the application program or the operating
        system. Here are some common steps for correcting these types of
        issues:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>Be certain of what MySQL version you are
            using</em></span>.
          </p><p>
            Use the statement <code class="literal">SELECT VERSION();</code> to
            determine this.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Make sure that the database is actually using the
            desired character set</em></span>.
          </p><p>
            People often think that the client character set is always
            the same as either the server character set or the character
            set used for display purposes. However, both of these are
            false assumptions. You can make sure by checking the result
            of <code class="literal">SHOW CREATE TABLE
            <em class="replaceable"><code>tablename</code></em></code> or, better
            yet, by using this statement:
          </p><pre class="programlisting">SELECT character_set_name, collation_name
    FROM information_schema.columns
    WHERE table_schema = your_database_name
        AND table_name = your_table_name
        AND column_name = your_column_name;
</pre></li><li class="listitem"><p>
            <span class="emphasis"><em>Determine the hexadecimal value of the character
            or characters that are not being displayed
            correctly</em></span>.
          </p><p>
            You can obtain this information for a column
            <em class="replaceable"><code>column_name</code></em> in the table
            <em class="replaceable"><code>table_name</code></em> using the following
            query:
          </p><pre class="programlisting">SELECT HEX(<em class="replaceable"><code>column_name</code></em>)
FROM <em class="replaceable"><code>table_name</code></em>;
</pre><p>
            <code class="literal">3F</code> is the encoding for the
            <code class="literal">?</code> character; this means that
            <code class="literal">?</code> is the character actually stored in the
            column. This most often happens because of a problem
            converting a particular character from your client character
            set to the target character set.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Make sure that a round trip is possible. When you
            select <em class="replaceable"><code>literal</code></em> (or
            <em class="replaceable"><code>_introducer hexadecimal-value</code></em>),
            do you obtain <em class="replaceable"><code>literal</code></em> as a
            result</em></span>?
          </p><p>
            For example, the Japanese Katakana character
            <span class="foreignphrase"><em class="foreignphrase">Pe</em></span> (<code class="literal">ペ'</code>)
            exists in all CJK character sets, and has the code point
            value (hexadecimal coding) <code class="literal">0x30da</code>. To
            test a round trip for this character, use this query:
          </p><pre class="programlisting">SELECT 'ペ' AS `ペ`;         /* or SELECT _ucs2 0x30da; */
</pre><p>
            If the result is not also <code class="literal">ペ</code>, the round
            trip failed.
          </p><p>
            For bug reports regarding such failures, we might ask you to
            follow up with <code class="literal">SELECT HEX('ペ');</code>. Then
            we can determine whether the client encoding is correct.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Make sure that the problem is not with the browser
            or other application, rather than with MySQL</em></span>.
          </p><p>
            Use the <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client program to
            accomplish this task. If <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> displays
            characters correctly but your application does not, your
            problem is probably due to system settings.
          </p><p>
            To determine your settings, use the
            <a class="link" href="show-variables.html" title="13.7.7.41 SHOW VARIABLES Statement"><code class="literal">SHOW VARIABLES</code></a> statement,
            whose output should resemble what is shown here:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong>
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | utf8                                   |
| character_set_connection | utf8                                   |
| character_set_database   | latin1                                 |
| character_set_filesystem | binary                                 |
| character_set_results    | utf8                                   |
| character_set_server     | latin1                                 |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
</pre><p>
            These are typical character-set settings for an
            international-oriented client (notice the use of
            <code class="literal">utf8</code> Unicode) connected to a server in
            the West (<code class="literal">latin1</code> is a West Europe
            character set).
          </p><p>
            Although Unicode (usually the <code class="literal">utf8</code>
            variant on Unix, and the <code class="literal">ucs2</code> variant on
            Windows) is preferable to Latin, it is often not what your
            operating system utilities support best. Many Windows users
            find that a Microsoft character set, such as
            <code class="literal">cp932</code> for Japanese Windows, is suitable.
          </p><p>
            If you cannot control the server settings, and you have no
            idea what setting your underlying computer uses, try
            changing to a common character set for the country that
            you're in (<code class="literal">euckr</code> = Korea;
            <code class="literal">gb18030</code>, <code class="literal">gb2312</code> or
            <code class="literal">gbk</code> = People's Republic of China;
            <code class="literal">big5</code> = Taiwan; <code class="literal">sjis</code>,
            <code class="literal">ujis</code>, <code class="literal">cp932</code>, or
            <code class="literal">eucjpms</code> = Japan; <code class="literal">ucs2</code>
            or <code class="literal">utf8</code> = anywhere). Usually it is
            necessary to change only the client and connection and
            results settings. The <a class="link" href="set-names.html" title="13.7.6.3 SET NAMES Statement"><code class="literal">SET
            NAMES</code></a>. statement changes all three at once. For
            example:
          </p><pre class="programlisting">SET NAMES 'big5';
</pre><p>
            Once the setting is correct, you can make it permanent by
            editing <code class="filename">my.cnf</code> or
            <code class="filename">my.ini</code>. For example you might add lines
            looking like these:
          </p><pre class="programlisting">[mysqld]
character-set-server=big5
[client]
default-character-set=big5
</pre><p>
            It is also possible that there are issues with the API
            configuration setting being used in your application; see
            <em class="citetitle">Why does my GUI front end or browser not display
            CJK characters correctly...?</em> for more
            information.
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-what-problems-big5"></a><a id="idm45828776393856"></a><p><strong>A.11.3.</strong></p></td><td align="left" valign="top"><p>
        What problems should I be aware of when working with the Big5
        Chinese character set?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL supports the Big5 character set which is common in Hong
        Kong and Taiwan (Republic of China). The MySQL
        <code class="literal">big5</code> character set is in reality Microsoft
        code page 950, which is very similar to the original
        <code class="literal">big5</code> character set.
      </p><p>
        A feature request for adding <code class="literal">HKSCS</code> extensions
        has been filed. People who need this extension may find the
        suggested patch for Bug #13577 to be of interest.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-what-japanese-chars-fail"></a><a id="idm45828776388848"></a><p><strong>A.11.4.</strong></p></td><td align="left" valign="top"><p>
        Why do Japanese character set conversions fail?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL supports the <code class="literal">sjis</code>,
        <code class="literal">ujis</code>, <code class="literal">cp932</code>, and
        <code class="literal">eucjpms</code> character sets, as well as Unicode. A
        common need is to convert between character sets. For example,
        there might be a Unix server (typically with
        <code class="literal">sjis</code> or <code class="literal">ujis</code>) and a
        Windows client (typically with <code class="literal">cp932</code>).
      </p><p>
        In the following conversion table, the <code class="literal">ucs2</code>
        column represents the source, and the <code class="literal">sjis</code>,
        <code class="literal">cp932</code>, <code class="literal">ujis</code>, and
        <code class="literal">eucjpms</code> columns represent the destinations;
        that is, the last 4 columns provide the hexadecimal result when
        we use <a class="link" href="cast-functions.html#function_convert"><code class="literal">CONVERT(ucs2)</code></a> or we assign
        a <code class="literal">ucs2</code> column containing the value to an
        <code class="literal">sjis</code>, <code class="literal">cp932</code>,
        <code class="literal">ujis</code>, or <code class="literal">eucjpms</code> column.
      </p><div class="informaltable"><table summary="Result of assigning various ucs2 characters to a column that uses the sjis, cp932, ujis, or eucjpms character set."><col style="width: 40%" /><col align="left" style="width: 12%" /><col align="right" style="width: 12%" /><col align="right" style="width: 12%" /><col align="right" style="width: 12%" /><col align="right" style="width: 12%" /><thead><tr>
            <th scope="col">Character Name</th>
            <th scope="col">ucs2</th>
            <th scope="col">sjis</th>
            <th scope="col">cp932</th>
            <th scope="col">ujis</th>
            <th scope="col">eucjpms</th>
          </tr></thead><tbody><tr>
            <th scope="row">BROKEN BAR</th>
            <td>00A6</td>
            <td>3F</td>
            <td>3F</td>
            <td>8FA2C3</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH BROKEN BAR</th>
            <td>FFE4</td>
            <td>3F</td>
            <td>FA55</td>
            <td>3F</td>
            <td>8FA2</td>
          </tr><tr>
            <th scope="row">YEN SIGN</th>
            <td>00A5</td>
            <td>3F</td>
            <td>3F</td>
            <td>20</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH YEN SIGN</th>
            <td>FFE5</td>
            <td>818F</td>
            <td>818F</td>
            <td>A1EF</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">TILDE</th>
            <td>007E</td>
            <td>7E</td>
            <td>7E</td>
            <td>7E</td>
            <td>7E</td>
          </tr><tr>
            <th scope="row">OVERLINE</th>
            <td>203E</td>
            <td>3F</td>
            <td>3F</td>
            <td>20</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">HORIZONTAL BAR</th>
            <td>2015</td>
            <td>815C</td>
            <td>815C</td>
            <td>A1BD</td>
            <td>A1BD</td>
          </tr><tr>
            <th scope="row">EM DASH</th>
            <td>2014</td>
            <td>3F</td>
            <td>3F</td>
            <td>3F</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">REVERSE SOLIDUS</th>
            <td>005C</td>
            <td>815F</td>
            <td>5C</td>
            <td>5C</td>
            <td>5C</td>
          </tr><tr>
            <th scope="row">FULLWIDTH REVERSE SOLIDUS</th>
            <td>FF3C</td>
            <td>3F</td>
            <td>815F</td>
            <td>3F</td>
            <td>A1C0</td>
          </tr><tr>
            <th scope="row">WAVE DASH</th>
            <td>301C</td>
            <td>8160</td>
            <td>3F</td>
            <td>A1C1</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH TILDE</th>
            <td>FF5E</td>
            <td>3F</td>
            <td>8160</td>
            <td>3F</td>
            <td>A1C1</td>
          </tr><tr>
            <th scope="row">DOUBLE VERTICAL LINE</th>
            <td>2016</td>
            <td>8161</td>
            <td>3F</td>
            <td>A1C2</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">PARALLEL TO</th>
            <td>2225</td>
            <td>3F</td>
            <td>8161</td>
            <td>3F</td>
            <td>A1C2</td>
          </tr><tr>
            <th scope="row">MINUS SIGN</th>
            <td>2212</td>
            <td>817C</td>
            <td>3F</td>
            <td>A1DD</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH HYPHEN-MINUS</th>
            <td>FF0D</td>
            <td>3F</td>
            <td>817C</td>
            <td>3F</td>
            <td>A1DD</td>
          </tr><tr>
            <th scope="row">CENT SIGN</th>
            <td>00A2</td>
            <td>8191</td>
            <td>3F</td>
            <td>A1F1</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH CENT SIGN</th>
            <td>FFE0</td>
            <td>3F</td>
            <td>8191</td>
            <td>3F</td>
            <td>A1F1</td>
          </tr><tr>
            <th scope="row">POUND SIGN</th>
            <td>00A3</td>
            <td>8192</td>
            <td>3F</td>
            <td>A1F2</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH POUND SIGN</th>
            <td>FFE1</td>
            <td>3F</td>
            <td>8192</td>
            <td>3F</td>
            <td>A1F2</td>
          </tr><tr>
            <th scope="row">NOT SIGN</th>
            <td>00AC</td>
            <td>81CA</td>
            <td>3F</td>
            <td>A2CC</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH NOT SIGN</th>
            <td>FFE2</td>
            <td>3F</td>
            <td>81CA</td>
            <td>3F</td>
            <td>A2CC</td>
          </tr></tbody></table></div><p>
        Now consider the following portion of the table.
      </p><div class="informaltable"><table summary="Result of assigning NOT SIGN and FULLWIDTH NOT SIGN ucs2 characters to a column that uses the sjis, cp932, ujis, or eucjpms character set."><col style="width: 55%" /><col align="right" style="width: 15%" /><col align="right" style="width: 15%" /><col align="right" style="width: 15%" /><thead><tr>
            <th scope="col"></th>
            <th scope="col">ucs2</th>
            <th scope="col">sjis</th>
            <th scope="col">cp932</th>
          </tr></thead><tbody><tr>
            <th scope="row">NOT SIGN</th>
            <td>00AC</td>
            <td>81CA</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH NOT SIGN</th>
            <td>FFE2</td>
            <td>3F</td>
            <td>81CA</td>
          </tr></tbody></table></div><p>
        This means that MySQL converts the <code class="literal">NOT SIGN</code>
        (Unicode <code class="literal">U+00AC</code>) to <code class="literal">sjis</code>
        code point <code class="literal">0x81CA</code> and to
        <code class="literal">cp932</code> code point <code class="literal">3F</code>.
        (<code class="literal">3F</code> is the question mark (<span class="quote">“<span class="quote">?</span>”</span>.
        This is what is always used when the conversion cannot be
        performed.)
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-convert-81ca-cp932"></a><a id="idm45828776202640"></a><p><strong>A.11.5.</strong></p></td><td align="left" valign="top"><p>
        What should I do if I want to convert SJIS
        <code class="literal">81CA</code> to <code class="literal">cp932</code>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Our answer is: <span class="quote">“<span class="quote">?</span>”</span>. There are disadvantages to
        this, and many people would prefer a <span class="quote">“<span class="quote">loose</span>”</span>
        conversion, so that <code class="literal">81CA (NOT SIGN)</code> in
        <code class="literal">sjis</code> becomes <code class="literal">81CA (FULLWIDTH NOT
        SIGN)</code> in <code class="literal">cp932</code>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-represent-yen"></a><a id="idm45828776195376"></a><p><strong>A.11.6.</strong></p></td><td align="left" valign="top"><p>
        How does MySQL represent the Yen (<code class="literal">¥</code>) sign?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        A problem arises because some versions of Japanese character
        sets (both <code class="literal">sjis</code> and <code class="literal">euc</code>)
        treat <code class="literal">5C</code> as a
        <span class="firstterm">reverse solidus</span>
        (<code class="literal">\</code>, also known as a backslash), whereas
        others treat it as a yen sign (<code class="literal">¥</code>).
      </p><p>
        MySQL follows only one version of the JIS (Japanese Industrial
        Standards) standard description. In MySQL,
        <span class="emphasis"><em><code class="literal">5C</code> is always the reverse solidus
        (<code class="literal">\</code>)</em></span>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-what-problems-korean"></a><a id="idm45828776186096"></a><p><strong>A.11.7.</strong></p></td><td align="left" valign="top"><p>
        Of what issues should I be aware when working with Korean
        character sets in MySQL?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        In theory, while there have been several versions of the
        <code class="literal">euckr</code> (<span class="firstterm">Extended
        Unix Code Korea</span>) character set, only one problem has
        been noted. We use the <span class="quote">“<span class="quote">ASCII</span>”</span> variant of EUC-KR,
        in which the code point <code class="literal">0x5c</code> is REVERSE
        SOLIDUS, that is <code class="literal">\</code>, instead of the
        <span class="quote">“<span class="quote">KS-Roman</span>”</span> variant of EUC-KR, in which the code
        point <code class="literal">0x5c</code> is <code class="literal">WON SIGN</code>
        (<code class="literal">₩</code>). This means that you cannot convert
        Unicode <code class="literal">U+20A9</code> to <code class="literal">euckr</code>:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
           <strong class="userinput"><code>CONVERT('₩' USING euckr) AS euckr,</code></strong>
           <strong class="userinput"><code>HEX(CONVERT('₩' USING euckr)) AS hexeuckr;</code></strong>
+-------+----------+
| euckr | hexeuckr |
+-------+----------+
| ?     | 3F       |
+-------+----------+
</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-why-incorrect-string-value"></a><a id="idm45828776173248"></a><p><strong>A.11.8.</strong></p></td><td align="left" valign="top"><p>
        Why do I get <span class="errortext">Incorrect string value</span> error
        messages?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        To see the problem, create a table with one Unicode
        (<code class="literal">ucs2</code>) column and one Chinese
        (<code class="literal">gb2312</code>) column.
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE ch</code></strong>
       <strong class="userinput"><code>(ucs2 CHAR(3) CHARACTER SET ucs2,</code></strong>
       <strong class="userinput"><code>gb2312 CHAR(3) CHARACTER SET gb2312);</code></strong>
</pre><p>
        In nonstrict SQL mode, try to place the rare character
        <code class="literal">汌</code> in both columns.
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode = '';</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO ch VALUES ('A汌B','A汌B');</code></strong>
Query OK, 1 row affected, 1 warning (0.00 sec)
</pre><p>
        The <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a> produces a warning.
        Use the following statement to see what it is:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1366
Message: Incorrect string value: '\xE6\xB1\x8CB' for column 'gb2312' at row 1
</pre><p>
        So it is a warning about the <code class="literal">gb2312</code> column
        only.
      </p><pre class="programlisting">mysql&gt; SELECT ucs2,HEX(ucs2),gb2312,HEX(gb2312) FROM ch;
+-------+--------------+--------+-------------+
| ucs2  | HEX(ucs2)    | gb2312 | HEX(gb2312) |
+-------+--------------+--------+-------------+
| A汌B | 00416C4C0042 | A?B    | 413F42      |
+-------+--------------+--------+-------------+
</pre><p>
        Several things need explanation here:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            The <code class="literal">汌</code> character is not in the
            <code class="literal">gb2312</code> character set, as described
            earlier.
          </p></li><li class="listitem"><p>
            If you are using an old version of MySQL, you may see a
            different message.
          </p></li><li class="listitem"><p>
            A warning occurs rather than an error because MySQL is not
            set to use strict SQL mode. In nonstrict mode, MySQL tries
            to do what it can, to get the best fit, rather than give up.
            With strict SQL mode, the <span class="errortext">Incorrect string
            value</span> message occurs as an error rather than a
            warning, and the <a class="link" href="insert.html" title="13.2.7 INSERT Statement"><code class="literal">INSERT</code></a>
            fails.
          </p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-why-gui-not-display-cjk"></a><a id="idm45828776149248"></a><p><strong>A.11.9.</strong></p></td><td align="left" valign="top"><p>
        Why does my GUI front end or browser display CJK characters
        incorrectly in my application using Access, PHP, or another API?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Obtain a direct connection to the server using the
        <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, and try the same query there.
        If <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> responds correctly, the trouble may
        be that your application interface requires initialization. Use
        <a class="link" href="mysql.html" title="4.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> to tell you what character set or sets
        it uses with the statement <code class="literal">SHOW VARIABLES LIKE
        'char%';</code>. If you are using Access, you are most likely
        connecting with Connector/ODBC. In this case, you should check
        <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/connector-odbc-en/connector-odbc-configuration.html" target="_top">Configuring Connector/ODBC</a>. If, for example,
        you use <code class="literal">big5</code>, you would enter <code class="literal">SET
        NAMES 'big5'</code>. (In this case, no <code class="literal">;</code>
        character is required.) If you are using ASP, you might need to
        add <a class="link" href="set-names.html" title="13.7.6.3 SET NAMES Statement"><code class="literal">SET NAMES</code></a> in the code. Here
        is an example that has worked in the past:
      </p><pre class="programlisting">&lt;%
Session.CodePage=0
Dim strConnection
Dim Conn
strConnection="driver={MySQL ODBC 3.51 Driver};server=<em class="replaceable"><code>server</code></em>;uid=<em class="replaceable"><code>username</code></em>;" \
               &amp; "pwd=<em class="replaceable"><code>password</code></em>;database=<em class="replaceable"><code>database</code></em>;stmt=SET NAMES 'big5';"
Set Conn = Server.CreateObject("ADODB.Connection")
Conn.Open strConnection
%&gt;
</pre><p>
        In much the same way, if you are using any character set other
        than <code class="literal">latin1</code> with Connector/NET, you must specify the
        character set in the connection string. See
        <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/connector-net-en/connector-net-connections.html" target="_top">Connector/NET Connections</a>, for more
        information.
      </p><p>
        If you are using PHP, try this:
      </p><pre class="programlisting">&lt;?php
  $link = new mysqli($host, $usr, $pwd, $db);

  if( mysqli_connect_errno() )
  {
    printf("Connect failed: %s\n", mysqli_connect_error());
    exit();
  }

  $link-&gt;query("SET NAMES 'utf8'");
?&gt;
</pre><p>
        In this case, we used <a class="link" href="set-names.html" title="13.7.6.3 SET NAMES Statement"><code class="literal">SET NAMES</code></a>
        to change <a class="link" href="server-system-variables.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a>,
        <a class="link" href="server-system-variables.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>, and
        <a class="link" href="server-system-variables.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>.
      </p><p>
        Another issue often encountered in PHP applications has to do
        with assumptions made by the browser. Sometimes adding or
        changing a <code class="literal">&lt;meta&gt;</code> tag suffices to
        correct the problem: for example, to insure that the user agent
        interprets page content as <code class="literal">UTF-8</code>, include
        <code class="literal">&lt;meta http-equiv="Content-Type" content="text/html;
        charset=utf-8"&gt;</code> in the
        <code class="literal">&lt;head&gt;</code> section of the HTML page.
      </p><p>
        If you are using Connector/J, see
        <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/connector-j-8.0-en/connector-j-reference-charsets.html" target="_top">Using Character Sets and Unicode</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-use-4-0-charset"></a><a id="idm45828776120672"></a><p><strong>A.11.10.</strong></p></td><td align="left" valign="top"><p>
        I've upgraded to MySQL 8.0. How can I revert to
        behavior like that in MySQL 4.0 with regard to character sets?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        In MySQL Version 4.0, there was a single <span class="quote">“<span class="quote">global</span>”</span>
        character set for both server and client, and the decision as to
        which character to use was made by the server administrator.
        This changed starting with MySQL Version 4.1. What happens now
        is a <span class="quote">“<span class="quote">handshake</span>”</span>, as described in
        <a class="xref" href="charset-connection.html" title="10.4 Connection Character Sets and Collations">Section 10.4, “Connection Character Sets and Collations”</a>:
      </p><div class="blockquote"><blockquote class="blockquote"><p>
          When a client connects, it sends to the server the name of the
          character set that it wants to use. The server uses the name
          to set the
          <a class="link" href="server-system-variables.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a>,
          <a class="link" href="server-system-variables.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>, and
          <a class="link" href="server-system-variables.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
          system variables. In effect, the server performs a
          <a class="link" href="set-names.html" title="13.7.6.3 SET NAMES Statement"><code class="literal">SET NAMES</code></a> operation using the
          character set name.
        </p></blockquote></div><p>
        The effect of this is that you cannot control the client
        character set by starting <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
        <a class="link" href="server-system-variables.html#sysvar_character_set_server"><code class="option">--character-set-server=utf8</code></a>.
        However, some Asian customers prefer the MySQL 4.0 behavior. To
        make it possible to retain this behavior, we added a
        <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> switch,
        <a class="link" href="server-options.html#option_mysqld_character-set-client-handshake"><code class="option">--character-set-client-handshake</code></a>,
        which can be turned off with
        <a class="link" href="server-options.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a>.
        If you start <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
        <a class="link" href="server-options.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a>,
        then, when a client connects, it sends to the server the name of
        the character set that it wants to use. However, <span class="emphasis"><em>the
        server ignores this request from the client</em></span>.
      </p><p>
        By way of example, suppose that your favorite server character
        set is <code class="literal">latin1</code>. Suppose further that the
        client uses <code class="literal">utf8</code> because this is what the
        client's operating system supports. Start the server with
        <code class="literal">latin1</code> as its default character set:
      </p><pre class="programlisting">mysqld --character-set-server=latin1
</pre><p>
        And then start the client with the default character set
        <code class="literal">utf8</code>:
      </p><pre class="programlisting">mysql --default-character-set=utf8
</pre><p>
        The resulting settings can be seen by viewing the output of
        <a class="link" href="show-variables.html" title="13.7.7.41 SHOW VARIABLES Statement"><code class="literal">SHOW VARIABLES</code></a>:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong>
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | utf8                                   |
| character_set_connection | utf8                                   |
| character_set_database   | latin1                                 |
| character_set_filesystem | binary                                 |
| character_set_results    | utf8                                   |
| character_set_server     | latin1                                 |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
</pre><p>
        Now stop the client, and stop the server using
        <a class="link" href="mysqladmin.html" title="4.5.2 mysqladmin — A MySQL Server Administration Program"><span class="command"><strong>mysqladmin</strong></span></a>. Then start the server again, but
        this time tell it to skip the handshake like so:
      </p><pre class="programlisting">mysqld --character-set-server=utf8 --skip-character-set-client-handshake
</pre><p>
        Start the client with <code class="literal">utf8</code> once again as the
        default character set, then display the resulting settings:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong>
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | latin1                                 |
| character_set_connection | latin1                                 |
| character_set_database   | latin1                                 |
| character_set_filesystem | binary                                 |
| character_set_results    | latin1                                 |
| character_set_server     | latin1                                 |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
</pre><p>
        As you can see by comparing the differing results from
        <a class="link" href="show-variables.html" title="13.7.7.41 SHOW VARIABLES Statement"><code class="literal">SHOW VARIABLES</code></a>, the server
        ignores the client's initial settings if the
        <a class="link" href="server-options.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a>
        option is used.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-why-cjk-fail-searches"></a><a id="idm45828776082080"></a><p><strong>A.11.11.</strong></p></td><td align="left" valign="top"><p>
        Why do some <a class="link" href="string-comparison-functions.html#operator_like"><code class="literal">LIKE</code></a> and
        <code class="literal">FULLTEXT</code> searches with CJK characters fail?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        For <a class="link" href="string-comparison-functions.html#operator_like"><code class="literal">LIKE</code></a> searches, there is a very
        simple problem with binary string column types such as
        <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a class="link" href="blob.html" title="11.3.4 The BLOB and TEXT Types"><code class="literal">BLOB</code></a>: we must know where
        characters end. With multibyte character sets, different
        characters might have different octet lengths. For example, in
        <code class="literal">utf8</code>, <code class="literal">A</code> requires one byte
        but <code class="literal">ペ</code> requires three bytes, as shown here:
      </p><pre class="programlisting">+-------------------------+---------------------------+
| OCTET_LENGTH(_utf8 'A') | OCTET_LENGTH(_utf8 'ペ') |
+-------------------------+---------------------------+
|                       1 |                         3 |
+-------------------------+---------------------------+
</pre><p>
        If we do not know where the first character in a string ends, we
        do not know where the second character begins, in which case
        even very simple searches such as
        <a class="link" href="string-comparison-functions.html#operator_like"><code class="literal">LIKE '_A%'</code></a> fail.
        The solution is to use a nonbinary string column type defined to
        have the proper CJK character set. For example: <code class="literal">mycol
        TEXT CHARACTER SET sjis</code>. Alternatively, convert to a
        CJK character set before comparing.
      </p><p>
        This is one reason why MySQL cannot permit encodings of
        nonexistent characters. If it is not strict about rejecting bad
        input, it has no way of knowing where characters end.
      </p><p>
        For <code class="literal">FULLTEXT</code> searches, we must know where
        words begin and end. With Western languages, this is rarely a
        problem because most (if not all) of these use an
        easy-to-identify word boundary: the space character. However,
        this is not usually the case with Asian writing. We could use
        arbitrary halfway measures, like assuming that all Han
        characters represent words, or (for Japanese) depending on
        changes from Katakana to Hiragana due to grammatical endings.
        However, the only sure solution requires a comprehensive word
        list, which means that we would have to include a dictionary in
        the server for each Asian language supported. This is simply not
        feasible.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-know-avail-characters"></a><a id="idm45828776065392"></a><p><strong>A.11.12.</strong></p></td><td align="left" valign="top"><p>
        How do I know whether character <em class="replaceable"><code>X</code></em> is
        available in all character sets?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        The majority of simplified Chinese and basic nonhalfwidth
        Japanese Kana characters appear in all CJK character sets. The
        following stored procedure accepts a <code class="literal">UCS-2</code>
        Unicode character, converts it to other character sets, and
        displays the results in hexadecimal.
      </p><pre class="programlisting">DELIMITER //

CREATE PROCEDURE p_convert(ucs2_char CHAR(1) CHARACTER SET ucs2)
BEGIN

CREATE TABLE tj
             (ucs2 CHAR(1) character set ucs2,
              utf8 CHAR(1) character set utf8,
              big5 CHAR(1) character set big5,
              cp932 CHAR(1) character set cp932,
              eucjpms CHAR(1) character set eucjpms,
              euckr CHAR(1) character set euckr,
              gb2312 CHAR(1) character set gb2312,
              gbk CHAR(1) character set gbk,
              sjis CHAR(1) character set sjis,
              ujis CHAR(1) character set ujis);

INSERT INTO tj (ucs2) VALUES (ucs2_char);

UPDATE tj SET utf8=ucs2,
              big5=ucs2,
              cp932=ucs2,
              eucjpms=ucs2,
              euckr=ucs2,
              gb2312=ucs2,
              gbk=ucs2,
              sjis=ucs2,
              ujis=ucs2;

/* If there are conversion problems, UPDATE produces warnings. */

SELECT hex(ucs2) AS ucs2,
       hex(utf8) AS utf8,
       hex(big5) AS big5,
       hex(cp932) AS cp932,
       hex(eucjpms) AS eucjpms,
       hex(euckr) AS euckr,
       hex(gb2312) AS gb2312,
       hex(gbk) AS gbk,
       hex(sjis) AS sjis,
       hex(ujis) AS ujis
FROM tj;

DROP TABLE tj;

END//

DELIMITER ;
</pre><p>
        The input can be any single <code class="literal">ucs2</code> character,
        or it can be the code value (hexadecimal representation) of that
        character. For example, from Unicode's list of
        <code class="literal">ucs2</code> encodings and names
        (<a class="ulink" href="http://www.unicode.org/Public/UNIDATA/UnicodeData.txt" target="_top">http://www.unicode.org/Public/UNIDATA/UnicodeData.txt</a>),
        we know that the Katakana character
        <span class="foreignphrase"><em class="foreignphrase">Pe</em></span> appears in all CJK character
        sets, and that its code value is <code class="literal">X'30DA'</code>. If
        we use this value as the argument to
        <code class="literal">p_convert()</code>, the result is as shown here:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CALL p_convert(X'30DA');</code></strong>
+------+--------+------+-------+---------+-------+--------+------+------+------+
| ucs2 | utf8   | big5 | cp932 | eucjpms | euckr | gb2312 | gbk  | sjis | ujis |
+------+--------+------+-------+---------+-------+--------+------+------+------+
| 30DA | E3839A | C772 | 8379  | A5DA    | ABDA  | A5DA   | A5DA | 8379 | A5DA |
+------+--------+------+-------+---------+-------+--------+------+------+------+
</pre><p>
        Since none of the column values is <code class="literal">3F</code> (that
        is, the question mark character, <code class="literal">?</code>), we know
        that every conversion worked.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-cjk-sort-unicode-1"></a><a id="idm45828776050048"></a><p><strong>A.11.13.</strong></p></td><td align="left" valign="top"><p>
        Why do CJK strings sort incorrectly in Unicode? (I)
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        CJK sorting problems that occurred in older MySQL versions can
        be solved as of MySQL 8.0 by using the
        <code class="literal">utf8mb4</code> character set and the
        <code class="literal">utf8mb4_ja_0900_as_cs</code> collation.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-cjk-sort-unicode-2"></a><a id="idm45828776046448"></a><p><strong>A.11.14.</strong></p></td><td align="left" valign="top"><p>
        Why do CJK strings sort incorrectly in Unicode? (II)
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        CJK sorting problems that occurred in older MySQL versions can
        be solved as of MySQL 8.0 by using the
        <code class="literal">utf8mb4</code> character set and the
        <code class="literal">utf8mb4_ja_0900_as_cs</code> collation.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-why-supplement-char-rejected"></a><a id="idm45828776042848"></a><p><strong>A.11.15.</strong></p></td><td align="left" valign="top"><p>
        Why are my supplementary characters rejected by MySQL?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Supplementary characters lie outside the Unicode <span class="emphasis"><em>Basic
        Multilingual Plane / Plane 0</em></span>. BMP characters have
        code point values between <code class="literal">U+0000</code> and
        <code class="literal">U+FFFF</code>. Supplementary characters have code
        point values between <code class="literal">U+10000</code> and
        <code class="literal">U+10FFFF</code>.
      </p><p>
        To store supplementary characters, you must use a character set
        that permits them:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="literal">utf8</code> and <code class="literal">ucs2</code>
            character sets support BMP characters only.
          </p><p>
            The <code class="literal">utf8</code> character set permits only
            <code class="literal">UTF-8</code> characters that take up to three
            bytes. This has led to reports such as that found in Bug
            #12600, which we rejected as <span class="quote">“<span class="quote">not a bug</span>”</span>. With
            <code class="literal">utf8</code>, MySQL must truncate an input string
            when it encounters bytes that it does no understand.
            Otherwise, it is unknown how long the bad multibyte
            character is.
          </p><p>
            One possible workaround is to use <code class="literal">ucs2</code>
            instead of <code class="literal">utf8</code>, in which case the
            <span class="quote">“<span class="quote">bad</span>”</span> characters are changed to question marks.
            However, no truncation takes place. You can also change the
            data type to <a class="link" href="blob.html" title="11.3.4 The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
            <a class="link" href="binary-varbinary.html" title="11.3.3 The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>, which perform no
            validity checking.
          </p></li><li class="listitem"><p>
            The <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>,
            <code class="literal">utf16le</code>, and <code class="literal">utf32</code>
            character sets support BMP characters, as well as
            supplementary characters outside the BMP.
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-why-cjk-not-cjkv"></a><a id="idm45828776022080"></a><p><strong>A.11.16.</strong></p></td><td align="left" valign="top"><p>
        Should <span class="quote">“<span class="quote">CJK</span>”</span> be <span class="quote">“<span class="quote">CJKV</span>”</span>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        No. The term <span class="quote">“<span class="quote">CJKV</span>”</span>
        (<span class="firstterm">Chinese Japanese Korean
        Vietnamese</span>) refers to Vietnamese character sets which
        contain Han (originally Chinese) characters. MySQL supports the
        modern Vietnamese script with Western characters, but does not
        support the old Vietnamese script using Han characters.
      </p><p>
        As of MySQL 5.6, there are Vietnamese collations for Unicode
        character sets, as described in
        <a class="xref" href="charset-unicode-sets.html" title="10.10.1 Unicode Character Sets">Section 10.10.1, “Unicode Character Sets”</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-how-cjk-db-table-names"></a><a id="idm45828776016624"></a><p><strong>A.11.17.</strong></p></td><td align="left" valign="top"><p>
        Does MySQL permit CJK characters to be used in database and
        table names?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Yes.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-where-doc-translations"></a><a id="idm45828776014624"></a><p><strong>A.11.18.</strong></p></td><td align="left" valign="top"><p>
        Where can I find translations of the MySQL Manual into Chinese,
        Japanese, and Korean?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        The Japanese translation of the MySQL 5.6 manual can be
        downloaded from <a class="ulink" href="https://dev.mysql.com/doc/" target="_top">https://dev.mysql.com/doc/</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a id="faq-cjk-help-with-cjk"></a><a id="idm45828776011936"></a><p><strong>A.11.19.</strong></p></td><td align="left" valign="top"><p>
        Where can I get help with CJK and related issues in MySQL?
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        The following resources are available:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              A listing of MySQL user groups can be found at
              <a class="ulink" href="https://wikis.oracle.com/display/mysql/List+of+MySQL+User+Groups" target="_top">https://wikis.oracle.com/display/mysql/List+of+MySQL+User+Groups</a>.
            </p></li><li class="listitem"><p>
              View feature requests relating to character set issues at
              <a class="ulink" href="http://tinyurl.com/y6xcuf" target="_top">http://tinyurl.com/y6xcuf</a>.
            </p></li><li class="listitem"><p>
              Visit the MySQL
              <a class="ulink" href="https://forums.mysql.com/list.php?103" target="_top">Character Sets,
              Collation, Unicode Forum</a>.
              <a class="ulink" href="http://forums.mysql.com/" target="_top">http://forums.mysql.com/</a> also provides
              foreign-language forums.
            </p></li></ul></div><p>
      </p></td></tr></tbody></table></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="faqs-mysql-cluster.html">Previous <span class="navHint"> MySQL 8.0 FAQ: NDB Cluster </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="faqs.html">Up <span class="navHint"> MySQL 8.0 Frequently Asked Questions </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="faqs-connectors-apis.html">Next <span class="navHint"> MySQL 8.0 FAQ: Connectors &amp; APIs </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>