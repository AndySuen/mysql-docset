<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.1.6.4 Binary Logging Options and Variables</title><link rel="stylesheet" type="text/css" href="mvl-otn.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual" /><link rel="up" href="replication-options.html" title="17.1.6 Replication and Binary Logging Options and Variables" /><link rel="prev" href="replication-options-replica.html" title="17.1.6.3 Replica Server Options and Variables" /><link rel="next" href="replication-options-gtids.html" title="17.1.6.5 Global Transaction ID System Variables" /><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="replication-options-binary-log.html#replication-options-binary-log">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page [access key: p]" href="replication-options-replica.html">Previous <span class="navHint"> Replica Server Options and Variables </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page [access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation [access key: u]" href="replication-options.html">Up <span class="navHint"> Replication and Binary Logging Options and Variables </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page [access key: n]" href="replication-options-gtids.html">Next <span class="navHint"> Global Transaction ID System Variables </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="replication-options-binary-log"></a>17.1.6.4 Binary Logging Options and Variables</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="replication-options-binary-log.html#replication-optvars-binlog" title="Startup Options Used with Binary Logging">Startup Options Used with Binary Logging</a></p></li><li class="listitem"><p><a class="xref" href="replication-options-binary-log.html#replication-sysvars-binlog" title="System Variables Used with Binary Logging">System Variables Used with Binary Logging</a></p></li></ul></div><p>
      You can use the <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> options and system
      variables that are described in this section to affect the
      operation of the binary log as well as to control which statements
      are written to the binary log. For additional information about
      the binary log, see <a class="xref" href="binary-log.html" title="5.4.4 The Binary Log">Section 5.4.4, “The Binary Log”</a>. For additional
      information about using MySQL server options and system variables,
      see <a class="xref" href="server-options.html" title="5.1.7 Server Command Options">Section 5.1.7, “Server Command Options”</a>, and
      <a class="xref" href="server-system-variables.html" title="5.1.8 Server System Variables">Section 5.1.8, “Server System Variables”</a>.
    </p><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a id="replication-optvars-binlog"></a>Startup Options Used with Binary Logging</h5></div></div></div><p>
        The following list describes startup options for enabling and
        configuring the binary log. System variables used with binary
        logging are discussed later in this section.
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="option_mysqld_binlog-row-event-max-size"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-row-event-max-size"><code class="option">--binlog-row-event-max-size=<em class="replaceable"><code>N</code></em></code></a>
          </p><a id="idm45828862587728" class="indexterm"></a><a id="idm45828862586224" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog-row-event-max-size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-row-event-max-size=#</code></td>
</tr><tr><th>System Variable (≥ 8.0.14)</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_event_max_size">binlog_row_event_max_size</a></code></td>
</tr><tr><th>Scope (≥ 8.0.14)</th>
<td>Global</td>
</tr><tr><th>Dynamic (≥ 8.0.14)</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies (≥ 8.0.14)</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">8192</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">256</code></td>
</tr><tr><th>Maximum Value (64-bit platforms)</th>
<td><code class="literal">18446744073709551615</code></td>
</tr><tr><th>Maximum Value (32-bit platforms)</th>
<td><code class="literal">4294967295</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr></tbody></table></div><p>
            When row-based binary logging is used, this setting is a
            soft limit on the maximum size of a row-based binary log
            event, in bytes. Where possible, rows stored in the binary
            log are grouped into events with a size not exceeding the
            value of this setting. If an event cannot be split, the
            maximum size can be exceeded. The value must be (or else
            gets rounded down to) a multiple of 256. The default is 8192
            bytes.
          </p></li><li class="listitem"><p><a id="option_mysqld_log-bin"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin[=<em class="replaceable"><code>base_name</code></em>]</code></a>
          </p><a id="idm45828862551536" class="indexterm"></a><a id="idm45828862550048" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log-bin"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-bin=file_name</code></td>
</tr><tr><th>Type</th>
<td>File name</td>
</tr></tbody></table></div><p>
            Specifies the base name to use for binary log files. With
            binary logging enabled, the server logs all statements that
            change data to the binary log, which is used for backup and
            replication. The binary log is a sequence of files with a
            base name and numeric extension. The
            <code class="option">--log-bin</code> option value is the base name for
            the log sequence. The server creates binary log files in
            sequence by adding a numeric suffix to the base name.
          </p><p>
            If you do not supply the <code class="option">--log-bin</code> option,
            MySQL uses <code class="filename">binlog</code> as the default base
            name for the binary log files. For compatibility with
            earlier releases, if you supply the
            <code class="option">--log-bin</code> option with no string or with an
            empty string, the base name defaults to
            <code class="filename"><em class="replaceable"><code>host_name</code></em>-bin</code>,
            using the name of the host machine.
          </p><p>
            The default location for binary log files is the data
            directory. You can use the <code class="option">--log-bin</code> option
            to specify an alternative location, by adding a leading
            absolute path name to the base name to specify a different
            directory. When the server reads an entry from the binary
            log index file, which tracks the binary log files that have
            been used, it checks whether the entry contains a relative
            path. If it does, the relative part of the path is replaced
            with the absolute path set using the
            <code class="option">--log-bin</code> option. An absolute path recorded
            in the binary log index file remains unchanged; in such a
            case, the index file must be edited manually to enable a new
            path or paths to be used. The binary log file base name and
            any specified path are available as the
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin_basename"><code class="literal">log_bin_basename</code></a> system
            variable.
          </p><p>
            In earlier MySQL versions, binary logging was disabled by
            default, and was enabled if you specified the
            <code class="option">--log-bin</code> option. From MySQL 8.0, binary
            logging is enabled by default, whether or not you specify
            the <code class="option">--log-bin</code> option. The exception is if
            you use <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to initialize the data
            directory manually by invoking it with the
            <code class="option">--initialize</code> or
            <code class="option">--initialize-insecure</code> option, when binary
            logging is disabled by default. It is possible to enable
            binary logging in this case by specifying the
            <code class="option">--log-bin</code> option. When binary logging is
            enabled, the <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a> system
            variable, which shows the status of binary logging on the
            server, is set to ON.


          </p><p>
            To disable binary logging, you can specify the
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--skip-log-bin</code></a>
            or
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--disable-log-bin</code></a>
            option at startup. If either of these options is specified
            and <code class="option">--log-bin</code> is also specified, the option
            specified later takes precedence. When binary logging is
            disabled, the <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a>
            system variable is set to OFF.
          </p><p>
            When GTIDs are in use on the server, if you disable binary
            logging when restarting the server after an abnormal
            shutdown, some GTIDs are likely to be lost, causing
            replication to fail. In a normal shutdown, the set of GTIDs
            from the current binary log file is saved in the
            <code class="literal">mysql.gtid_executed</code> table. Following an
            abnormal shutdown where this did not happen, during recovery
            the GTIDs are added to the table from the binary log file,
            provided that binary logging is still enabled. If binary
            logging is disabled for the server restart, the server
            cannot access the binary log file to recover the GTIDs, so
            replication cannot be started. Binary logging can be
            disabled safely after a normal shutdown.
          </p><p>
            The <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="option">--log-slave-updates</code></a> and
            <a class="link" href="replication-options-replica.html#sysvar_slave_preserve_commit_order"><code class="option">--slave-preserve-commit-order</code></a>
            options require binary logging. If you disable binary
            logging, either omit these options, or specify
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="option">--log-slave-updates=OFF</code></a> and
            <a class="link" href="replication-options-replica.html#sysvar_slave_preserve_commit_order"><code class="option">--skip-slave-preserve-commit-order</code></a>.
            MySQL disables these options by default when
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--skip-log-bin</code></a>
            or
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--disable-log-bin</code></a>
            is specified. If you specify
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="option">--log-slave-updates</code></a> or
            <a class="link" href="replication-options-replica.html#sysvar_slave_preserve_commit_order"><code class="option">--slave-preserve-commit-order</code></a>
            together with
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--skip-log-bin</code></a>
            or
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--disable-log-bin</code></a>,
            a warning or error message is issued.
          </p><p>
            In MySQL 5.7, a server ID had to be specified when binary
            logging was enabled, or the server would not start. In MySQL
            8.0, the
            <a class="link" href="replication-options.html#sysvar_server_id"><code class="literal">server_id</code></a> system variable
            is set to 1 by default. The server can now be started with
            this default server ID when binary logging is enabled, but
            an informational message is issued if you do not specify a
            server ID explicitly by setting the
            <a class="link" href="replication-options.html#sysvar_server_id"><code class="literal">server_id</code></a> system variable.
            For servers that are used in a replication topology, you
            must specify a unique nonzero server ID for each server.
          </p><p>
            For information on the format and management of the binary
            log, see <a class="xref" href="binary-log.html" title="5.4.4 The Binary Log">Section 5.4.4, “The Binary Log”</a>.
          </p></li><li class="listitem"><p><a id="option_mysqld_log-bin-index"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin-index"><code class="option">--log-bin-index[=<em class="replaceable"><code>file_name</code></em>]</code></a>
          </p><a id="idm45828862502992" class="indexterm"></a><a id="idm45828862501504" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log-bin-index"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-bin-index=file_name</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_bin_index">log_bin_index</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>File name</td>
</tr></tbody></table></div><p>
            The name for the binary log index file, which contains the
            names of the binary log files. By default, it has the same
            location and base name as the value specified for the binary
            log files using the <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>
            option, plus the extension <code class="filename">.index</code>. If
            you do not specify <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>,
            the default binary log index file name is
            <code class="filename">binlog.index</code>. If you specify
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> option with no
            string or an empty string, the default binary log index file
            name is
            <code class="filename"><em class="replaceable"><code>host_name</code></em>-bin.index</code>,
            using the name of the host machine.
          </p><p>
            For information on the format and management of the binary
            log, see <a class="xref" href="binary-log.html" title="5.4.4 The Binary Log">Section 5.4.4, “The Binary Log”</a>.
          </p></li></ul></div><p><strong>Statement selection options. </strong>
          The options in the following list affect which statements are
          written to the binary log, and thus sent by a replication
          source server to its replicas. There are also options for
          replicas that control which statements received from the
          source should be executed or ignored. For details, see
          <a class="xref" href="replication-options-replica.html" title="17.1.6.3 Replica Server Options and Variables">Section 17.1.6.3, “Replica Server Options and Variables”</a>.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="option_mysqld_binlog-do-db"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=<em class="replaceable"><code>db_name</code></em></code></a>
          </p><a id="idm45828862469648" class="indexterm"></a><a id="idm45828862468160" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog-do-db"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-do-db=name</code></td>
</tr><tr><th>Type</th>
<td>String</td>
</tr></tbody></table></div><p>
            This option affects binary logging in a manner similar to
            the way that
            <a class="link" href="replication-options-replica.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db</code></a> affects
            replication.
          </p><p>
            The effects of this option depend on whether the
            statement-based or row-based logging format is in use, in
            the same way that the effects of
            <a class="link" href="replication-options-replica.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db</code></a> depend on
            whether statement-based or row-based replication is in use.
            You should keep in mind that the format used to log a given
            statement may not necessarily be the same as that indicated
            by the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a>. For example,
            DDL statements such as <a class="link" href="create-table.html" title="13.1.20 CREATE TABLE Statement"><code class="literal">CREATE
            TABLE</code></a> and <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER
            TABLE</code></a> are always logged as statements, without
            regard to the logging format in effect, so the following
            statement-based rules for <code class="option">--binlog-do-db</code>
            always apply in determining whether or not the statement is
            logged.
          </p><p><strong>Statement-based logging. </strong>
              Only those statements are written to the binary log where
              the default database (that is, the one selected by
              <a class="link" href="use.html" title="13.8.4 USE Statement"><code class="literal">USE</code></a>) is
              <em class="replaceable"><code>db_name</code></em>. To specify more than
              one database, use this option multiple times, once for
              each database; however, doing so does
              <span class="emphasis"><em>not</em></span> cause cross-database statements
              such as <code class="literal">UPDATE
              <em class="replaceable"><code>some_db.some_table</code></em> SET
              foo='bar'</code> to be logged while a different
              database (or no database) is selected.
            </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p>
              To specify multiple databases you
              <span class="emphasis"><em>must</em></span> use multiple instances of this
              option. Because database names can contain commas, the
              list is treated as the name of a single database if you
              supply a comma-separated list.
            </p></div><p>
            An example of what does not work as you might expect when
            using statement-based logging: If the server is started with
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=sales</code></a> and you
            issue the following statements, the
            <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement is
            <span class="emphasis"><em>not</em></span> logged:
          </p><pre class="programlisting">USE prices;
UPDATE sales.january SET amount=amount+1000;
</pre><p>
            The main reason for this <span class="quote">“<span class="quote">just check the default
            database</span>”</span> behavior is that it is difficult from the
            statement alone to know whether it should be replicated (for
            example, if you are using multiple-table
            <a class="link" href="delete.html" title="13.2.2 DELETE Statement"><code class="literal">DELETE</code></a> statements or
            multiple-table <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a>
            statements that act across multiple databases). It is also
            faster to check only the default database rather than all
            databases if there is no need.
          </p><p>
            Another case which may not be self-evident occurs when a
            given database is replicated even though it was not
            specified when setting the option. If the server is started
            with <code class="option">--binlog-do-db=sales</code>, the following
            <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement is logged
            even though <code class="literal">prices</code> was not included when
            setting <code class="option">--binlog-do-db</code>:
          </p><pre class="programlisting">USE sales;
UPDATE prices.discounts SET percentage = percentage + 10;
</pre><p>
            Because <code class="literal">sales</code> is the default database
            when the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement is
            issued, the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> is logged.
          </p><p><strong>Row-based logging. </strong>
              Logging is restricted to database
              <em class="replaceable"><code>db_name</code></em>. Only changes to tables
              belonging to <em class="replaceable"><code>db_name</code></em> are
              logged; the default database has no effect on this.
              Suppose that the server is started with
              <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=sales</code></a> and
              row-based logging is in effect, and then the following
              statements are executed:
            </p><pre class="programlisting">USE prices;
UPDATE sales.february SET amount=amount+100;
</pre><p>
            The changes to the <code class="literal">february</code> table in the
            <code class="literal">sales</code> database are logged in accordance
            with the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement;
            this occurs whether or not the
            <a class="link" href="use.html" title="13.8.4 USE Statement"><code class="literal">USE</code></a> statement was issued.
            However, when using the row-based logging format and
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=sales</code></a>, changes
            made by the following <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a>
            are not logged:
          </p><pre class="programlisting">USE prices;
UPDATE prices.march SET amount=amount-25;
</pre><p>
            Even if the <code class="literal">USE prices</code> statement were
            changed to <code class="literal">USE sales</code>, the
            <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement's
            effects would still not be written to the binary log.
          </p><p>
            Another important difference in
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a> handling for
            statement-based logging as opposed to the row-based logging
            occurs with regard to statements that refer to multiple
            databases. Suppose that the server is started with
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=db1</code></a>, and the
            following statements are executed:
          </p><pre class="programlisting">USE db1;
UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
</pre><p>
            If you are using statement-based logging, the updates to
            both tables are written to the binary log. However, when
            using the row-based format, only the changes to
            <code class="literal">table1</code> are logged;
            <code class="literal">table2</code> is in a different database, so it
            is not changed by the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a>.
            Now suppose that, instead of the <code class="literal">USE db1</code>
            statement, a <code class="literal">USE db4</code> statement had been
            used:
          </p><pre class="programlisting">USE db4;
UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
</pre><p>
            In this case, the <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a>
            statement is not written to the binary log when using
            statement-based logging. However, when using row-based
            logging, the change to <code class="literal">table1</code> is logged,
            but not that to <code class="literal">table2</code>—in other
            words, only changes to tables in the database named by
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a> are logged,
            and the choice of default database has no effect on this
            behavior.
          </p></li><li class="listitem"><p><a id="option_mysqld_binlog-ignore-db"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db=<em class="replaceable"><code>db_name</code></em></code></a>
          </p><a id="idm45828862397040" class="indexterm"></a><a id="idm45828862395552" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog-ignore-db"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-ignore-db=name</code></td>
</tr><tr><th>Type</th>
<td>String</td>
</tr></tbody></table></div><p>
            This option affects binary logging in a manner similar to
            the way that
            <a class="link" href="replication-options-replica.html#option_mysqld_replicate-ignore-db"><code class="option">--replicate-ignore-db</code></a> affects
            replication.
          </p><p>
            The effects of this option depend on whether the
            statement-based or row-based logging format is in use, in
            the same way that the effects of
            <a class="link" href="replication-options-replica.html#option_mysqld_replicate-ignore-db"><code class="option">--replicate-ignore-db</code></a> depend
            on whether statement-based or row-based replication is in
            use. You should keep in mind that the format used to log a
            given statement may not necessarily be the same as that
            indicated by the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a>. For example,
            DDL statements such as <a class="link" href="create-table.html" title="13.1.20 CREATE TABLE Statement"><code class="literal">CREATE
            TABLE</code></a> and <a class="link" href="alter-table.html" title="13.1.9 ALTER TABLE Statement"><code class="literal">ALTER
            TABLE</code></a> are always logged as statements, without
            regard to the logging format in effect, so the following
            statement-based rules for
            <code class="option">--binlog-ignore-db</code> always apply in
            determining whether or not the statement is logged.
          </p><p><strong>Statement-based logging. </strong>
              Tells the server to not log any statement where the
              default database (that is, the one selected by
              <a class="link" href="use.html" title="13.8.4 USE Statement"><code class="literal">USE</code></a>) is
              <em class="replaceable"><code>db_name</code></em>.
            </p><p>
            When there is no default database, no
            <code class="option">--binlog-ignore-db</code> options are applied, and
            such statements are always logged. (Bug #11829838, Bug
            #60188)
          </p><p><strong>Row-based format. </strong>
              Tells the server not to log updates to any tables in the
              database <em class="replaceable"><code>db_name</code></em>. The current
              database has no effect.
            </p><p>
            When using statement-based logging, the following example
            does not work as you might expect. Suppose that the server
            is started with
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db=sales</code></a> and
            you issue the following statements:
          </p><pre class="programlisting">USE prices;
UPDATE sales.january SET amount=amount+1000;
</pre><p>
            The <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement
            <span class="emphasis"><em>is</em></span> logged in such a case because
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db</code></a> applies
            only to the default database (determined by the
            <a class="link" href="use.html" title="13.8.4 USE Statement"><code class="literal">USE</code></a> statement). Because the
            <code class="literal">sales</code> database was specified explicitly
            in the statement, the statement has not been filtered.
            However, when using row-based logging, the
            <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement's
            effects are <span class="emphasis"><em>not</em></span> written to the binary
            log, which means that no changes to the
            <code class="literal">sales.january</code> table are logged; in this
            instance,
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db=sales</code></a>
            causes <span class="emphasis"><em>all</em></span> changes made to tables in
            the source's copy of the <code class="literal">sales</code>
            database to be ignored for purposes of binary logging.
          </p><p>
            To specify more than one database to ignore, use this option
            multiple times, once for each database. Because database
            names can contain commas, the list is treated as the name of
            a single database if you supply a comma-separated list.
          </p><p>
            You should not use this option if you are using
            cross-database updates and you do not want these updates to
            be logged.
          </p></li></ul></div><p><a id="replication-optvars-binlog-checksums"></a><strong>Checksum options. </strong>
          MySQL supports reading and writing of binary log checksums.
          These are enabled using the two options listed here:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="option_mysqld_binlog-checksum"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-checksum"><code class="option">--binlog-checksum={NONE|CRC32}</code></a>
          </p><a id="idm45828862354704" class="indexterm"></a><a id="idm45828862353216" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog-checksum"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-checksum=type</code></td>
</tr><tr><th>Type</th>
<td>String</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">CRC32</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">NONE</code></p><p class="valid-value"><code class="literal">CRC32</code></p></td>
</tr></tbody></table></div><p>
            Enabling this option causes the source to write checksums
            for events written to the binary log. Set to
            <code class="literal">NONE</code> to disable, or the name of the
            algorithm to be used for generating checksums; currently,
            only CRC32 checksums are supported, and CRC32 is the
            default. You cannot change the setting for this option
            within a transaction.
          </p></li></ul></div><p>
        To control reading of checksums by the replica (from the relay
        log), use the
        <a class="link" href="replication-options-replica.html#option_mysqld_slave-sql-verify-checksum"><code class="option">--slave-sql-verify-checksum</code></a>
        option.
      </p><p><strong>Testing and debugging options. </strong>
          The following binary log options are used in replication
          testing and debugging. They are not intended for use in normal
          operations.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="option_mysqld_max-binlog-dump-events"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_max-binlog-dump-events"><code class="option">--max-binlog-dump-events=<em class="replaceable"><code>N</code></em></code></a>
          </p><a id="idm45828862329904" class="indexterm"></a><a id="idm45828862328400" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for max-binlog-dump-events"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--max-binlog-dump-events=#</code></td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">0</code></td>
</tr></tbody></table></div><p>
            This option is used internally by the MySQL test suite for
            replication testing and debugging.
          </p></li><li class="listitem"><p><a id="option_mysqld_sporadic-binlog-dump-fail"></a>
            <a class="link" href="replication-options-binary-log.html#option_mysqld_sporadic-binlog-dump-fail"><code class="option">--sporadic-binlog-dump-fail</code></a>
          </p><a id="idm45828862314160" class="indexterm"></a><a id="idm45828862312656" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for sporadic-binlog-dump-fail"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--sporadic-binlog-dump-fail[={OFF|ON}]</code></td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            This option is used internally by the MySQL test suite for
            replication testing and debugging.
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a id="replication-sysvars-binlog"></a>System Variables Used with Binary Logging</h5></div></div></div><p>
        The following list describes system variables for controlling
        binary logging. They can be set at server startup and some of
        them can be changed at runtime using
        <a class="link" href="set-variable.html" title="13.7.6.1 SET Syntax for Variable Assignment"><code class="literal">SET</code></a>.
        Server options used to control binary logging are listed earlier
        in this section.
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="sysvar_binlog_cache_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_cache_size"><code class="literal">binlog_cache_size</code></a>
          </p><a id="idm45828862294528" class="indexterm"></a><a id="idm45828862293488" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_cache_size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-cache-size=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_cache_size">binlog_cache_size</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">32768</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">4096</code></td>
</tr><tr><th>Maximum Value (64-bit platforms)</th>
<td><code class="literal">18446744073709547520</code></td>
</tr><tr><th>Maximum Value (32-bit platforms)</th>
<td><code class="literal">4294963200</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr><tr><th>Block Size</th>
<td><code class="literal">4096</code></td>
</tr></tbody></table></div><p>
            The size of the memory buffer to hold changes to the binary
            log during a transaction.
          </p><p>
            The block size is 4096. A value that is not an exact
            multiple of the block size is rounded down to the next lower
            multiple of the block size by MySQL Server before storing
            the value for the system variable. The parser allows values
            up to the maximum unsigned integer value for the platform
            (4294967295 or 2<sup>32</sup>−1 for a
            32-bit system, 18446744073709551615 or
            2<sup>64</sup>−1 for a 64-bit system)
            but the actual maximum is a block size lower.
          </p><p>
            When binary logging is enabled on the server (with the
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a> system variable set
            to ON), a binary log cache is allocated for each client if
            the server supports any transactional storage engines. If
            the data for the transaction exceeds the space in the memory
            buffer, the excess data is stored in a temporary file. When
            binary log encryption is active on the server, the memory
            buffer is not encrypted, but (from MySQL 8.0.17) any
            temporary file used to hold the binary log cache is
            encrypted. After each transaction is committed, the binary
            log cache is reset by clearing the memory buffer and
            truncating the temporary file if used.
          </p><p>
            If you often use large transactions, you can increase this
            cache size to get better performance by reducing or
            eliminating the need to write to temporary files. The
            <a class="link" href="server-status-variables.html#statvar_Binlog_cache_use"><code class="literal">Binlog_cache_use</code></a> and
            <a class="link" href="server-status-variables.html#statvar_Binlog_cache_disk_use"><code class="literal">Binlog_cache_disk_use</code></a>
            status variables can be useful for tuning the size of this
            variable. See <a class="xref" href="binary-log.html" title="5.4.4 The Binary Log">Section 5.4.4, “The Binary Log”</a>.
          </p><p>
            <code class="literal">binlog_cache_size</code> sets the size for the
            transaction cache only; the size of the statement cache is
            governed by the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_stmt_cache_size"><code class="literal">binlog_stmt_cache_size</code></a>
            system variable.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_checksum"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_checksum"><code class="literal">binlog_checksum</code></a>
          </p><a id="idm45828862246480" class="indexterm"></a><a id="idm45828862245392" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_checksum"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-checksum=type</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_checksum">binlog_checksum</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>String</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">CRC32</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">NONE</code></p><p class="valid-value"><code class="literal">CRC32</code></p></td>
</tr></tbody></table></div><p>
            When enabled, this variable causes the source to write a
            checksum for each event in the binary log.
            <code class="literal">binlog_checksum</code> supports the values
            <code class="literal">NONE</code> (which disables checksums) and
            <code class="literal">CRC32</code>. The default is
            <code class="literal">CRC32</code>. When
            <code class="literal">binlog_checksum</code> is disabled (value
            <code class="literal">NONE</code>), the server verifies that it is
            writing only complete events to the binary log by writing
            and checking the event length (rather than a checksum) for
            each event.
          </p><p>
            Setting this variable on the source to a value unrecognized
            by the replica causes the replica to set its own
            <code class="literal">binlog_checksum</code> value to
            <code class="literal">NONE</code>, and to stop replication with an
            error. If backward compatibility with older replicas is a
            concern, you may want to set the value explicitly to
            <code class="literal">NONE</code>.
          </p><p>
            Up to and including MySQL 8.0.20, Group Replication cannot
            make use of checksums and does not support their presence in
            the binary log, so you must set
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_checksum"><code class="literal">binlog_checksum=NONE</code></a> when
            configuring a server instance to become a group member. From
            MySQL 8.0.21, Group Replication supports checksums, so group
            members may use the default setting.
          </p><p>
            Changing the value of <code class="literal">binlog_checksum</code>
            causes the binary log to be rotated, because checksums must
            be written for an entire binary log file, and never for only
            part of one. You cannot change the value of
            <code class="literal">binlog_checksum</code> within a transaction.
          </p><p>
            When binary log transaction compression is enabled using the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression"><code class="literal">binlog_transaction_compression</code></a>
            system variable, checksums are not written for individual
            events in a compressed transaction payload. Instead a
            checksum is written for the GTID event, and a checksum for
            the compressed <code class="literal">Transaction_payload_event</code>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_direct_non_transactional_updates"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates"><code class="literal">binlog_direct_non_transactional_updates</code></a>
          </p><a id="idm45828862202528" class="indexterm"></a><a id="idm45828862201488" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_direct_non_transactional_updates"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-direct-non-transactional-updates[={OFF|ON}]</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates">binlog_direct_non_transactional_updates</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            Due to concurrency issues, a replica can become inconsistent
            when a transaction contains updates to both transactional
            and nontransactional tables. MySQL tries to preserve
            causality among these statements by writing nontransactional
            statements to the transaction cache, which is flushed upon
            commit. However, problems arise when modifications done to
            nontransactional tables on behalf of a transaction become
            immediately visible to other connections because these
            changes may not be written immediately into the binary log.
          </p><p>
            The
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates"><code class="literal">binlog_direct_non_transactional_updates</code></a>
            variable offers one possible workaround to this issue. By
            default, this variable is disabled. Enabling
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates"><code class="literal">binlog_direct_non_transactional_updates</code></a>
            causes updates to nontransactional tables to be written
            directly to the binary log, rather than to the transaction
            cache.
          </p><p>
            As of MySQL 8.0.14, setting the session value of this system
            variable is a restricted operation. The session user must
            have privileges sufficient to set restricted session
            variables. See <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            <span class="emphasis"><em><a class="link" href="replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates"><code class="literal">binlog_direct_non_transactional_updates</code></a>
            works only for statements that are replicated using the
            statement-based binary logging format</em></span>; that is,
            it works only when the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is
            <code class="literal">STATEMENT</code>, or when
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is
            <code class="literal">MIXED</code> and a given statement is being
            replicated using the statement-based format. This variable
            has no effect when the binary log format is
            <code class="literal">ROW</code>, or when
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
            <code class="literal">MIXED</code> and a given statement is replicated
            using the row-based format.
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
              Before enabling this variable, you must make certain that
              there are no dependencies between transactional and
              nontransactional tables; an example of such a dependency
              would be the statement <code class="literal">INSERT INTO myisam_table
              SELECT * FROM innodb_table</code>. Otherwise, such
              statements are likely to cause the replica to diverge from
              the source.
            </p></div><p>
            This variable has no effect when the binary log format is
            <code class="literal">ROW</code> or <code class="literal">MIXED</code>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_encryption"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_encryption"><code class="literal">binlog_encryption</code></a>
          </p><a id="idm45828862158832" class="indexterm"></a><a id="idm45828862157792" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_encryption"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-encryption[={OFF|ON}]</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.14</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_encryption">binlog_encryption</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            Enables encryption for binary log files and relay log files
            on this server. <code class="literal">OFF</code> is the default.
            <code class="literal">ON</code> sets encryption on for binary log
            files and relay log files. Binary logging does not need to
            be enabled on the server to enable encryption, so you can
            encrypt the relay log files on a replica that has no binary
            log. To use encryption, a keyring plugin must be installed
            and configured to supply MySQL Server's keyring service. For
            instructions to do this, see <a class="xref" href="keyring.html" title="6.4.4 The MySQL Keyring">Section 6.4.4, “The MySQL Keyring”</a>. Any
            supported keyring plugin can be used to store binary log
            encryption keys.
          </p><p>
            When you first start the server with binary log encryption
            enabled, a new binary log encryption key is generated before
            the binary log and relay logs are initialized. This key is
            used to encrypt a file password for each binary log file (if
            the server has binary logging enabled) and relay log file
            (if the server has replication channels), and further keys
            generated from the file passwords are used to encrypt the
            data in the files. Relay log files are encrypted for all
            channels, including Group Replication applier channels and
            new channels that are created after encryption is activated.
            The binary log index file and relay log index file are never
            encrypted.
          </p><p>
            If you activate encryption while the server is running, a
            new binary log encryption key is generated at that time. The
            exception is if encryption was active previously on the
            server and was then disabled, in which case the binary log
            encryption key that was in use before is used again. The
            binary log file and relay log files are rotated immediately,
            and file passwords for the new files and all subsequent
            binary log files and relay log files are encrypted using
            this binary log encryption key. Existing binary log files
            and relay log files still present on the server are not
            automatically encrypted, but you can purge them if they are
            no longer needed.
          </p><p>
            If you deactivate encryption by changing the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_encryption"><code class="literal">binlog_encryption</code></a> system
            variable to <code class="literal">OFF</code>, the binary log file and
            relay log files are rotated immediately and all subsequent
            logging is unencrypted. Previously encrypted files are not
            automatically decrypted, but the server is still able to
            read them. The <code class="literal">BINLOG_ENCRYPTION_ADMIN</code>
            privilege (or the deprecated
            <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a> privilege) is required
            to activate or deactivate encryption while the server is
            running. Group Replication applier channels are not included
            in the relay log rotation request, so unencrypted logging
            for these channels does not start until their logs are
            rotated in normal use.
          </p><p>
            For more information on binary log file and relay log file
            encryption, see
            <a class="xref" href="replication-binlog-encryption.html" title="17.3.2 Encrypting Binary Log Files and Relay Log Files">Section 17.3.2, “Encrypting Binary Log Files and Relay Log Files”</a>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_error_action"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_error_action"><code class="literal">binlog_error_action</code></a>
          </p><a id="idm45828862119872" class="indexterm"></a><a id="idm45828862118832" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_error_action"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-error-action[=value]</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_error_action">binlog_error_action</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Enumeration</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ABORT_SERVER</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">IGNORE_ERROR</code></p><p class="valid-value"><code class="literal">ABORT_SERVER</code></p></td>
</tr></tbody></table></div><p>
            Controls what happens when the server encounters an error
            such as not being able to write to, flush or synchronize the
            binary log, which can cause the source's binary log to
            become inconsistent and replicas to lose synchronization.
          </p><p>
            This variable defaults to <code class="literal">ABORT_SERVER</code>,
            which makes the server halt logging and shut down whenever
            it encounters such an error with the binary log. On restart,
            recovery proceeds as in the case of an unexpected server
            halt (see
            <a class="xref" href="replication-solutions-unexpected-replica-halt.html" title="17.4.2 Handling an Unexpected Halt of a Replica">Section 17.4.2, “Handling an Unexpected Halt of a Replica”</a>).
          </p><p>
            When <code class="literal">binlog_error_action</code> is set to
            <code class="literal">IGNORE_ERROR</code>, if the server encounters
            such an error it continues the ongoing transaction, logs the
            error then halts logging, and continues performing updates.
            To resume binary logging
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a> must be enabled
            again, which requires a server restart. This setting
            provides backward compatibility with older versions of
            MySQL.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_expire_logs_seconds"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
          </p><a id="idm45828862084608" class="indexterm"></a><a id="idm45828862083520" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_expire_logs_seconds"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-expire-logs-seconds=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds">binlog_expire_logs_seconds</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">2592000</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">4294967295</code></td>
</tr><tr><th>Unit</th>
<td>seconds</td>
</tr></tbody></table></div><p>
            Sets the binary log expiration period in seconds. After
            their expiration period ends, binary log files can be
            automatically removed. Possible removals happen at startup
            and when the binary log is flushed. Log flushing occurs as
            indicated in <a class="xref" href="server-logs.html" title="5.4 MySQL Server Logs">Section 5.4, “MySQL Server Logs”</a>.
          </p><p>
            The default binary log expiration period is 2592000 seconds,
            which equals 30 days (30*24*60*60 seconds). The default
            applies if neither
            <code class="literal">binlog_expire_logs_seconds</code> nor the
            deprecated system variable
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a> has a
            value set at startup. If a non-zero value for one of the
            variables <code class="literal">binlog_expire_logs_seconds</code> or
            <code class="literal">expire_logs_days</code> is set at startup, this
            value is used as the binary log expiration period. If a
            non-zero value for both of those variables is set at
            startup, the value for
            <code class="literal">binlog_expire_logs_seconds</code> is used as the
            binary log expiration period, and the value for
            <code class="literal">expire_logs_days</code> is ignored with a
            warning message.
          </p><p>
            At runtime, you cannot set
            <code class="literal">binlog_expire_logs_seconds</code> or
            <code class="literal">expire_logs_days</code> to a non-zero value if
            the other is currently set to a non-zero value. Because the
            default value for
            <code class="literal">binlog_expire_logs_seconds</code> is non-zero,
            you must explicitly set
            <code class="literal">binlog_expire_logs_seconds</code> to zero before
            you can set or change the value of
            <code class="literal">expire_logs_days</code>.
          </p><p>
            Beginning with MySQL 8.0.29, automatic purging of the binary
            log can be disabled by setting the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge"><code class="literal">binlog_expire_logs_auto_purge</code></a>
            system variable to <code class="literal">OFF</code>. This takes
            precedence over any setting for
            <code class="literal">binlog_expire_logs_seconds</code>.
          </p><p>
            In MySQL 8.0.28 and earlier, to disable automatic purging of
            the binary log, specify a value of 0 explicitly for
            <code class="literal">binlog_expire_logs_seconds</code>, and do not
            specify a value for <code class="literal">expire_logs_days</code>. For
            compatibility with earlier releases, automatic purging is
            also disabled if you specify a value of 0 explicitly for
            <code class="literal">expire_logs_days</code> and do not specify a
            value for <code class="literal">binlog_expire_logs_seconds</code>. In
            that case, the default for
            <code class="literal">binlog_expire_logs_seconds</code> is not
            applied.
          </p><p>
            To remove binary log files manually, use the
            <a class="link" href="purge-binary-logs.html" title="13.4.1.1 PURGE BINARY LOGS Statement"><code class="literal">PURGE BINARY LOGS</code></a> statement.
            See <a class="xref" href="purge-binary-logs.html" title="13.4.1.1 PURGE BINARY LOGS Statement">Section 13.4.1.1, “PURGE BINARY LOGS Statement”</a>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_expire_logs_auto_purge"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge"><code class="literal">binlog_expire_logs_auto_purge</code></a>
          </p><a id="idm45828862030640" class="indexterm"></a><a id="idm45828862029536" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_expire_logs_auto_purge"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-expire-logs-auto-purge={ON|OFF}</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.29</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge">binlog_expire_logs_auto_purge</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ON</code></td>
</tr></tbody></table></div><p>
            Enables or disables automatic purging of binary log files.
            Setting this variable to <code class="literal">ON</code> (the default)
            enables automatic purging; setting it to
            <code class="literal">OFF</code> disables automatic purging. The
            interval to wait before purging is controlled by
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            and <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a>.
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
              Even if <code class="literal">binlog_expire_logs_auto_purge</code>
              is <code class="literal">ON</code>, setting both
              <code class="literal">binlog_expire_logs_seconds</code> and
              <code class="literal">expire_logs_days</code> to
              <code class="literal">0</code> stops automatic purging from taking
              place.
            </p></div><p>
            This variable has no effect on <a class="link" href="purge-binary-logs.html" title="13.4.1.1 PURGE BINARY LOGS Statement"><code class="literal">PURGE
            BINARY LOGS</code></a>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_format"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a>
          </p><a id="idm45828861992704" class="indexterm"></a><a id="idm45828861991616" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_format"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-format=format</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.34</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_format">binlog_format</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Enumeration</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ROW</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">MIXED</code></p><p class="valid-value"><code class="literal">STATEMENT</code></p><p class="valid-value"><code class="literal">ROW</code></p></td>
</tr></tbody></table></div><p>
            This system variable sets the binary logging format, and can
            be any one of <code class="literal">STATEMENT</code>,
            <code class="literal">ROW</code>, or <code class="literal">MIXED</code>. (See
            <a class="xref" href="replication-formats.html" title="17.2.1 Replication Formats">Section 17.2.1, “Replication Formats”</a>.) The setting takes
            effect when binary logging is enabled on the server, which
            is the case when the
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a> system variable is
            set to <code class="literal">ON</code>. In MySQL 8.0, binary logging
            is enabled by default, and by default uses the row-based
            format.
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
              <code class="literal">binlog_format</code> is deprecated as of MySQL
              8.0.34, and is subject to removal in a future version of
              MySQL. This implies that support for logging formats other
              than row-based is also subject to removal in a future
              release. Thus, only row-based logging should be employed
              for any new MySQL Replication setups.
            </p></div><p>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> can be set at
            startup or at runtime, except that under some conditions,
            changing this variable at runtime is not possible or causes
            replication to fail, as described later.
          </p><p>
            The default is <code class="literal">ROW</code>.
            <span class="emphasis"><em>Exception</em></span>: In NDB Cluster, the default
            is <code class="literal">MIXED</code>; statement-based replication is
            not supported for NDB Cluster.
          </p><p>
            Setting the session value of this system variable is a
            restricted operation. The session user must have privileges
            sufficient to set restricted session variables. See
            <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            The rules governing when changes to this variable take
            effect and how long the effect lasts are the same as for
            other MySQL server system variables. For more information,
            see <a class="xref" href="set-variable.html" title="13.7.6.1 SET Syntax for Variable Assignment">Section 13.7.6.1, “SET Syntax for Variable Assignment”</a>.
          </p><p>
            When <code class="literal">MIXED</code> is specified, statement-based
            replication is used, except for cases where only row-based
            replication is guaranteed to lead to proper results. For
            example, this happens when statements contain loadable
            functions or the <a class="link" href="miscellaneous-functions.html#function_uuid"><code class="literal">UUID()</code></a>
            function.
          </p><p>
            For details of how stored programs (stored procedures and
            functions, triggers, and events) are handled when each
            binary logging format is set, see
            <a class="xref" href="stored-programs-logging.html" title="25.7 Stored Program Binary Logging">Section 25.7, “Stored Program Binary Logging”</a>.
          </p><p>
            There are exceptions when you cannot switch the replication
            format at runtime:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                The replication format cannot be changed from within a
                stored function or a trigger.
              </p></li><li class="listitem"><p>
                If a session has open temporary tables, the replication
                format cannot be changed for the session (<code class="literal">SET
                @@SESSION.binlog_format</code>).
              </p></li><li class="listitem"><p>
                If any replication channel has open temporary tables,
                the replication format cannot be changed globally
                (<code class="literal">SET @@GLOBAL.binlog_format</code> or
                <code class="literal">SET @@PERSIST.binlog_format</code>).
              </p></li><li class="listitem"><p>
                If any replication channel applier thread is currently
                running, the replication format cannot be changed
                globally (<code class="literal">SET @@GLOBAL.binlog_format</code>
                or <code class="literal">SET @@PERSIST.binlog_format</code>).
              </p></li></ul></div><p>
            Trying to switch the replication format in any of these
            cases (or attempting to set the current replication format)
            results in an error. You can, however, use
            <code class="literal">PERSIST_ONLY</code> (<code class="literal">SET
            @@PERSIST_ONLY.binlog_format</code>) to change the
            replication format at any time, because this action does not
            modify the runtime global system variable value, and takes
            effect only after a server restart.
          </p><p>
            Switching the replication format at runtime is not
            recommended when any temporary tables exist, because
            temporary tables are logged only when using statement-based
            replication, whereas with row-based replication and mixed
            replication, they are not logged.
          </p><p>
            Changing the logging format on a replication source server
            does not cause a replica to change its logging format to
            match. Switching the replication format while replication is
            ongoing can cause issues if a replica has binary logging
            enabled, and the change results in the replica using
            <code class="literal">STATEMENT</code> format logging while the source
            is using <code class="literal">ROW</code> or <code class="literal">MIXED</code>
            format logging. A replica is not able to convert binary log
            entries received in <code class="literal">ROW</code> logging format to
            <code class="literal">STATEMENT</code> format for use in its own
            binary log, so this situation can cause replication to fail.
            For more information, see
            <a class="xref" href="binary-log-setting.html" title="5.4.4.2 Setting The Binary Log Format">Section 5.4.4.2, “Setting The Binary Log Format”</a>.
          </p><p>
            The binary log format affects the behavior of the following
            server options:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="replication-options-replica.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db</code></a>
              </p></li><li class="listitem"><p>
                <a class="link" href="replication-options-replica.html#option_mysqld_replicate-ignore-db"><code class="option">--replicate-ignore-db</code></a>
              </p></li><li class="listitem"><p>
                <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a>
              </p></li><li class="listitem"><p>
                <a class="link" href="replication-options-binary-log.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db</code></a>
              </p></li></ul></div><p>
            These effects are discussed in detail in the descriptions of
            the individual options.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_group_commit_sync_delay"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
          </p><a id="idm45828861917856" class="indexterm"></a><a id="idm45828861916768" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_group_commit_sync_delay"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-group-commit-sync-delay=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay">binlog_group_commit_sync_delay</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">1000000</code></td>
</tr><tr><th>Unit</th>
<td>microseconds</td>
</tr></tbody></table></div><p>
            Controls how many microseconds the binary log commit waits
            before synchronizing the binary log file to disk. By default
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            is set to 0, meaning that there is no delay. Setting
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            to a microsecond delay enables more transactions to be
            synchronized together to disk at once, reducing the overall
            time to commit a group of transactions because the larger
            groups require fewer time units per group.
          </p><p>
            When <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=0</code></a> or
            <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=1</code></a> is set, the
            delay specified by
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            is applied for every binary log commit group before
            synchronization (or in the case of
            <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=0</code></a>, before
            proceeding). When
            <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog</code></a> is set to a
            value <span class="emphasis"><em>n</em></span> greater than 1, the delay is
            applied after every <span class="emphasis"><em>n</em></span> binary log commit
            groups.
          </p><p>
            Setting
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            can increase the number of parallel committing transactions
            on any server that has (or might have after a failover) a
            replica, and therefore can increase parallel execution on
            the replicas. To benefit from this effect, the replica
            servers must have
            <a class="link" href="replication-options-replica.html#sysvar_replica_parallel_type"><code class="literal">replica_parallel_type=LOGICAL_CLOCK</code></a>
            (from MySQL 8.0.26) or
            <a class="link" href="replication-options-replica.html#sysvar_slave_parallel_type"><code class="literal">slave_parallel_type=LOGICAL_CLOCK</code></a>
            set, and the effect is more significant when
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_tracking"><code class="literal">binlog_transaction_dependency_tracking=COMMIT_ORDER</code></a>
            is also set. It is important to take into account both the
            source's throughput and the replicas' throughput when you
            are tuning the setting for
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>.
          </p><p>
            Setting
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            can also reduce the number of <code class="literal">fsync()</code>
            calls to the binary log on any server (source or replica)
            that has a binary log.
          </p><p>
            Note that setting
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            increases the latency of transactions on the server, which
            might affect client applications. Also, on highly concurrent
            workloads, it is possible for the delay to increase
            contention and therefore reduce throughput. Typically, the
            benefits of setting a delay outweigh the drawbacks, but
            tuning should always be carried out to determine the optimal
            setting.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_group_commit_sync_no_delay_count"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_no_delay_count"><code class="literal">binlog_group_commit_sync_no_delay_count</code></a>
          </p><a id="idm45828861862224" class="indexterm"></a><a id="idm45828861861136" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_group_commit_sync_no_delay_count"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-group-commit-sync-no-delay-count=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_no_delay_count">binlog_group_commit_sync_no_delay_count</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">100000</code></td>
</tr></tbody></table></div><p>
            The maximum number of transactions to wait for before
            aborting the current delay as specified by
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>.
            If
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay"><code class="literal">binlog_group_commit_sync_delay</code></a>
            is set to 0, then this option has no effect.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_max_flush_queue_time"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_max_flush_queue_time"><code class="literal">binlog_max_flush_queue_time</code></a>
          </p><a id="idm45828861828976" class="indexterm"></a><a id="idm45828861827872" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_max_flush_queue_time"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-max-flush-queue-time=#</code></td>
</tr><tr><th>Deprecated</th>
<td>Yes</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_max_flush_queue_time">binlog_max_flush_queue_time</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">100000</code></td>
</tr><tr><th>Unit</th>
<td>microseconds</td>
</tr></tbody></table></div><p>
            <code class="literal">binlog_max_flush_queue_time</code> is
            deprecated, and is marked for eventual removal in a future
            MySQL release. Formerly, this system variable controlled the
            time in microseconds to continue reading transactions from
            the flush queue before proceeding with group commit. It no
            longer has any effect.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_order_commits"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_order_commits"><code class="literal">binlog_order_commits</code></a>
          </p><a id="idm45828861793312" class="indexterm"></a><a id="idm45828861792272" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_order_commits"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-order-commits[={OFF|ON}]</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_order_commits">binlog_order_commits</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ON</code></td>
</tr></tbody></table></div><p>
            When this variable is enabled on a replication source server
            (which is the default), transaction commit instructions
            issued to storage engines are serialized on a single thread,
            so that transactions are always committed in the same order
            as they are written to the binary log. Disabling this
            variable permits transaction commit instructions to be
            issued using multiple threads. Used in combination with
            binary log group commit, this prevents the commit rate of a
            single transaction being a bottleneck to throughput, and
            might therefore produce a performance improvement.
          </p><p>
            Transactions are written to the binary log at the point when
            all the storage engines involved have confirmed that the
            transaction is prepared to commit. The binary log group
            commit logic then commits a group of transactions after
            their binary log write has taken place. When
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_order_commits"><code class="literal">binlog_order_commits</code></a> is
            disabled, because multiple threads are used for this
            process, transactions in a commit group might be committed
            in a different order from their order in the binary log.
            (Transactions from a single client always commit in
            chronological order.) In many cases this does not matter, as
            operations carried out in separate transactions should
            produce consistent results, and if that is not the case, a
            single transaction ought to be used instead.
          </p><p>
            If you want to ensure that the transaction history on the
            source and on a multithreaded replica remains identical, set
            <a class="link" href="replication-options-replica.html#sysvar_slave_preserve_commit_order"><code class="literal">slave_preserve_commit_order=1</code></a>
            on the replica.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_rotate_encryption_master_key_at_startup"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup"><code class="literal">binlog_rotate_encryption_master_key_at_startup</code></a>
          </p><a id="idm45828861762576" class="indexterm"></a><a id="idm45828861761456" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_rotate_encryption_master_key_at_startup"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-rotate-encryption-master-key-at-startup[={OFF|ON}]</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.14</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup">binlog_rotate_encryption_master_key_at_startup</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            Specifies whether or not the binary log master key is
            rotated at server startup. The binary log master key is the
            binary log encryption key that is used to encrypt file
            passwords for the binary log files and relay log files on
            the server. When a server is started for the first time with
            binary log encryption enabled
            (<a class="link" href="replication-options-binary-log.html#sysvar_binlog_encryption"><code class="literal">binlog_encryption=ON</code></a>), a
            new binary log encryption key is generated and used as the
            binary log master key. If the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup"><code class="literal">binlog_rotate_encryption_master_key_at_startup</code></a>
            system variable is also set to <code class="literal">ON</code>,
            whenever the server is restarted, a further binary log
            encryption key is generated and used as the binary log
            master key for all subsequent binary log files and relay log
            files. If the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup"><code class="literal">binlog_rotate_encryption_master_key_at_startup</code></a>
            system variable is set to <code class="literal">OFF</code>, which is
            the default, the existing binary log master key is used
            again after the server restarts. For more information on
            binary log encryption keys and the binary log master key,
            see <a class="xref" href="replication-binlog-encryption.html" title="17.3.2 Encrypting Binary Log Files and Relay Log Files">Section 17.3.2, “Encrypting Binary Log Files and Relay Log Files”</a>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_row_event_max_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_event_max_size"><code class="literal">binlog_row_event_max_size</code></a>
          </p><a id="idm45828861727728" class="indexterm"></a><a id="idm45828861726624" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog-row-event-max-size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-row-event-max-size=#</code></td>
</tr><tr><th>System Variable (≥ 8.0.14)</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_event_max_size">binlog_row_event_max_size</a></code></td>
</tr><tr><th>Scope (≥ 8.0.14)</th>
<td>Global</td>
</tr><tr><th>Dynamic (≥ 8.0.14)</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies (≥ 8.0.14)</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">8192</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">256</code></td>
</tr><tr><th>Maximum Value (64-bit platforms)</th>
<td><code class="literal">18446744073709551615</code></td>
</tr><tr><th>Maximum Value (32-bit platforms)</th>
<td><code class="literal">4294967295</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr></tbody></table></div><p>
            When row-based binary logging is used, this setting is a
            soft limit on the maximum size of a row-based binary log
            event, in bytes. Where possible, rows stored in the binary
            log are grouped into events with a size not exceeding the
            value of this setting. If an event cannot be split, the
            maximum size can be exceeded. The default is 8192 bytes.
          </p><p>
            The block size is 256. A value that is not an exact multiple
            of the block size is rounded down to the next lower multiple
            of the block size by MySQL Server before storing the value
            for the system variable. The parser allows values up to the
            maximum unsigned integer value for the platform (4294967295
            or 2<sup>32</sup>−1 for a 32-bit
            system, 18446744073709551615 or
            2<sup>64</sup>−1 for a 64-bit system)
            but the actual maximum is a block size lower.
          </p><p>
            This global system variable is read-only and can be set only
            at server startup. Its value can therefore only be modified
            by using the <code class="literal">PERSIST_ONLY</code> keyword or the
            <code class="literal">@@persist_only</code> qualifier with the
            <a class="link" href="set.html" title="11.3.6 The SET Type"><code class="literal">SET</code></a> statement.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_row_image"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_image"><code class="literal">binlog_row_image</code></a>
          </p><a id="idm45828861687184" class="indexterm"></a><a id="idm45828861686096" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_row_image"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-row-image=image_type</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_image">binlog_row_image</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Enumeration</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">full</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">full</code> (Log all columns)</p><p class="valid-value"><code class="literal">minimal</code> (Log only changed columns, and columns needed to identify rows)</p><p class="valid-value"><code class="literal">noblob</code> (Log all columns, except for unneeded BLOB and TEXT columns)</p></td>
</tr></tbody></table></div><p>
            For MySQL row-based replication, this variable determines
            how row images are written to the binary log.
          </p><p>
            Setting the session value of this system variable is a
            restricted operation. The session user must have privileges
            sufficient to set restricted session variables. See
            <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            In MySQL row-based replication, each row change event
            contains two images, a <span class="quote">“<span class="quote">before</span>”</span> image whose
            columns are matched against when searching for the row to be
            updated, and an <span class="quote">“<span class="quote">after</span>”</span> image containing the
            changes. Normally, MySQL logs full rows (that is, all
            columns) for both the before and after images. However, it
            is not strictly necessary to include every column in both
            images, and we can often save disk, memory, and network
            usage by logging only those columns which are actually
            required.
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
              When deleting a row, only the before image is logged,
              since there are no changed values to propagate following
              the deletion. When inserting a row, only the after image
              is logged, since there is no existing row to be matched.
              Only when updating a row are both the before and after
              images required, and both written to the binary log.
            </p></div><p>
            For the before image, it is necessary only that the minimum
            set of columns required to uniquely identify rows is logged.
            If the table containing the row has a primary key, then only
            the primary key column or columns are written to the binary
            log. Otherwise, if the table has a unique key all of whose
            columns are <code class="literal">NOT NULL</code>, then only the
            columns in the unique key need be logged. (If the table has
            neither a primary key nor a unique key without any
            <code class="literal">NULL</code> columns, then all columns must be
            used in the before image, and logged.) In the after image,
            it is necessary to log only the columns which have actually
            changed.
          </p><p>
            You can cause the server to log full or minimal rows using
            the <code class="literal">binlog_row_image</code> system variable.
            This variable actually takes one of three possible values,
            as shown in the following list:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">full</code>: Log all columns in both the
                before image and the after image.
              </p></li><li class="listitem"><p>
                <code class="literal">minimal</code>: Log only those columns in
                the before image that are required to identify the row
                to be changed; log only those columns in the after image
                where a value was specified by the SQL statement, or
                generated by auto-increment.
              </p></li><li class="listitem"><p>
                <code class="literal">noblob</code>: Log all columns (same as
                <code class="literal">full</code>), except for
                <a class="link" href="blob.html" title="11.3.4 The BLOB and TEXT Types"><code class="literal">BLOB</code></a> and
                <a class="link" href="blob.html" title="11.3.4 The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns that are not
                required to identify rows, or that have not changed.
              </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
              This variable is not supported by NDB Cluster; setting it
              has no effect on the logging of
              <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDB</code></a> tables.
            </p></div><p>
            The default value is <code class="literal">full</code>.
          </p><p>
            When using <code class="literal">minimal</code> or
            <code class="literal">noblob</code>, deletes and updates are
            guaranteed to work correctly for a given table if and only
            if the following conditions are true for both the source and
            destination tables:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                All columns must be present and in the same order; each
                column must use the same data type as its counterpart in
                the other table.
              </p></li><li class="listitem"><p>
                The tables must have identical primary key definitions.
              </p></li></ul></div><p>
            (In other words, the tables must be identical with the
            possible exception of indexes that are not part of the
            tables' primary keys.)
          </p><p>
            If these conditions are not met, it is possible that the
            primary key column values in the destination table may prove
            insufficient to provide a unique match for a delete or
            update. In this event, no warning or error is issued; the
            source and replica silently diverge, thus breaking
            consistency.
          </p><p>
            Setting this variable has no effect when the binary logging
            format is <code class="literal">STATEMENT</code>. When
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is
            <code class="literal">MIXED</code>, the setting for
            <code class="literal">binlog_row_image</code> is applied to changes
            that are logged using row-based format, but this setting has
            no effect on changes logged as statements.
          </p><p>
            Setting <code class="literal">binlog_row_image</code> on either the
            global or session level does not cause an implicit commit;
            this means that this variable can be changed while a
            transaction is in progress without affecting the
            transaction.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_row_metadata"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_metadata"><code class="literal">binlog_row_metadata</code></a>
          </p><a id="idm45828861624880" class="indexterm"></a><a id="idm45828861623840" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_row_metadata"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-row-metadata=metadata_type</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_metadata">binlog_row_metadata</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Enumeration</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">MINIMAL</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">FULL</code> (All metadata is included)</p><p class="valid-value"><code class="literal">MINIMAL</code> (Limit included metadata)</p></td>
</tr></tbody></table></div><p>
            Configures the amount of table metadata added to the binary
            log when using row-based logging. When set to
            <code class="literal">MINIMAL</code>, the default, only metadata
            related to <code class="literal">SIGNED</code> flags, column character
            set and geometry types are logged. When set to
            <code class="literal">FULL</code> complete metadata for tables is
            logged, such as column name,
            <a class="link" href="enum.html" title="11.3.5 The ENUM Type"><code class="literal">ENUM</code></a> or
            <code class="literal">SET</code> string values, <code class="literal">PRIMARY
            KEY</code> information, and so on.
          </p><p>
            The extended metadata serves the following purposes:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Replicas use the metadata to transfer data when its
                table structure is different from the source's.
              </p></li><li class="listitem"><p>
                External software can use the metadata to decode row
                events and store the data into external databases, such
                as a data warehouse.
              </p></li></ul></div></li><li class="listitem"><p><a id="sysvar_binlog_row_value_options"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_value_options"><code class="literal">binlog_row_value_options</code></a>
          </p><a id="idm45828861587232" class="indexterm"></a><a id="idm45828861586128" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_row_value_options"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-row-value-options=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_value_options">binlog_row_value_options</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Set</td>
</tr><tr><th>Default Value</th>
<td><code class="literal"></code></td>
</tr><tr><th>Valid Values</th>
<td><code class="literal">PARTIAL_JSON</code></td>
</tr></tbody></table></div><p>
            When set to <code class="literal">PARTIAL_JSON</code>, this enables
            use of a space-efficient binary log format for updates that
            modify only a small portion of a JSON document, which causes
            row-based replication to write only the modified parts of
            the JSON document to the after-image for the update in the
            binary log, rather than writing the full document (see
            <a class="xref" href="json.html#json-partial-updates" title="Partial Updates of JSON Values">Partial Updates of JSON Values</a>). This works for an
            <a class="link" href="update.html" title="13.2.17 UPDATE Statement"><code class="literal">UPDATE</code></a> statement which
            modifies a JSON column using any sequence of
            <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>,
            <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a>, and
            <a class="link" href="json-modification-functions.html#function_json-remove"><code class="literal">JSON_REMOVE()</code></a>. If the server
            is unable to generate a partial update, the full document is
            used instead.
          </p><p>
            The default value is an empty string, which disables use of
            the format. To unset
            <code class="literal">binlog_row_value_options</code> and revert to
            writing the full JSON document, set its value to the empty
            string.
          </p><p>
            Setting the session value of this system variable is a
            restricted operation. The session user must have privileges
            sufficient to set restricted session variables. See
            <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            <code class="literal">binlog_row_value_options=PARTIAL_JSON</code>
            takes effect only when binary logging is enabled and
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
            <code class="literal">ROW</code> or <code class="literal">MIXED</code>.
            Statement-based replication <span class="emphasis"><em>always</em></span> logs
            only the modified parts of the JSON document, regardless of
            any value set for
            <code class="literal">binlog_row_value_options</code>. To maximize the
            amount of space saved, use
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_row_image"><code class="literal">binlog_row_image=NOBLOB</code></a> or
            <code class="literal">binlog_row_image=MINIMAL</code> together with
            this option. <code class="literal">binlog_row_image=FULL</code> saves
            less space than either of these, since the full JSON
            document is stored in the before-image, and the partial
            update is stored only in the after-image.
          </p><p>
            <a class="link" href="mysqlbinlog.html" title="4.6.9 mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a> output includes partial JSON
            updates in the form of events encoded as base-64 strings
            using <a class="link" href="binlog.html" title="13.7.8.1 BINLOG Statement"><code class="literal">BINLOG</code></a> statements. If
            the <a class="link" href="mysqlbinlog.html#option_mysqlbinlog_verbose"><code class="option">--verbose</code></a> option is
            specified, <a class="link" href="mysqlbinlog.html" title="4.6.9 mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a> displays the
            partial JSON updates as readable JSON using pseudo-SQL
            statements.
          </p><p>
            MySQL Replication generates an error if a modification
            cannot be applied to the JSON document on the replica. This
            includes a failure to find the path. Be aware that, even
            with this and other safety checks, if a JSON document on a
            replica has diverged from that on the source and a partial
            update is applied, it remains theoretically possible to
            produce a valid but unexpected JSON document on the replica.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_rows_query_log_events"></a>
            <code class="literal">binlog_rows_query_log_events</code>
          </p><a id="idm45828861535184" class="indexterm"></a><a id="idm45828861534080" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_rows_query_log_events"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-rows-query-log-events[={OFF|ON}]</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_rows_query_log_events">binlog_rows_query_log_events</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            This system variable affects row-based logging only. When
            enabled, it causes the server to write informational log
            events such as row query log events into its binary log.
            This information can be used for debugging and related
            purposes, such as obtaining the original query issued on the
            source when it cannot be reconstructed from the row updates.
          </p><p>
            Setting the session value of this system variable is a
            restricted operation. The session user must have privileges
            sufficient to set restricted session variables. See
            <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            These informational events are normally ignored by MySQL
            programs reading the binary log and so cause no issues when
            replicating or restoring from backup. To view them, increase
            the verbosity level by using mysqlbinlog's
            <a class="link" href="mysqlbinlog.html#option_mysqlbinlog_verbose"><code class="option">--verbose</code></a> option twice,
            either as <code class="option">-vv</code> or <code class="option">--verbose
            --verbose</code>.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_stmt_cache_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_stmt_cache_size"><code class="literal">binlog_stmt_cache_size</code></a>
          </p><a id="idm45828861505200" class="indexterm"></a><a id="idm45828861504160" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_stmt_cache_size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-stmt-cache-size=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_stmt_cache_size">binlog_stmt_cache_size</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">32768</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">4096</code></td>
</tr><tr><th>Maximum Value (64-bit platforms)</th>
<td><code class="literal">18446744073709547520</code></td>
</tr><tr><th>Maximum Value (32-bit platforms)</th>
<td><code class="literal">4294963200</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr><tr><th>Block Size</th>
<td><code class="literal">4096</code></td>
</tr></tbody></table></div><p>
            The size of the memory buffer for the binary log to hold
            nontransactional statements issued during a transaction.
          </p><p>
            The block size is 4096. A value that is not an exact
            multiple of the block size is rounded down to the next lower
            multiple of the block size by MySQL Server before storing
            the value for the system variable. The parser allows values
            up to the maximum unsigned integer value for the platform
            (4294967295 or 2<sup>32</sup>−1 for a
            32-bit system, 18446744073709551615 or
            2<sup>64</sup>−1 for a 64-bit system)
            but the actual maximum is a block size lower.
          </p><p>
            When binary logging is enabled on the server (with the
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a> system variable set
            to ON), separate binary log transaction and statement caches
            are allocated for each client if the server supports any
            transactional storage engines. If the data for the
            nontransactional statements used in the transaction exceeds
            the space in the memory buffer, the excess data is stored in
            a temporary file. When binary log encryption is active on
            the server, the memory buffer is not encrypted, but (from
            MySQL 8.0.17) any temporary file used to hold the binary log
            cache is encrypted. After each transaction is committed, the
            binary log statement cache is reset by clearing the memory
            buffer and truncating the temporary file if used.
          </p><p>
            If you often use large nontransactional statements during
            transactions, you can increase this cache size to get better
            performance by reducing or eliminating the need to write to
            temporary files. The
            <a class="link" href="server-status-variables.html#statvar_Binlog_stmt_cache_use"><code class="literal">Binlog_stmt_cache_use</code></a> and
            <a class="link" href="server-status-variables.html#statvar_Binlog_stmt_cache_disk_use"><code class="literal">Binlog_stmt_cache_disk_use</code></a>
            status variables can be useful for tuning the size of this
            variable. See <a class="xref" href="binary-log.html" title="5.4.4 The Binary Log">Section 5.4.4, “The Binary Log”</a>.
          </p><p>
            The <a class="link" href="replication-options-binary-log.html#sysvar_binlog_cache_size"><code class="literal">binlog_cache_size</code></a>
            system variable sets the size for the transaction cache.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_transaction_compression"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression"><code class="literal">binlog_transaction_compression</code></a>
          </p><a id="idm45828861458464" class="indexterm"></a><a id="idm45828861457360" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_transaction_compression"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-transaction-compression[={OFF|ON}]</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.20</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression">binlog_transaction_compression</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            Enables compression for transactions that are written to
            binary log files on this server. <code class="literal">OFF</code> is
            the default. Use the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd"><code class="literal">binlog_transaction_compression_level_zstd</code></a>
            system variable to set the level for the zstd algorithm that
            is used for compression.
          </p><p>
            When binary log transaction compression is enabled,
            transaction payloads are compressed and then written to the
            binary log file as a single event
            (<code class="literal">Transaction_payload_event</code>). Compressed
            transaction payloads remain in a compressed state while they
            are sent in the replication stream to replicas, other Group
            Replication group members, or clients such as
            <a class="link" href="mysqlbinlog.html" title="4.6.9 mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a>, and are written to the relay
            log still in their compressed state. Binary log transaction
            compression therefore saves storage space both on the
            originator of the transaction and on the recipient (and for
            their backups), and saves network bandwidth when the
            transactions are sent between server instances.
          </p><p>
            For <code class="literal">binlog_transaction_compression=ON</code> to
            have a direct effect, binary logging must be enabled on the
            server. When a MySQL server instance has no binary log, if
            it is at a release from MySQL 8.0.20, it can receive,
            handle, and display compressed transaction payloads
            regardless of its value for
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression"><code class="literal">binlog_transaction_compression</code></a>.
            Compressed transaction payloads received by such server
            instances are written in their compressed state to the relay
            log, so they benefit indirectly from compression carried out
            by other servers in the replication topology.
          </p><p>
            This system variable cannot be changed within the context of
            a transaction. Setting the session value of this system
            variable is a restricted operation. The session user must
            have privileges sufficient to set restricted session
            variables. See <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            For more information on binary log transaction compression,
            including details of what events are and are not compressed,
            and changes in behavior when transaction compression is in
            use, see
            <a class="xref" href="binary-log-transaction-compression.html" title="5.4.4.5 Binary Log Transaction Compression">Section 5.4.4.5, “Binary Log Transaction Compression”</a>.
          </p><p>
            <span class="emphasis"><em>Prior to NDB 8.0.31</em></span>: Setting this
            variable when the server is running has no effect on logging
            of transactions on <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDB</code></a> tables.
            Binary log transaction compression can be enabled for
            <code class="literal">NDB</code> tables by starting MySQL with
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression"><code class="option">--binlog-transaction-compression=ON</code></a>
            on the command line or in an option file but cannot be
            enabled or disabled while the server is running.
          </p><p>
            <span class="emphasis"><em>In NDB 8.0.31 and later</em></span>: You can use
            the
            <a class="link" href="mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression"><code class="literal">ndb_log_transaction_compression</code></a>
            system variable to enable this feature for
            <code class="literal">NDB</code>. In addition, setting
            <code class="option">--binlog-transaction-compression=ON</code> on the
            command line or in a <code class="filename">my.cnf</code> file causes
            <code class="literal">ndb_log_transaction_compression</code> to be
            enabled on server startup. See the description of the
            variable for further information.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_transaction_compression_level_zstd"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd"><code class="literal">binlog_transaction_compression_level_zstd</code></a>
          </p><a id="idm45828861410064" class="indexterm"></a><a id="idm45828861408944" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_transaction_compression_level_zstd"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-transaction-compression-level-zstd=#</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.20</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd">binlog_transaction_compression_level_zstd</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">3</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">1</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">22</code></td>
</tr></tbody></table></div><p>
            Sets the compression level for binary log transaction
            compression on this server, which is enabled by the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression"><code class="literal">binlog_transaction_compression</code></a>
            system variable. The value is an integer that determines the
            compression effort, from 1 (the lowest effort) to 22 (the
            highest effort). If you do not specify this system variable,
            the compression level is set to 3.
          </p><p>
            As the compression level increases, the data compression
            ratio increases, which reduces the storage space and network
            bandwidth required for the transaction payload. However, the
            effort required for data compression also increases, taking
            time and CPU and memory resources on the originating server.
            Increases in the compression effort do not have a linear
            relationship to increases in the data compression ratio.
          </p><p>
            This system variable cannot be changed within the context of
            a transaction. Setting the session value of this system
            variable is a restricted operation. The session user must
            have privileges sufficient to set restricted session
            variables. See <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            This variable has no effect on logging of transactions on
            <a class="link" href="mysql-cluster.html" title="Chapter 23 MySQL NDB Cluster 8.0"><code class="literal">NDB</code></a> tables; in NDB Cluster
            8.0.31 and later, you can use
            <a class="link" href="mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression_level_zstd"><code class="literal">ndb_log_transaction_compression_level_zstd</code></a>
            instead.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_transaction_dependency_tracking"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_tracking"><code class="literal">binlog_transaction_dependency_tracking</code></a>
          </p><a id="idm45828861370192" class="indexterm"></a><a id="idm45828861369152" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_transaction_dependency_tracking"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-transaction-dependency-tracking=value</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_tracking">binlog_transaction_dependency_tracking</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Enumeration</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">COMMIT_ORDER</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">COMMIT_ORDER</code></p><p class="valid-value"><code class="literal">WRITESET</code></p><p class="valid-value"><code class="literal">WRITESET_SESSION</code></p></td>
</tr></tbody></table></div><p>
            For a replication source server that has multithreaded
            replicas (replicas on which
            <a class="link" href="replication-options-replica.html#sysvar_replica_parallel_workers"><code class="literal">replica_parallel_workers</code></a> or
            <a class="link" href="replication-options-replica.html#sysvar_slave_parallel_workers"><code class="literal">slave_parallel_workers</code></a> is
            is greater than 0),
            <code class="literal">binlog_transaction_dependency_tracking</code>
            specifies how the source <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> generates
            the dependency information that it writes in the binary log
            to help replicas determine which transactions can be
            executed in parallel.
          </p><p>
            The dependency information written by the replication source
            is represented using logical timestamps. (Thus, setting this
            variable requires that
            <a class="link" href="replication-options-replica.html#sysvar_replica_parallel_type"><code class="literal">replica_parallel_type</code></a> or
            <a class="link" href="replication-options-replica.html#sysvar_slave_parallel_type"><code class="literal">slave_parallel_type</code></a> already
            be set to <code class="literal">LOGICAL_CLOCK</code>.) There are two
            logical timestamps, listed here, for each transaction:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">sequence_number</code>: This is 1 for the
                first transaction in a given binary log, 2 for the
                second transaction, and so on. The numbering restarts
                with 1 in each binary log file.
              </p></li><li class="listitem"><p>
                <code class="literal">last_committed</code>: This refers to the
                <code class="literal">sequence_number</code> of the most recently
                committed transaction found to conflict with the current
                transaction. This value is always less than
                <code class="literal">sequence_number</code>.
              </p></li></ul></div><p>
            <code class="literal">binlog_transaction_dependency_tracking</code>
            controls the choice of scheme used to compute these logical
            timestamps. Available choices are listed here:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">COMMIT_ORDER</code>: Two transactions are
                considered to be independent if the commit-time window
                of the first transaction overlaps with the commit-time
                window of the second transaction. This the default.
              </p><p>
                The commit-time window begins immediately following the
                execution of the last statement of the transaction, and
                ends immediately after the storage engine commit ends.
                Since transactions hold all row locks between these two
                points in time, we know that they cannot update the same
                rows.
              </p></li><li class="listitem"><p>
                <code class="literal">WRITESET</code>: Logical timestamps are
                computed based on <code class="literal">COMMIT_ORDER</code> in
                combination with a second scheme based on write sets for
                the transaction. Each row in the transaction adds a set
                of one or more hashes to the transaction's write
                set, one of each unique key in the row. (If there are no
                unique, nonnullable keys, a hash of the row is used.)
                This includes both deleted and inserted rows; for
                updated rows, both the old and the new row are also
                included.
              </p><p>
                Two transactions are considered conflicting if their
                write sets overlap—that is, if there is some
                number (hash) that occurs in the write sets of both
                transactions. In addition, due to the way the write sets
                are computed, there are periodic serialization points,
                such that the write set computation process regards
                every transaction after a serialization point as
                conflicting with every transaction before the
                serialization point. Serialization points affect only
                dependencies computed by the <code class="literal">WRITESET</code>
                algorithm; transactions on opposite sides of the
                serialization point may have overlapping commit-time
                windows, and so can be parallelized on replica in spite
                of this. Serialization points occur for DDL statements,
                for transactions updating a table having a foreign key,
                and for transactions where the session value of
                <a class="link" href="replication-options-binary-log.html#sysvar_transaction_write_set_extraction"><code class="literal">transaction_write_set_extraction</code></a>
                is not the same as the global value. A serialization
                point is also imposed if the transactions committed
                since the previous serialization point have generated a
                total of at least
                <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_history_size"><code class="literal">binlog_transaction_dependency_history_size</code></a>
                unique hashes.
              </p><p>
                For multithreaded replicas to work with NDB Cluster
                replication (supported in NDB 8.0.33 and later), this
                variable must be set to <code class="literal">WRITESET</code> on
                the source. See
                <a class="xref" href="mysql-cluster-replication-mta.html" title="23.7.11 NDB Cluster Replication Using the Multithreaded Applier">Section 23.7.11, “NDB Cluster Replication Using the Multithreaded Applier”</a>, for
                more information.
              </p></li><li class="listitem"><p>
                <code class="literal">WRITESET_SESSION</code>: Two transactions
                are considered dependent if either of the following
                statements is true:
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    The transactions are dependent according to
                    <code class="literal">WRITESET</code>.
                  </p></li><li class="listitem"><p>
                    The transactions were committed in the same user
                    session.
                  </p></li></ul></div></li></ul></div><p>
            In <code class="literal">WRITESET</code> or
            <code class="literal">WRITESET_SESSION</code> mode, the source uses
            <code class="literal">COMMIT_ORDER</code> to generate dependency
            information for transactions that have empty or partial
            write sets, transactions that update tables without primary
            or unique keys, and transactions that update parent tables
            in a foreign key relationship.
          </p><p>
            To set
            <code class="literal">binlog_transaction_dependency_tracking</code> to
            <code class="literal">WRITESET</code> or
            <code class="literal">WRITESET_SESSION</code>,
            <a class="link" href="replication-options-binary-log.html#sysvar_transaction_write_set_extraction"><code class="literal">transaction_write_set_extraction</code></a>
            must be set to a value other than <code class="literal">OFF</code>;
            the default value (<code class="literal">XXHASH64</code>) is
            sufficient for this.
            <code class="literal">transaction_write_set_extraction</code> cannot
            be changed whenever the value of
            <code class="literal">binlog_transaction_dependency_tracking</code> is
            <code class="literal">WRITESET</code> or
            <code class="literal">WRITESET_SESSION</code>. Any change in the value
            does not take effect for replicated transactions until after
            the replica has been stopped and restarted with
            <a class="link" href="stop-replica.html" title="13.4.2.10 STOP REPLICA Statement"><code class="literal">STOP REPLICA</code></a> and
            <a class="link" href="start-replica.html" title="13.4.2.8 START REPLICA Statement"><code class="literal">START REPLICA</code></a>.
          </p><p>
            The number of row hashes to be kept and checked for the
            latest transaction to have changed a given row is determined
            by the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_history_size"><code class="literal">binlog_transaction_dependency_history_size</code></a>.
          </p><p>
            Group Replication carries out its own parallelization after
            certification when applying transactions from the relay log,
            independently of any value set for
            <code class="literal">binlog_transaction_dependency_tracking</code>,
            but this variable does affect how transactions are written
            to the binary logs on Group Replication members. The
            dependency information in those logs is used to assist the
            process of state transfer from a donor's binary log for
            distributed recovery, which takes place whenever a member
            joins or rejoins the group. For that process, setting
            <code class="literal">binlog_transaction_dependency_tracking</code> to
            <code class="literal">WRITESET</code> can improve performance for a
            group member, depending on the group's workload.
          </p></li><li class="listitem"><p><a id="sysvar_binlog_transaction_dependency_history_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_history_size"><code class="literal">binlog_transaction_dependency_history_size</code></a>
          </p><a id="idm45828861287968" class="indexterm"></a><a id="idm45828861286848" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for binlog_transaction_dependency_history_size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--binlog-transaction-dependency-history-size=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_history_size">binlog_transaction_dependency_history_size</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">25000</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">1</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">1000000</code></td>
</tr></tbody></table></div><p>
            Sets an upper limit on the number of row hashes which are
            kept in memory and used for looking up the transaction that
            last modified a given row. Once this number of hashes has
            been reached, the history is purged.
          </p></li><li class="listitem"><p><a id="sysvar_expire_logs_days"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a>
          </p><a id="idm45828861257104" class="indexterm"></a><a id="idm45828861256016" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for expire_logs_days"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--expire-logs-days=#</code></td>
</tr><tr><th>Deprecated</th>
<td>Yes</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days">expire_logs_days</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">99</code></td>
</tr><tr><th>Unit</th>
<td>days</td>
</tr></tbody></table></div><p>
            Specifies the number of days before automatic removal of
            binary log files.
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a> is
            deprecated, and you should expect it to be removed in a
            future release. Instead, use
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>,
            which sets the binary log expiration period in seconds. If
            you do not set a value for either system variable, the
            default expiration period is 30 days. Possible removals
            happen at startup and when the binary log is flushed. Log
            flushing occurs as indicated in
            <a class="xref" href="server-logs.html" title="5.4 MySQL Server Logs">Section 5.4, “MySQL Server Logs”</a>.
          </p><p>
            Any non-zero value that you specify at startup for
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a> is ignored
            if
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            is also specified, and the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            is used instead as the binary log expiration period. A
            warning message is issued in this situation. A non-zero
            startup value for
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a>
            is only applied as the binary log expiration period if
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            is not specified or is specified as 0.
          </p><p>
            At runtime, you cannot set
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            or <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a> to a
            non-zero value if the other is currently set to a non-zero
            value. Because the default value for
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            is non-zero, you must explicitly set
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            to zero before you can set or change the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a>.
          </p><p>
            To disable automatic purging of the binary log, specify a
            value of 0 explicitly for
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>,
            and do not specify a value for
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a>. For
            compatibility with earlier releases, automatic purging is
            also disabled if you specify a value of 0 explicitly for
            <a class="link" href="replication-options-binary-log.html#sysvar_expire_logs_days"><code class="literal">expire_logs_days</code></a> and do not
            specify a value for
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>.
            In that case, the default for
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds"><code class="literal">binlog_expire_logs_seconds</code></a>
            is not applied.
          </p><p>
            To remove binary log files manually, use the
            <a class="link" href="purge-binary-logs.html" title="13.4.1.1 PURGE BINARY LOGS Statement"><code class="literal">PURGE BINARY LOGS</code></a> statement.
            See <a class="xref" href="purge-binary-logs.html" title="13.4.1.1 PURGE BINARY LOGS Statement">Section 13.4.1.1, “PURGE BINARY LOGS Statement”</a>.
          </p></li><li class="listitem"><p><a id="sysvar_log_bin"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin"><code class="literal">log_bin</code></a>
          </p><a id="idm45828861195376" class="indexterm"></a><a id="idm45828861194304" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_bin"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_bin">log_bin</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr></tbody></table></div><p>
            Shows the status of binary logging on the server, either
            enabled (<code class="literal">ON</code>) or disabled
            (<code class="literal">OFF</code>). With binary logging enabled, the
            server logs all statements that change data to the binary
            log, which is used for backup and replication.
            <code class="literal">ON</code> means that the binary log is
            available, <code class="literal">OFF</code> means that it is not in
            use. The <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> option can
            be used to specify a base name and location for the binary
            log.
          </p><p>
            In earlier MySQL versions, binary logging was disabled by
            default, and was enabled if you specified the
            <code class="option">--log-bin</code> option. From MySQL 8.0, binary
            logging is enabled by default, with the
            <code class="literal">log_bin</code> system variable set to
            <code class="literal">ON</code>, whether or not you specify the
            <code class="option">--log-bin</code> option. The exception is if you
            use <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to initialize the data
            directory manually by invoking it with the
            <code class="option">--initialize</code> or
            <code class="option">--initialize-insecure</code> option, when binary
            logging is disabled by default. It is possible to enable
            binary logging in this case by specifying the
            <code class="option">--log-bin</code> option.


          </p><p>
            If the
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--skip-log-bin</code></a>
            or
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--disable-log-bin</code></a>
            option is specified at startup, binary logging is disabled,
            with the <code class="literal">log_bin</code> system variable set to
            <code class="literal">OFF</code>. If either of these options is
            specified and <code class="option">--log-bin</code> is also specified,
            the option specified later takes precedence.
          </p><p>
            For information on the format and management of the binary
            log, see <a class="xref" href="binary-log.html" title="5.4.4 The Binary Log">Section 5.4.4, “The Binary Log”</a>.
          </p></li><li class="listitem"><p><a id="sysvar_log_bin_basename"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin_basename"><code class="literal">log_bin_basename</code></a>
          </p><a id="idm45828861159248" class="indexterm"></a><a id="idm45828861158160" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_bin_basename"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_bin_basename">log_bin_basename</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>File name</td>
</tr></tbody></table></div><p>
            Holds the base name and path for the binary log files, which
            can be set with the <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>
            server option. The maximum variable length is 256. In MySQL
            8.0, if the <code class="option">--log-bin</code> option
            is not supplied, the default base name is
            <code class="filename">binlog</code>. For compatibility with MySQL
            5.7, if the <code class="option">--log-bin</code> option is supplied
            with no string or with an empty string, the default base
            name is
            <code class="filename"><em class="replaceable"><code>host_name</code></em>-bin</code>,
            using the name of the host machine. The default location is
            the data directory.

            
          </p></li><li class="listitem"><p><a id="sysvar_log_bin_index"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin_index"><code class="literal">log_bin_index</code></a>
          </p><a id="idm45828861134032" class="indexterm"></a><a id="idm45828861132944" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log-bin-index"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-bin-index=file_name</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_bin_index">log_bin_index</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>File name</td>
</tr></tbody></table></div><p>
            Holds the base name and path for the binary log index file,
            which can be set with the
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin-index"><code class="option">--log-bin-index</code></a> server
            option. The maximum variable length is 256.
          </p></li><li class="listitem"><p><a id="sysvar_log_bin_trust_function_creators"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin_trust_function_creators"><code class="literal">log_bin_trust_function_creators</code></a>
          </p><a id="idm45828861109696" class="indexterm"></a><a id="idm45828861108592" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_bin_trust_function_creators"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-bin-trust-function-creators[={OFF|ON}]</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.34</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_bin_trust_function_creators">log_bin_trust_function_creators</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            This variable applies when binary logging is enabled. It
            controls whether stored function creators can be trusted not
            to create stored functions that may cause unsafe events to
            be written to the binary log. If set to 0 (the default),
            users are not permitted to create or alter stored functions
            unless they have the <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a>
            privilege in addition to the <a class="link" href="privileges-provided.html#priv_create-routine"><code class="literal">CREATE
            ROUTINE</code></a> or <a class="link" href="privileges-provided.html#priv_alter-routine"><code class="literal">ALTER
            ROUTINE</code></a> privilege. A setting of 0 also enforces
            the restriction that a function must be declared with the
            <code class="literal">DETERMINISTIC</code> characteristic, or with the
            <code class="literal">READS SQL DATA</code> or <code class="literal">NO
            SQL</code> characteristic. If the variable is set to 1,
            MySQL does not enforce these restrictions on stored function
            creation. This variable also applies to trigger creation.
            See <a class="xref" href="stored-programs-logging.html" title="25.7 Stored Program Binary Logging">Section 25.7, “Stored Program Binary Logging”</a>.
          </p></li><li class="listitem"><p><a id="sysvar_log_bin_use_v1_row_events"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_bin_use_v1_row_events"><code class="literal">log_bin_use_v1_row_events</code></a>
          </p><a id="idm45828861074656" class="indexterm"></a><a id="idm45828861073552" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_bin_use_v1_row_events"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-bin-use-v1-row-events[={OFF|ON}]</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.18</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_bin_use_v1_row_events">log_bin_use_v1_row_events</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            This read-only system variable is deprecated. Setting the
            system variable to <code class="literal">ON</code> at server startup
            enabled row-based replication with replicas running MySQL
            Server 5.5 and earlier by writing the binary log using
            Version 1 binary log row events, instead of Version 2 binary
            log row events which are the default as of MySQL 5.6.
          </p></li><li class="listitem"><p><a id="sysvar_log_replica_updates"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a>
          </p><a id="idm45828861045840" class="indexterm"></a><a id="idm45828861044800" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_replica_updates"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-replica-updates[={OFF|ON}]</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.26</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates">log_replica_updates</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ON</code></td>
</tr></tbody></table></div><p>
            From MySQL 8.0.26, use
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a> in
            place of <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a>,
            which is deprecated from that release. In releases before
            MySQL 8.0.26, use
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a>.
          </p><p>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a>
            specifies whether updates received by a replica server from
            a replication source server should be logged to the
            replica's own binary log.
          </p><p>
            Enabling this variable causes the replica to write the
            updates that are received from a source and performed by the
            replication SQL thread to the replica's own binary log.
            Binary logging, which is controlled by the
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> option and is
            enabled by default, must also be enabled on the replica for
            updates to be logged. See
            <a class="xref" href="replication-options.html" title="17.1.6 Replication and Binary Logging Options and Variables">Section 17.1.6, “Replication and Binary Logging Options and Variables”</a>.
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a> is
            enabled by default, unless you specify
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--skip-log-bin</code></a>
            to disable binary logging, in which case MySQL also disables
            replica update logging by default. If you need to disable
            replica update logging when binary logging is enabled,
            specify
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="option">--log-replica-updates=OFF</code></a> at
            replica server startup.
          </p><p>
            Enabling
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a> enables
            replication servers to be chained. For example, you might
            want to set up replication servers using this arrangement:
          </p><pre class="programlisting">A -&gt; B -&gt; C
</pre><p>
            Here, <code class="literal">A</code> serves as the source for the
            replica <code class="literal">B</code>, and <code class="literal">B</code>
            serves as the source for the replica <code class="literal">C</code>.
            For this to work, <code class="literal">B</code> must be both a source
            <span class="emphasis"><em>and</em></span> a replica. With binary logging
            enabled and
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a>
            enabled, which are the default settings, updates received
            from <code class="literal">A</code> are logged by <code class="literal">B</code>
            to its binary log, and can therefore be passed on to
            <code class="literal">C</code>.
          </p></li><li class="listitem"><p><a id="sysvar_log_slave_updates"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a>
          </p><a id="idm45828860995760" class="indexterm"></a><a id="idm45828860994720" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_slave_updates"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-slave-updates[={OFF|ON}]</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.26</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates">log_slave_updates</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>No</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ON</code></td>
</tr></tbody></table></div><p>
            From MySQL 8.0.26,
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a> is
            deprecated and the alias
            <a class="link" href="replication-options-binary-log.html#sysvar_log_replica_updates"><code class="literal">log_replica_updates</code></a> should
            be used instead. In releases before MySQL 8.0.26, use
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a>.
          </p><p>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a> specifies
            whether updates received by a replica server from a
            replication source server should be logged to the replica's
            own binary log.
          </p><p>
            Enabling this variable causes the replica to write the
            updates that are received from a source and performed by the
            replication SQL thread to the replica's own binary log.
            Binary logging, which is controlled by the
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> option and is
            enabled by default, must also be enabled on the replica for
            updates to be logged. See
            <a class="xref" href="replication-options.html" title="17.1.6 Replication and Binary Logging Options and Variables">Section 17.1.6, “Replication and Binary Logging Options and Variables”</a>.
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a> is
            enabled by default, unless you specify
            <a class="link" href="replication-options-binary-log.html#option_mysqld_log-bin"><code class="option">--skip-log-bin</code></a>
            to disable binary logging, in which case MySQL also disables
            replica update logging by default. If you need to disable
            replica update logging when binary logging is enabled,
            specify
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="option">--log-slave-updates=OFF</code></a> at
            replica server startup.
          </p><p>
            Enabling <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a>
            enables replication servers to be chained. For example, you
            might want to set up replication servers using this
            arrangement:
          </p><pre class="programlisting">A -&gt; B -&gt; C
</pre><p>
            Here, <code class="literal">A</code> serves as the source for the
            replica <code class="literal">B</code>, and <code class="literal">B</code>
            serves as the source for the replica <code class="literal">C</code>.
            For this to work, <code class="literal">B</code> must be both a source
            <span class="emphasis"><em>and</em></span> a replica. With binary logging
            enabled and
            <a class="link" href="replication-options-binary-log.html#sysvar_log_slave_updates"><code class="literal">log_slave_updates</code></a> enabled,
            which are the default settings, updates received from
            <code class="literal">A</code> are logged by <code class="literal">B</code> to
            its binary log, and can therefore be passed on to
            <code class="literal">C</code>.
          </p></li><li class="listitem"><p><a id="sysvar_log_statements_unsafe_for_binlog"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_log_statements_unsafe_for_binlog"><code class="literal">log_statements_unsafe_for_binlog</code></a>
          </p><a id="idm45828860945744" class="indexterm"></a><a id="idm45828860944640" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for log_statements_unsafe_for_binlog"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--log-statements-unsafe-for-binlog[={OFF|ON}]</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.34</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_log_statements_unsafe_for_binlog">log_statements_unsafe_for_binlog</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ON</code></td>
</tr></tbody></table></div><p>
            If error 1592 is encountered, controls whether the generated
            warnings are added to the error log or not.
          </p></li><li class="listitem"><p><a id="sysvar_master_verify_checksum"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a>
          </p><a id="idm45828860917840" class="indexterm"></a><a id="idm45828860916800" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for master_verify_checksum"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--master-verify-checksum[={OFF|ON}]</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.26</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum">master_verify_checksum</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            From MySQL 8.0.26,
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a> is
            deprecated and the alias
            <a class="link" href="replication-options-binary-log.html#sysvar_source_verify_checksum"><code class="literal">source_verify_checksum</code></a>
            should be used instead. In releases before MySQL 8.0.26, use
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a>.
          </p><p>
            Enabling
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a>
            causes the source to verify events read from the binary log
            by examining checksums, and to stop with an error in the
            event of a mismatch.
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a> is
            disabled by default; in this case, the source uses the event
            length from the binary log to verify events, so that only
            complete events are read from the binary log.
          </p></li><li class="listitem"><p><a id="sysvar_max_binlog_cache_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_cache_size"><code class="literal">max_binlog_cache_size</code></a>
          </p><a id="idm45828860882944" class="indexterm"></a><a id="idm45828860881904" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for max_binlog_cache_size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--max-binlog-cache-size=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_cache_size">max_binlog_cache_size</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">18446744073709547520</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">4096</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">18446744073709547520</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr><tr><th>Block Size</th>
<td><code class="literal">4096</code></td>
</tr></tbody></table></div><p>
            If a transaction requires more than this many bytes of
            memory, the server generates a <span class="errortext">Multi-statement
            transaction required more than 'max_binlog_cache_size' bytes
            of storage</span> error. The minimum value is 4096. The
            maximum possible value is 16EiB (exbibytes). The maximum
            recommended value is 4GB; this is due to the fact that MySQL
            currently cannot work with binary log positions greater than
            4GB.
          </p><p>
            The block size is 4096. A value that is not an exact
            multiple of the block size is rounded down to the next lower
            multiple of the block size by MySQL Server before storing
            the value for the system variable. The parser allows values
            up to the maximum unsigned integer value for the platform
            (4294967295 or 2<sup>32</sup>−1 for a
            32-bit system, 18446744073709551615 or
            2<sup>64</sup>−1 for a 64-bit system)
            but the actual maximum is a block size lower.
          </p><p>
            <code class="literal">max_binlog_cache_size</code> sets the size for
            the transaction cache only; the upper limit for the
            statement cache is governed by the
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size"><code class="literal">max_binlog_stmt_cache_size</code></a>
            system variable.
          </p><p>
            The visibility to sessions of
            <code class="literal">max_binlog_cache_size</code> matches that of the
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_cache_size"><code class="literal">binlog_cache_size</code></a> system
            variable; in other words, changing its value affects only
            new sessions that are started after the value is changed.
          </p></li><li class="listitem"><p><a id="sysvar_max_binlog_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_size"><code class="literal">max_binlog_size</code></a>
          </p><a id="idm45828860840224" class="indexterm"></a><a id="idm45828860839136" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for max_binlog_size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--max-binlog-size=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_size">max_binlog_size</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">1073741824</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">4096</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">1073741824</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr><tr><th>Block Size</th>
<td><code class="literal">4096</code></td>
</tr></tbody></table></div><p>
            If a write to the binary log causes the current log file
            size to exceed the value of this variable, the server
            rotates the binary logs (closes the current file and opens
            the next one). The minimum value is 4096 bytes. The maximum
            and default value is 1GB. Encrypted binary log files have an
            additional 512-byte header, which is included in
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_size"><code class="literal">max_binlog_size</code></a>.
          </p><p>
            A transaction is written in one chunk to the binary log, so
            it is never split between several binary logs. Therefore, if
            you have big transactions, you might see binary log files
            larger than
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_size"><code class="literal">max_binlog_size</code></a>.
          </p><p>
            If <a class="link" href="replication-options-replica.html#sysvar_max_relay_log_size"><code class="literal">max_relay_log_size</code></a> is 0,
            the value of
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_size"><code class="literal">max_binlog_size</code></a> applies to
            relay logs as well.
          </p><p>
            With GTIDs in use on the server, when
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_size"><code class="literal">max_binlog_size</code></a> is reached,
            if the system table <code class="literal">mysql.gtid_executed</code>
            cannot be accessed to write the GTIDs from the current
            binary log file, the binary log cannot be rotated. In this
            situation, the server responds according to its
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_error_action"><code class="literal">binlog_error_action</code></a>
            setting. If <code class="literal">IGNORE_ERROR</code> is set, an error
            is logged on the server and binary logging is halted, or if
            <code class="literal">ABORT_SERVER</code> is set, the server shuts
            down.


          </p></li><li class="listitem"><p><a id="sysvar_max_binlog_stmt_cache_size"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size"><code class="literal">max_binlog_stmt_cache_size</code></a>
          </p><a id="idm45828860793232" class="indexterm"></a><a id="idm45828860792128" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for max_binlog_stmt_cache_size"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--max-binlog-stmt-cache-size=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size">max_binlog_stmt_cache_size</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">18446744073709547520</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">4096</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">18446744073709547520</code></td>
</tr><tr><th>Unit</th>
<td>bytes</td>
</tr><tr><th>Block Size</th>
<td><code class="literal">4096</code></td>
</tr></tbody></table></div><p>
            If nontransactional statements within a transaction require
            more than this many bytes of memory, the server generates an
            error. The minimum value is 4096. The maximum and default
            values are 4GB on 32-bit platforms and 16EB (exabytes) on
            64-bit platforms.
          </p><p>
            The block size is 4096. A value that is not an exact
            multiple of the block size is rounded down to the next lower
            multiple of the block size by MySQL Server before storing
            the value for the system variable. The parser allows values
            up to the maximum unsigned integer value for the platform
            (4294967295 or 2<sup>32</sup>−1 for a
            32-bit system, 18446744073709551615 or
            2<sup>64</sup>−1 for a 64-bit system)
            but the actual maximum is a block size lower.
          </p><p>
            <code class="literal">max_binlog_stmt_cache_size</code> sets the size
            for the statement cache only; the upper limit for the
            transaction cache is governed exclusively by the
            <a class="link" href="replication-options-binary-log.html#sysvar_max_binlog_cache_size"><code class="literal">max_binlog_cache_size</code></a>
            system variable.
          </p></li><li class="listitem"><p><a id="sysvar_original_commit_timestamp"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_original_commit_timestamp"><code class="literal">original_commit_timestamp</code></a>
          </p><a id="idm45828860753504" class="indexterm"></a><a id="idm45828860752400" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for original_commit_timestamp"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_original_commit_timestamp">original_commit_timestamp</a></code></td>
</tr><tr><th>Scope</th>
<td>Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Numeric</td>
</tr></tbody></table></div><p>
            For internal use by replication. When re-executing a
            transaction on a replica, this is set to the time when the
            transaction was committed on the original source, measured
            in microseconds since the epoch. This allows the original
            commit timestamp to be propagated throughout a replication
            topology.
          </p><p>
            Setting the session value of this system variable is a
            restricted operation. The session user must have either the
            <a class="link" href="privileges-provided.html#priv_replication-applier"><code class="literal">REPLICATION_APPLIER</code></a> privilege
            (see <a class="xref" href="replication-privilege-checks.html" title="17.3.3 Replication Privilege Checks">Section 17.3.3, “Replication Privilege Checks”</a>), or
            privileges sufficient to set restricted session variables
            (see <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>). However,
            note that the variable is not intended for users to set; it
            is set automatically by the replication infrastructure.
          </p></li><li class="listitem"><p><a id="sysvar_source_verify_checksum"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_source_verify_checksum"><code class="literal">source_verify_checksum</code></a>
          </p><a id="idm45828860728832" class="indexterm"></a><a id="idm45828860727792" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for source_verify_checksum"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--source-verify-checksum[={OFF|ON}]</code></td>
</tr><tr><th>Introduced</th>
<td>8.0.26</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_source_verify_checksum">source_verify_checksum</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">OFF</code></td>
</tr></tbody></table></div><p>
            From MySQL 8.0.26, use
            <a class="link" href="replication-options-binary-log.html#sysvar_source_verify_checksum"><code class="literal">source_verify_checksum</code></a> in
            place of
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a>,
            which is deprecated from that release. In releases before
            MySQL 8.0.26, use
            <a class="link" href="replication-options-binary-log.html#sysvar_master_verify_checksum"><code class="literal">master_verify_checksum</code></a>.
          </p><p>
            Enabling
            <a class="link" href="replication-options-binary-log.html#sysvar_source_verify_checksum"><code class="literal">source_verify_checksum</code></a>
            causes the source to verify events read from the binary log
            by examining checksums, and to stop with an error in the
            event of a mismatch.
            <a class="link" href="replication-options-binary-log.html#sysvar_source_verify_checksum"><code class="literal">source_verify_checksum</code></a> is
            disabled by default; in this case, the source uses the event
            length from the binary log to verify events, so that only
            complete events are read from the binary log.
          </p></li><li class="listitem"><p><a id="sysvar_sql_log_bin"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a>
          </p><a id="idm45828860694032" class="indexterm"></a><a id="idm45828860692944" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for sql_log_bin"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_sql_log_bin">sql_log_bin</a></code></td>
</tr><tr><th>Scope</th>
<td>Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Boolean</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">ON</code></td>
</tr></tbody></table></div><p>
            This variable controls whether logging to the binary log is
            enabled for the current session (assuming that the binary
            log itself is enabled). The default value is
            <code class="literal">ON</code>. To disable or enable binary logging
            for the current session, set the session
            <a class="link" href="replication-options-binary-log.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a> variable to
            <code class="literal">OFF</code> or <code class="literal">ON</code>.
          </p><p>
            Set this variable to <code class="literal">OFF</code> for a session to
            temporarily disable binary logging while making changes to
            the source you do not want replicated to the replica.
          </p><p>
            Setting the session value of this system variable is a
            restricted operation. The session user must have privileges
            sufficient to set restricted session variables. See
            <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>.
          </p><p>
            It is not possible to set the session value of
            <a class="link" href="replication-options-binary-log.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a> within a
            transaction or subquery.
          </p><p>
            <span class="emphasis"><em>Setting this variable to <code class="literal">OFF</code>
            prevents GTIDs from being assigned to transactions in the
            binary log</em></span>. If you are using GTIDs for
            replication, this means that even when binary logging is
            later enabled again, the GTIDs written into the log from
            this point do not account for any transactions that occurred
            in the meantime, so in effect those transactions are lost.
          </p></li><li class="listitem"><p><a id="sysvar_sync_binlog"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog</code></a>
          </p><a id="idm45828860661136" class="indexterm"></a><a id="idm45828860660048" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for sync_binlog"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--sync-binlog=#</code></td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog">sync_binlog</a></code></td>
</tr><tr><th>Scope</th>
<td>Global</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Integer</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">1</code></td>
</tr><tr><th>Minimum Value</th>
<td><code class="literal">0</code></td>
</tr><tr><th>Maximum Value</th>
<td><code class="literal">4294967295</code></td>
</tr></tbody></table></div><p>
            Controls how often the MySQL server synchronizes the binary
            log to disk.
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=0</code></a>: Disables
                synchronization of the binary log to disk by the MySQL
                server. Instead, the MySQL server relies on the
                operating system to flush the binary log to disk from
                time to time as it does for any other file. This setting
                provides the best performance, but in the event of a
                power failure or operating system crash, it is possible
                that the server has committed transactions that have not
                been synchronized to the binary log.
              </p></li><li class="listitem"><p>
                <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=1</code></a>: Enables
                synchronization of the binary log to disk before
                transactions are committed. This is the safest setting
                but can have a negative impact on performance due to the
                increased number of disk writes. In the event of a power
                failure or operating system crash, transactions that are
                missing from the binary log are only in a prepared
                state. This permits the automatic recovery routine to
                roll back the transactions, which guarantees that no
                transaction is lost from the binary log.
              </p></li><li class="listitem"><p>
                <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=<em class="replaceable"><code>N</code></em></code></a>,
                where <em class="replaceable"><code>N</code></em> is a value other than
                0 or 1: The binary log is synchronized to disk after
                <code class="literal">N</code> binary log commit groups have been
                collected. In the event of a power failure or operating
                system crash, it is possible that the server has
                committed transactions that have not been flushed to the
                binary log. This setting can have a negative impact on
                performance due to the increased number of disk writes.
                A higher value improves performance, but with an
                increased risk of data loss.
              </p></li></ul></div><p>
            For the greatest possible durability and consistency in a
            replication setup that uses <code class="literal">InnoDB</code> with
            transactions, use these settings:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog"><code class="literal">sync_binlog=1</code></a>.
              </p></li><li class="listitem"><p>
                <a class="link" href="innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit"><code class="literal">innodb_flush_log_at_trx_commit=1</code></a>.
              </p></li></ul></div><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Caution</div><p>
              Many operating systems and some disk hardware fool the
              flush-to-disk operation. They may tell
              <a class="link" href="mysqld.html" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> that the flush has taken place,
              even though it has not. In this case, the durability of
              transactions is not guaranteed even with the recommended
              settings, and in the worst case, a power outage can
              corrupt <code class="literal">InnoDB</code> data. Using a
              battery-backed disk cache in the SCSI disk controller or
              in the disk itself speeds up file flushes, and makes the
              operation safer. You can also try to disable the caching
              of disk writes in hardware caches.
            </p></div></li><li class="listitem"><p><a id="sysvar_transaction_write_set_extraction"></a>
            <a class="link" href="replication-options-binary-log.html#sysvar_transaction_write_set_extraction"><code class="literal">transaction_write_set_extraction</code></a>
          </p><a id="idm45828860611968" class="indexterm"></a><a id="idm45828860610880" class="indexterm"></a><div class="informaltable"><table frame="box" rules="all" summary="Properties for transaction_write_set_extraction"><col style="width: 30%" /><col style="width: 70%" /><tbody><tr><th>Command-Line Format</th>
<td><code class="literal">--transaction-write-set-extraction[=value]</code></td>
</tr><tr><th>Deprecated</th>
<td>8.0.26</td>
</tr><tr><th>System Variable</th>
<td><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_transaction_write_set_extraction">transaction_write_set_extraction</a></code></td>
</tr><tr><th>Scope</th>
<td>Global, Session</td>
</tr><tr><th>Dynamic</th>
<td>Yes</td>
</tr><tr><th><a class="link" href="optimizer-hints.html#optimizer-hints-set-var" title="Variable-Setting Hint Syntax"><code class="literal">SET_VAR</code></a> Hint Applies</th>
<td>No</td>
</tr><tr><th>Type</th>
<td>Enumeration</td>
</tr><tr><th>Default Value</th>
<td><code class="literal">XXHASH64</code></td>
</tr><tr><th>Valid Values</th>
<td><p class="valid-value"><code class="literal">OFF</code></p><p class="valid-value"><code class="literal">MURMUR32</code></p><p class="valid-value"><code class="literal">XXHASH64</code></p></td>
</tr></tbody></table></div><p>
            This system variable specifies the algorithm used to hash
            the writes extracted during a transaction. The default is
            <code class="literal">XXHASH64</code>. <code class="literal">OFF</code> means
            that write sets are not collected.
          </p><p>
            <code class="literal">transaction_write_set_extraction</code> is
            deprecated as of MySQL 8.0.26; expect it to be removed in a
            future MySQL release.
          </p><p>
            The <code class="literal">XXHASH64</code> setting is required for
            Group Replication, where the process of extracting the
            writes from a transaction is used for conflict detection and
            certification on all group members (see
            <a class="xref" href="group-replication-requirements.html" title="18.3.1 Group Replication Requirements">Section 18.3.1, “Group Replication Requirements”</a>). For a
            replication source server that has multithreaded replicas
            (replicas on which
            <a class="link" href="replication-options-replica.html#sysvar_replica_parallel_workers"><code class="literal">replica_parallel_workers</code></a> or
            <a class="link" href="replication-options-replica.html#sysvar_slave_parallel_workers"><code class="literal">slave_parallel_workers</code></a> is
            set to a value greater than 0), where
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_tracking"><code class="literal">binlog_transaction_dependency_tracking</code></a>
            is set to <code class="literal">WRITESET</code> or
            <code class="literal">WRITESET_SESSION</code>,
            <code class="literal">transaction_write_set_extraction</code> must not
            be <code class="literal">OFF</code>. While the current value of
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_dependency_tracking"><code class="literal">binlog_transaction_dependency_tracking</code></a>
            is <code class="literal">WRITESET</code> or
            <code class="literal">WRITESET_SESSION</code>, you cannot change the
            value of
            <code class="literal">transaction_write_set_extraction</code>.
          </p><p>
            As of MySQL 8.0.14, setting the session value of this system
            variable is a restricted operation; the session user must
            have privileges sufficient to set restricted session
            variables (see
            <a class="xref" href="system-variable-privileges.html" title="5.1.9.1 System Variable Privileges">Section 5.1.9.1, “System Variable Privileges”</a>).
            <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> must be set
            to <code class="literal">ROW</code> to change the value of
            <code class="literal">transaction_write_set_extraction</code>. If you
            change the value, the new value does not take effect on
            replicated transactions until after the replica has been
            stopped and restarted with <a class="link" href="stop-replica.html" title="13.4.2.10 STOP REPLICA Statement"><code class="literal">STOP
            REPLICA</code></a> and <a class="link" href="start-replica.html" title="13.4.2.8 START REPLICA Statement"><code class="literal">START
            REPLICA</code></a>.
          </p></li></ul></div></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="replication-options-replica.html">Previous <span class="navHint"> Replica Server Options and Variables </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="replication-options.html">Up <span class="navHint"> Replication and Binary Logging Options and Variables </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="replication-options-gtids.html">Next <span class="navHint"> Global Transaction ID System Variables </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>