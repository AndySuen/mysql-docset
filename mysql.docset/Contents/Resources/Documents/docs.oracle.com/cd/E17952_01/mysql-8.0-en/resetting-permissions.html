<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-3821"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/B.3.3.2%C2%A0How%20to%20Reset%20the%20Root%20Password"></a><title>B.3.3.2&nbsp;How to Reset the Root Password</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="administration-issues.html" title="B.3.3&nbsp;Administration-Related Issues"/><link rel="prev" href="file-permissions.html" title="B.3.3.1&nbsp;Problems with File Permissions"/><link rel="next" href="crashing.html" title="B.3.3.3&nbsp;What to Do If MySQL Keeps Crashing"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="resetting-permissions.html#resetting-permissions">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="file-permissions.html">Previous <span class="navHint"> Problems with File Permissions </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="administration-issues.html">Up <span class="navHint"> Administration-Related Issues </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="crashing.html">Next <span class="navHint"> What to Do If MySQL Keeps Crashing </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><a class="dashingAutolink" name="autolink-3820"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/B.3.3.2%C2%A0How%20to%20Reset%20the%20Root%20Password"></a><h4 class="title"><a id="resetting-permissions"></a>B.3.3.2&nbsp;How to Reset the Root Password</h4></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="resetting-permissions.html#resetting-permissions-windows">B.3.3.2.1 Resetting the Root Password: Windows Systems</a></span></li><li><span class="section"><a href="resetting-permissions.html#resetting-permissions-unix">B.3.3.2.2 Resetting the Root Password: Unix and Unix-Like Systems</a></span></li><li><span class="section"><a href="resetting-permissions.html#resetting-permissions-generic">B.3.3.2.3 Resetting the Root Password: Generic Instructions</a></span></li></ul></div><a id="idm45828775000432" class="indexterm"></a><a id="idm45828774998976" class="indexterm"></a><a id="idm45828774997488" class="indexterm"></a><a id="idm45828774996000" class="indexterm"></a><p>
          If you have never assigned a <code class="literal">root</code> password
          for MySQL, the server does not require a password at all for
          connecting as <code class="literal">root</code>. However, this is
          insecure. For instructions on assigning a password, see
          <a class="xref" href="default-privileges.html" title="2.9.4&nbsp;Securing the Initial MySQL Account">Section&nbsp;2.9.4, &ldquo;Securing the Initial MySQL Account&rdquo;</a>.
        </p><p>
          If you know the <code class="literal">root</code> password and want to
          change it, see <a class="xref" href="alter-user.html" title="13.7.1.1&nbsp;ALTER USER Statement">Section&nbsp;13.7.1.1, &ldquo;ALTER USER Statement&rdquo;</a>, and
          <a class="xref" href="set-password.html" title="13.7.1.10&nbsp;SET PASSWORD Statement">Section&nbsp;13.7.1.10, &ldquo;SET PASSWORD Statement&rdquo;</a>.
        </p><p>
          If you assigned a <code class="literal">root</code> password previously
          but have forgotten it, you can assign a new password. The
          following sections provide instructions for Windows and Unix
          and Unix-like systems, as well as generic instructions that
          apply to any system.
        </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="resetting-permissions-windows"></a>B.3.3.2.1&nbsp;Resetting the Root Password: Windows Systems</h5></div></div></div><p>
            On Windows, use the following procedure to reset the
            password for the MySQL <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code>
            account. To change the password for a
            <code class="literal">root</code> account with a different host name
            part, modify the instructions to use that host name.
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                Log on to your system as Administrator.
              </p></li><li class="listitem"><p>
                Stop the MySQL server if it is running. For a server
                that is running as a Windows service, go to the Services
                manager: From the <span class="guimenu">Start</span> menu, select
                <span class="guisubmenu">Control Panel</span>, then
                <span class="guisubmenu">Administrative Tools</span>, then
                <span class="guimenuitem">Services</span>. Find the MySQL
                service in the list and stop it.
              </p><p>
                If your server is not running as a service, you may need
                to use the Task Manager to force it to stop.
              </p></li><li class="listitem"><p>
                Create a text file containing the password-assignment
                statement on a single line. Replace the password with
                the password that you want to use.
              </p><pre class="programlisting">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;MyNewPass&#39;;
</pre></li><li class="listitem"><p>
                Save the file. This example assumes that you name the
                file <code class="filename">C:\mysql-init.txt</code>.
              </p></li><li class="listitem"><p>
                Open a console window to get to the command prompt: From
                the <span class="guimenu">Start</span> menu, select
                <span class="guisubmenu">Run</span>, then enter
                <span class="command"><strong>cmd</strong></span> as the command to be run.
              </p></li><li class="listitem"><p>
                Start the MySQL server with the
                <a class="link" href="server-system-variables.html#sysvar_init_file"><code class="literal">init_file</code></a> system
                variable set to name the file (notice that the backslash
                in the option value is doubled):
              </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>cd &#34;C:\Program Files\MySQL\MySQL Server 8.0\bin&#34;</code></strong>
C:\&gt; <strong class="userinput"><code>mysqld --init-file=C:\\mysql-init.txt</code></strong>
</pre><p>
                If you installed MySQL to a different location, adjust
                the <span class="command"><strong>cd</strong></span> command accordingly.
              </p><p>
                The server executes the contents of the file named by
                the <a class="link" href="server-system-variables.html#sysvar_init_file"><code class="literal">init_file</code></a> system
                variable at startup, changing the
                <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code> account password.
              </p><p>
                To have server output to appear in the console window
                rather than in a log file, add the
                <a class="link" href="server-options.html#option_mysqld_console"><code class="option">--console</code></a> option to the
                <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> command.
              </p><p>
                If you installed MySQL using the MySQL Installation
                Wizard, you may need to specify a
                <a class="link" href="option-file-options.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option.
                For example:
              </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>mysqld</code></strong>
         <strong class="userinput"><code>--defaults-file=&#34;C:\\ProgramData\\MySQL\\MySQL Server 8.0\\my.ini&#34;</code></strong>
         <strong class="userinput"><code>--init-file=C:\\mysql-init.txt</code></strong>
</pre><p>
                The appropriate
                <a class="link" href="option-file-options.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> setting
                can be found using the Services Manager: From the
                <span class="guimenu">Start</span> menu, select
                <span class="guisubmenu">Control Panel</span>, then
                <span class="guisubmenu">Administrative Tools</span>, then
                <span class="guimenuitem">Services</span>. Find the MySQL
                service in the list, right-click it, and choose the
                <code class="literal">Properties</code> option. The <code class="literal">Path
                to executable</code> field contains the
                <a class="link" href="option-file-options.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> setting.
              </p></li><li class="listitem"><p>
                After the server has started successfully, delete
                <code class="filename">C:\mysql-init.txt</code>.
              </p></li></ol></div><p>
            You should now be able to connect to the MySQL server as
            <code class="literal">root</code> using the new password. Stop the
            MySQL server and restart it normally. If you run the server
            as a service, start it from the Windows Services window. If
            you start the server manually, use whatever command you
            normally use.
          </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="resetting-permissions-unix"></a>B.3.3.2.2&nbsp;Resetting the Root Password: Unix and Unix-Like Systems</h5></div></div></div><p>
            On Unix, use the following procedure to reset the password
            for the MySQL <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code> account.
            To change the password for a <code class="literal">root</code> account
            with a different host name part, modify the instructions to
            use that host name.
          </p><p>
            The instructions assume that you start the MySQL server from
            the Unix login account that you normally use for running it.
            For example, if you run the server using the
            <code class="literal">mysql</code> login account, you should log in as
            <code class="literal">mysql</code> before using the instructions.
            Alternatively, you can log in as <code class="literal">root</code>,
            but in this case you <span class="emphasis"><em>must</em></span> start
            <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
            <a class="link" href="server-options.html#option_mysqld_user"><code class="option">--user=mysql</code></a> option. If you
            start the server as <code class="literal">root</code> without using
            <a class="link" href="server-options.html#option_mysqld_user"><code class="option">--user=mysql</code></a>, the server may
            create <code class="literal">root</code>-owned files in the data
            directory, such as log files, and these may cause
            permission-related problems for future server startups. If
            that happens, you must either change the ownership of the
            files to <code class="literal">mysql</code> or remove them.
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                Log on to your system as the Unix user that the MySQL
                server runs as (for example, <code class="literal">mysql</code>).
              </p></li><li class="listitem"><p>
                Stop the MySQL server if it is running. Locate the
                <code class="filename">.pid</code> file that contains the
                server&#39;s process ID. The exact location and name of this
                file depend on your distribution, host name, and
                configuration. Common locations are
                <code class="filename">/var/lib/mysql/</code>,
                <code class="filename">/var/run/mysqld/</code>, and
                <code class="filename">/usr/local/mysql/data/</code>. Generally,
                the file name has an extension of
                <code class="filename">.pid</code> and begins with either
                <code class="filename">mysqld</code> or your system&#39;s host name.
              </p><p>
                Stop the MySQL server by sending a normal
                <code class="literal">kill</code> (not <code class="literal">kill -9</code>)
                to the <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process. Use the actual
                path name of the <code class="filename">.pid</code> file in the
                following command:
              </p><pre class="programlisting">$&gt; <strong class="userinput"><code>kill `cat /mysql-data-directory/host_name.pid`</code></strong>
</pre><p>
                Use backticks (not forward quotation marks) with the
                <code class="literal">cat</code> command. These cause the output
                of <code class="literal">cat</code> to be substituted into the
                <code class="literal">kill</code> command.
              </p></li><li class="listitem"><p>
                Create a text file containing the password-assignment
                statement on a single line. Replace the password with
                the password that you want to use.
              </p><pre class="programlisting">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;MyNewPass&#39;;
</pre></li><li class="listitem"><p>
                Save the file. This example assumes that you name the
                file <code class="filename">/home/me/mysql-init</code>. The file
                contains the password, so do not save it where it can be
                read by other users. If you are not logged in as
                <code class="literal">mysql</code> (the user the server runs as),
                make sure that the file has permissions that permit
                <code class="literal">mysql</code> to read it.
              </p></li><li class="listitem"><p>
                Start the MySQL server with the
                <a class="link" href="server-system-variables.html#sysvar_init_file"><code class="literal">init_file</code></a> system
                variable set to name the file:
              </p><pre class="programlisting">$&gt; <strong class="userinput"><code>mysqld --init-file=/home/me/mysql-init &amp;</code></strong>
</pre><p>
                The server executes the contents of the file named by
                the <a class="link" href="server-system-variables.html#sysvar_init_file"><code class="literal">init_file</code></a> system
                variable at startup, changing the
                <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code> account password.
              </p><p>
                Other options may be necessary as well, depending on how
                you normally start your server. For example,
                <a class="link" href="option-file-options.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> may be
                needed before the
                <a class="link" href="server-system-variables.html#sysvar_init_file"><code class="literal">init_file</code></a> argument.
              </p></li><li class="listitem"><p>
                After the server has started successfully, delete
                <code class="filename">/home/me/mysql-init</code>.
              </p></li></ol></div><p>
            You should now be able to connect to the MySQL server as
            <code class="literal">root</code> using the new password. Stop the
            server and restart it normally.
          </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="resetting-permissions-generic"></a>B.3.3.2.3&nbsp;Resetting the Root Password: Generic Instructions</h5></div></div></div><p>
            The preceding sections provide password-resetting
            instructions specifically for Windows and Unix and Unix-like
            systems. Alternatively, on any platform, you can reset the
            password using the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client (but this
            approach is less secure):
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                Stop the MySQL server if necessary, then restart it with
                the <a class="link" href="server-options.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
                option. This enables anyone to connect without a
                password and with all privileges, and disables
                account-management statements such as
                <a class="link" href="alter-user.html" title="13.7.1.1&nbsp;ALTER USER Statement"><code class="literal">ALTER USER</code></a> and
                <a class="link" href="set-password.html" title="13.7.1.10&nbsp;SET PASSWORD Statement"><code class="literal">SET PASSWORD</code></a>. Because
                this is insecure, if the server is started with the
                <a class="link" href="server-options.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
                option, it also disables remote connections by enabling
                <a class="link" href="server-system-variables.html#sysvar_skip_networking"><code class="literal">skip_networking</code></a>.
              </p></li><li class="listitem"><p>
                Connect to the MySQL server using the
                <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client; no password is
                necessary because the server was started with
                <a class="link" href="server-options.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>:
              </p><pre class="programlisting">$&gt; <strong class="userinput"><code>mysql</code></strong>
</pre></li><li class="listitem"><p>
                In the <code class="literal">mysql</code> client, tell the server
                to reload the grant tables so that account-management
                statements work:
              </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
                Then change the <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code>
                account password. Replace the password with the password
                that you want to use. To change the password for a
                <code class="literal">root</code> account with a different host
                name part, modify the instructions to use that host
                name.
              </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;MyNewPass&#39;;</code></strong>
</pre></li></ol></div><p>
            You should now be able to connect to the MySQL server as
            <code class="literal">root</code> using the new password. Stop the
            server and restart it normally (without the
            <a class="link" href="server-options.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option
            and without enabling the
            <a class="link" href="server-system-variables.html#sysvar_skip_networking"><code class="literal">skip_networking</code></a> system
            variable).
          </p></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="file-permissions.html">Previous <span class="navHint"> Problems with File Permissions </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="administration-issues.html">Up <span class="navHint"> Administration-Related Issues </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="crashing.html">Next <span class="navHint"> What to Do If MySQL Keeps Crashing </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>