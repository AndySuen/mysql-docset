<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-3369"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Chapter%C2%A027%C2%A0MySQL%20Performance%20Schema"></a><title>Chapter&nbsp;27&nbsp;MySQL Performance Schema</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="prev" href="extended-show.html" title="26.8&nbsp;Extensions to SHOW Statements"/><link rel="next" href="performance-schema-quick-start.html" title="27.1&nbsp;Performance Schema Quick Start"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="performance-schema.html#performance-schema">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="extended-show.html">Previous <span class="navHint"> Extensions to SHOW Statements </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp">&nbsp;</li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="performance-schema-quick-start.html">Next <span class="navHint"> Performance Schema Quick Start </span></a></li></ul></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="performance-schema"></a>Chapter&nbsp;27&nbsp;MySQL Performance Schema</h1></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="performance-schema-quick-start.html">27.1 Performance Schema Quick Start</a></span></li><li><span class="section"><a href="performance-schema-build-configuration.html">27.2 Performance Schema Build Configuration</a></span></li><li><span class="section"><a href="performance-schema-startup-configuration.html">27.3 Performance Schema Startup Configuration</a></span></li><li><span class="section"><a href="performance-schema-runtime-configuration.html">27.4 Performance Schema Runtime Configuration</a></span><ul><li><span class="section"><a href="performance-schema-timing.html">27.4.1 Performance Schema Event Timing</a></span></li><li><span class="section"><a href="performance-schema-filtering.html">27.4.2 Performance Schema Event Filtering</a></span></li><li><span class="section"><a href="performance-schema-pre-filtering.html">27.4.3 Event Pre-Filtering</a></span></li><li><span class="section"><a href="performance-schema-instrument-filtering.html">27.4.4 Pre-Filtering by Instrument</a></span></li><li><span class="section"><a href="performance-schema-object-filtering.html">27.4.5 Pre-Filtering by Object</a></span></li><li><span class="section"><a href="performance-schema-thread-filtering.html">27.4.6 Pre-Filtering by Thread</a></span></li><li><span class="section"><a href="performance-schema-consumer-filtering.html">27.4.7 Pre-Filtering by Consumer</a></span></li><li><span class="section"><a href="performance-schema-consumer-configurations.html">27.4.8 Example Consumer Configurations</a></span></li><li><span class="section"><a href="performance-schema-filtering-names.html">27.4.9 Naming Instruments or Consumers for Filtering Operations</a></span></li><li><span class="section"><a href="performance-schema-instrumentation-checking.html">27.4.10 Determining What Is Instrumented</a></span></li></ul></li><li><span class="section"><a href="performance-schema-queries.html">27.5 Performance Schema Queries</a></span></li><li><span class="section"><a href="performance-schema-instrument-naming.html">27.6 Performance Schema Instrument Naming Conventions</a></span></li><li><span class="section"><a href="performance-schema-status-monitoring.html">27.7 Performance Schema Status Monitoring</a></span></li><li><span class="section"><a href="performance-schema-atom-molecule-events.html">27.8 Performance Schema Atom and Molecule Events</a></span></li><li><span class="section"><a href="performance-schema-event-tables.html">27.9 Performance Schema Tables for Current and Historical Events</a></span></li><li><span class="section"><a href="performance-schema-statement-digests.html">27.10 Performance Schema Statement Digests and Sampling</a></span></li><li><span class="section"><a href="performance-schema-table-characteristics.html">27.11 Performance Schema General Table Characteristics</a></span></li><li><span class="section"><a href="performance-schema-table-descriptions.html">27.12 Performance Schema Table Descriptions</a></span><ul><li><span class="section"><a href="performance-schema-table-reference.html">27.12.1 Performance Schema Table Reference</a></span></li><li><span class="section"><a href="performance-schema-setup-tables.html">27.12.2 Performance Schema Setup Tables</a></span></li><li><span class="section"><a href="performance-schema-instance-tables.html">27.12.3 Performance Schema Instance Tables</a></span></li><li><span class="section"><a href="performance-schema-wait-tables.html">27.12.4 Performance Schema Wait Event Tables</a></span></li><li><span class="section"><a href="performance-schema-stage-tables.html">27.12.5 Performance Schema Stage Event Tables</a></span></li><li><span class="section"><a href="performance-schema-statement-tables.html">27.12.6 Performance Schema Statement Event Tables</a></span></li><li><span class="section"><a href="performance-schema-transaction-tables.html">27.12.7 Performance Schema Transaction Tables</a></span></li><li><span class="section"><a href="performance-schema-connection-tables.html">27.12.8 Performance Schema Connection Tables</a></span></li><li><span class="section"><a href="performance-schema-connection-attribute-tables.html">27.12.9 Performance Schema Connection Attribute Tables</a></span></li><li><span class="section"><a href="performance-schema-user-variable-tables.html">27.12.10 Performance Schema User-Defined Variable Tables</a></span></li><li><span class="section"><a href="performance-schema-replication-tables.html">27.12.11 Performance Schema Replication Tables</a></span></li><li><span class="section"><a href="performance-schema-ndb-cluster-tables.html">27.12.12 Performance Schema NDB Cluster Tables</a></span></li><li><span class="section"><a href="performance-schema-lock-tables.html">27.12.13 Performance Schema Lock Tables</a></span></li><li><span class="section"><a href="performance-schema-system-variable-tables.html">27.12.14 Performance Schema System Variable Tables</a></span></li><li><span class="section"><a href="performance-schema-status-variable-tables.html">27.12.15 Performance Schema Status Variable Tables</a></span></li><li><span class="section"><a href="performance-schema-thread-pool-tables.html">27.12.16 Performance Schema Thread Pool Tables</a></span></li><li><span class="section"><a href="performance-schema-firewall-tables.html">27.12.17 Performance Schema Firewall Tables</a></span></li><li><span class="section"><a href="performance-schema-keyring-tables.html">27.12.18 Performance Schema Keyring Tables</a></span></li><li><span class="section"><a href="performance-schema-clone-tables.html">27.12.19 Performance Schema Clone Tables</a></span></li><li><span class="section"><a href="performance-schema-summary-tables.html">27.12.20 Performance Schema Summary Tables</a></span></li><li><span class="section"><a href="performance-schema-miscellaneous-tables.html">27.12.21 Performance Schema Miscellaneous Tables</a></span></li></ul></li><li><span class="section"><a href="performance-schema-option-variable-reference.html">27.13 Performance Schema Option and Variable Reference</a></span></li><li><span class="section"><a href="performance-schema-options.html">27.14 Performance Schema Command Options</a></span></li><li><span class="section"><a href="performance-schema-system-variables.html">27.15 Performance Schema System Variables</a></span></li><li><span class="section"><a href="performance-schema-status-variables.html">27.16 Performance Schema Status Variables</a></span></li><li><span class="section"><a href="performance-schema-memory-model.html">27.17 The Performance Schema Memory-Allocation Model</a></span></li><li><span class="section"><a href="performance-schema-and-plugins.html">27.18 Performance Schema and Plugins</a></span></li><li><span class="section"><a href="performance-schema-examples.html">27.19 Using the Performance Schema to Diagnose Problems</a></span><ul><li><span class="section"><a href="performance-schema-query-profiling.html">27.19.1 Query Profiling Using Performance Schema</a></span></li><li><span class="section"><a href="performance-schema-obtaining-parent-events.html">27.19.2 Obtaining Parent Event Information</a></span></li></ul></li><li><span class="section"><a href="performance-schema-restrictions.html">27.20 Restrictions on Performance Schema</a></span></li></ul></div><a id="idm45828793301472" class="indexterm"></a><a id="idm45828793300432" class="indexterm"></a><a id="idm45828793299344" class="indexterm"></a><a id="idm45828793297856" class="indexterm"></a><p>
    The MySQL Performance Schema is a feature for monitoring MySQL
    Server execution at a low level. The Performance Schema has these
    characteristics:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        The Performance Schema provides a way to inspect internal
        execution of the server at runtime. It is implemented using the
        <a class="link" href="performance-schema.html" title="Chapter&nbsp;27&nbsp;MySQL Performance Schema"><code class="literal">PERFORMANCE_SCHEMA</code></a> storage engine
        and the <code class="literal">performance_schema</code> database. The
        Performance Schema focuses primarily on performance data. This
        differs from <code class="literal">INFORMATION_SCHEMA</code>, which serves
        for inspection of metadata.
      </p></li><li class="listitem"><p>
        The Performance Schema monitors server events. An
        <span class="quote">&ldquo;<span class="quote">event</span>&rdquo;</span> is anything the server does that takes time
        and has been instrumented so that timing information can be
        collected. In general, an event could be a function call, a wait
        for the operating system, a stage of an SQL statement execution
        such as parsing or sorting, or an entire statement or group of
        statements. Event collection provides access to information
        about synchronization calls (such as for mutexes) file and table
        I/O, table locks, and so forth for the server and for several
        storage engines.
      </p></li><li class="listitem"><p>
        Performance Schema events are distinct from events written to
        the server&#39;s binary log (which describe data modifications) and
        Event Scheduler events (which are a type of stored program).
      </p></li><li class="listitem"><p>
        Performance Schema events are specific to a given instance of
        the MySQL Server. Performance Schema tables are considered local
        to the server, and changes to them are not replicated or written
        to the binary log.
      </p></li><li class="listitem"><p>
        Current events are available, as well as event histories and
        summaries. This enables you to determine how many times
        instrumented activities were performed and how much time they
        took. Event information is available to show the activities of
        specific threads, or activity associated with particular objects
        such as a mutex or file.
      </p></li><li class="listitem"><p>
        The <a class="link" href="performance-schema.html" title="Chapter&nbsp;27&nbsp;MySQL Performance Schema"><code class="literal">PERFORMANCE_SCHEMA</code></a> storage
        engine collects event data using <span class="quote">&ldquo;<span class="quote">instrumentation
        points</span>&rdquo;</span> in server source code.
      </p></li><li class="listitem"><p>
        Collected events are stored in tables in the
        <code class="literal">performance_schema</code> database. These tables can
        be queried using <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a>
        statements like other tables.
      </p></li><li class="listitem"><p>
        Performance Schema configuration can be modified dynamically by
        updating tables in the <code class="literal">performance_schema</code>
        database through SQL statements. Configuration changes affect
        data collection immediately.
      </p></li><li class="listitem"><p>
        Tables in the Performance Schema are in-memory tables that use
        no persistent on-disk storage. The contents are repopulated
        beginning at server startup and discarded at server shutdown.
      </p></li><li class="listitem"><p>
        Monitoring is available on all platforms supported by MySQL.
      </p><p>
        Some limitations might apply: The types of timers might vary per
        platform. Instruments that apply to storage engines might not be
        implemented for all storage engines. Instrumentation of each
        third-party engine is the responsibility of the engine
        maintainer. See also
        <a class="xref" href="performance-schema-restrictions.html" title="27.20&nbsp;Restrictions on Performance Schema">Section&nbsp;27.20, &ldquo;Restrictions on Performance Schema&rdquo;</a>.
      </p></li><li class="listitem"><p>
        Data collection is implemented by modifying the server source
        code to add instrumentation. There are no separate threads
        associated with the Performance Schema, unlike other features
        such as replication or the Event Scheduler.
      </p></li></ul></div><p>
    The Performance Schema is intended to provide access to useful
    information about server execution while having minimal impact on
    server performance. The implementation follows these design goals:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Activating the Performance Schema causes no changes in server
        behavior. For example, it does not cause thread scheduling to
        change, and it does not cause query execution plans (as shown by
        <a class="link" href="explain.html" title="13.8.2&nbsp;EXPLAIN Statement"><code class="literal">EXPLAIN</code></a>) to change.
      </p></li><li class="listitem"><p>
        Server monitoring occurs continuously and unobtrusively with
        very little overhead. Activating the Performance Schema does not
        make the server unusable.
      </p></li><li class="listitem"><p>
        The parser is unchanged. There are no new keywords or
        statements.
      </p></li><li class="listitem"><p>
        Execution of server code proceeds normally even if the
        Performance Schema fails internally.
      </p></li><li class="listitem"><p>
        When there is a choice between performing processing during
        event collection initially or during event retrieval later,
        priority is given to making collection faster. This is because
        collection is ongoing whereas retrieval is on demand and might
        never happen at all.
      </p></li><li class="listitem"><p>
        Most Performance Schema tables have indexes, which gives the
        optimizer access to execution plans other than full table scans.
        For more information, see
        <a class="xref" href="performance-schema-optimization.html" title="8.2.4&nbsp;Optimizing Performance Schema Queries">Section&nbsp;8.2.4, &ldquo;Optimizing Performance Schema Queries&rdquo;</a>.
      </p></li><li class="listitem"><p>
        It is easy to add new instrumentation points.
      </p></li><li class="listitem"><p>
        Instrumentation is versioned. If the instrumentation
        implementation changes, previously instrumented code continues
        to work. This benefits developers of third-party plugins because
        it is not necessary to upgrade each plugin to stay synchronized
        with the latest Performance Schema changes.
      </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
      <a id="idm45828793263616" class="indexterm"></a>

      The MySQL <code class="literal">sys</code> schema is a set of objects that
      provides convenient access to data collected by the Performance
      Schema. The <code class="literal">sys</code> schema is installed by default.
      For usage instructions, see <a class="xref" href="sys-schema.html" title="Chapter&nbsp;28&nbsp;MySQL sys Schema">Chapter&nbsp;28, <em>MySQL sys Schema</em></a>.
    </p></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="extended-show.html">Previous <span class="navHint"> Extensions to SHOW Statements </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp">&nbsp;</li><li class="navLinkNext"><a title="Go To Next Page" href="performance-schema-quick-start.html">Next <span class="navHint"> Performance Schema Quick Start </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>