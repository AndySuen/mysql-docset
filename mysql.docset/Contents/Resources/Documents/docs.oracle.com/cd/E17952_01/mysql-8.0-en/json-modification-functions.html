<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-1752"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/12.17.4%C2%A0Functions%20That%20Modify%20JSON%20Values"></a><title>12.17.4&nbsp;Functions That Modify JSON Values</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="json-functions.html" title="12.17&nbsp;JSON Functions"/><link rel="prev" href="json-search-functions.html" title="12.17.3&nbsp;Functions That Search JSON Values"/><link rel="next" href="json-attribute-functions.html" title="12.17.5&nbsp;Functions That Return JSON Value Attributes"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="json-modification-functions.html#json-modification-functions">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="json-search-functions.html">Previous <span class="navHint"> Functions That Search JSON Values </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="json-functions.html">Up <span class="navHint"> JSON Functions </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="json-attribute-functions.html">Next <span class="navHint"> Functions That Return JSON Value Attributes </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="json-modification-functions"></a>12.17.4&nbsp;Functions That Modify JSON Values</h3></div></div></div><p>
      The functions in this section modify JSON values and return the
      result.
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="function_json-array-append"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-array-append"><code class="literal">JSON_ARRAY_APPEND(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>[,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>] ...)</code></a>
        </p><a id="idm45828921282000" class="indexterm"></a><p>
          Appends values to the end of the indicated arrays within a
          JSON document and returns the result. Returns
          <code class="literal">NULL</code> if any argument is
          <code class="literal">NULL</code>. An error occurs if the
          <em class="replaceable"><code>json_doc</code></em> argument is not a valid
          JSON document or any <em class="replaceable"><code>path</code></em> argument
          is not a valid path expression or contains a
          <code class="literal">*</code> or <code class="literal">**</code> wildcard.
        </p><p>
          The path-value pairs are evaluated left to right. The document
          produced by evaluating one pair becomes the new value against
          which the next pair is evaluated.
        </p><p>
          If a path selects a scalar or object value, that value is
          autowrapped within an array and the new value is added to that
          array. Pairs for which the path does not identify any value in
          the JSON document are ignored.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;[&#34;a&#34;, [&#34;b&#34;, &#34;c&#34;], &#34;d&#34;]&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, &#39;$[1]&#39;, 1);</code></strong>
+----------------------------------+
| JSON_ARRAY_APPEND(@j, &#39;$[1]&#39;, 1) |
+----------------------------------+
| [&#34;a&#34;, [&#34;b&#34;, &#34;c&#34;, 1], &#34;d&#34;]        |
+----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, &#39;$[0]&#39;, 2);</code></strong>
+----------------------------------+
| JSON_ARRAY_APPEND(@j, &#39;$[0]&#39;, 2) |
+----------------------------------+
| [[&#34;a&#34;, 2], [&#34;b&#34;, &#34;c&#34;], &#34;d&#34;]      |
+----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, &#39;$[1][0]&#39;, 3);</code></strong>
+-------------------------------------+
| JSON_ARRAY_APPEND(@j, &#39;$[1][0]&#39;, 3) |
+-------------------------------------+
| [&#34;a&#34;, [[&#34;b&#34;, 3], &#34;c&#34;], &#34;d&#34;]         |
+-------------------------------------+

mysql&gt; <strong class="userinput"><code>SET @j = &#39;{&#34;a&#34;: 1, &#34;b&#34;: [2, 3], &#34;c&#34;: 4}&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, &#39;$.b&#39;, &#39;x&#39;);</code></strong>
+------------------------------------+
| JSON_ARRAY_APPEND(@j, &#39;$.b&#39;, &#39;x&#39;)  |
+------------------------------------+
| {&#34;a&#34;: 1, &#34;b&#34;: [2, 3, &#34;x&#34;], &#34;c&#34;: 4} |
+------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, &#39;$.c&#39;, &#39;y&#39;);</code></strong>
+--------------------------------------+
| JSON_ARRAY_APPEND(@j, &#39;$.c&#39;, &#39;y&#39;)    |
+--------------------------------------+
| {&#34;a&#34;: 1, &#34;b&#34;: [2, 3], &#34;c&#34;: [4, &#34;y&#34;]} |
+--------------------------------------+

mysql&gt; <strong class="userinput"><code>SET @j = &#39;{&#34;a&#34;: 1}&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, &#39;$&#39;, &#39;z&#39;);</code></strong>
+---------------------------------+
| JSON_ARRAY_APPEND(@j, &#39;$&#39;, &#39;z&#39;) |
+---------------------------------+
| [{&#34;a&#34;: 1}, &#34;z&#34;]                 |
+---------------------------------+
</pre><p>
          In MySQL 5.7, this function was named
          <code class="literal">JSON_APPEND()</code>. That name is no longer
          supported in MySQL 8.0.
        </p></li><li class="listitem"><a id="function_json-array-insert"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-array-insert"><code class="literal">JSON_ARRAY_INSERT(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>[,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>] ...)</code></a>
        </p><a id="idm45828921255056" class="indexterm"></a><p>
          Updates a JSON document, inserting into an array within the
          document and returning the modified document. Returns
          <code class="literal">NULL</code> if any argument is
          <code class="literal">NULL</code>. An error occurs if the
          <em class="replaceable"><code>json_doc</code></em> argument is not a valid
          JSON document or any <em class="replaceable"><code>path</code></em> argument
          is not a valid path expression or contains a
          <code class="literal">*</code> or <code class="literal">**</code> wildcard or does
          not end with an array element identifier.
        </p><p>
          The path-value pairs are evaluated left to right. The document
          produced by evaluating one pair becomes the new value against
          which the next pair is evaluated.
        </p><p>
          Pairs for which the path does not identify any array in the
          JSON document are ignored. If a path identifies an array
          element, the corresponding value is inserted at that element
          position, shifting any following values to the right. If a
          path identifies an array position past the end of an array,
          the value is inserted at the end of the array.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;[&#34;a&#34;, {&#34;b&#34;: [1, 2]}, [3, 4]]&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, &#39;$[1]&#39;, &#39;x&#39;);</code></strong>
+------------------------------------+
| JSON_ARRAY_INSERT(@j, &#39;$[1]&#39;, &#39;x&#39;) |
+------------------------------------+
| [&#34;a&#34;, &#34;x&#34;, {&#34;b&#34;: [1, 2]}, [3, 4]]  |
+------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, &#39;$[100]&#39;, &#39;x&#39;);</code></strong>
+--------------------------------------+
| JSON_ARRAY_INSERT(@j, &#39;$[100]&#39;, &#39;x&#39;) |
+--------------------------------------+
| [&#34;a&#34;, {&#34;b&#34;: [1, 2]}, [3, 4], &#34;x&#34;]    |
+--------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, &#39;$[1].b[0]&#39;, &#39;x&#39;);</code></strong>
+-----------------------------------------+
| JSON_ARRAY_INSERT(@j, &#39;$[1].b[0]&#39;, &#39;x&#39;) |
+-----------------------------------------+
| [&#34;a&#34;, {&#34;b&#34;: [&#34;x&#34;, 1, 2]}, [3, 4]]       |
+-----------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, &#39;$[2][1]&#39;, &#39;y&#39;);</code></strong>
+---------------------------------------+
| JSON_ARRAY_INSERT(@j, &#39;$[2][1]&#39;, &#39;y&#39;) |
+---------------------------------------+
| [&#34;a&#34;, {&#34;b&#34;: [1, 2]}, [3, &#34;y&#34;, 4]]     |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, &#39;$[0]&#39;, &#39;x&#39;, &#39;$[2][1]&#39;, &#39;y&#39;);</code></strong>
+----------------------------------------------------+
| JSON_ARRAY_INSERT(@j, &#39;$[0]&#39;, &#39;x&#39;, &#39;$[2][1]&#39;, &#39;y&#39;) |
+----------------------------------------------------+
| [&#34;x&#34;, &#34;a&#34;, {&#34;b&#34;: [1, 2]}, [3, 4]]                  |
+----------------------------------------------------+
</pre><p>
          Earlier modifications affect the positions of the following
          elements in the array, so subsequent paths in the same
          <a class="link" href="json-modification-functions.html#function_json-array-insert"><code class="literal">JSON_ARRAY_INSERT()</code></a> call should
          take this into account. In the final example, the second path
          inserts nothing because the path no longer matches anything
          after the first insert.
        </p></li><li class="listitem"><a id="function_json-insert"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-insert"><code class="literal">JSON_INSERT(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>[,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>] ...)</code></a>
        </p><a id="idm45828921229568" class="indexterm"></a><p>
          Inserts data into a JSON document and returns the result.
          Returns <code class="literal">NULL</code> if any argument is
          <code class="literal">NULL</code>. An error occurs if the
          <em class="replaceable"><code>json_doc</code></em> argument is not a valid
          JSON document or any <em class="replaceable"><code>path</code></em> argument
          is not a valid path expression or contains a
          <code class="literal">*</code> or <code class="literal">**</code> wildcard.
        </p><p>
          The path-value pairs are evaluated left to right. The document
          produced by evaluating one pair becomes the new value against
          which the next pair is evaluated.
        </p><p>
          A path-value pair for an existing path in the document is
          ignored and does not overwrite the existing document value. A
          path-value pair for a nonexisting path in the document adds
          the value to the document if the path identifies one of these
          types of values:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              A member not present in an existing object. The member is
              added to the object and associated with the new value.
            </p></li><li class="listitem"><p>
              A position past the end of an existing array. The array is
              extended with the new value. If the existing value is not
              an array, it is autowrapped as an array, then extended
              with the new value.
            </p></li></ul></div><p>
          Otherwise, a path-value pair for a nonexisting path in the
          document is ignored and has no effect.
        </p><p>
          For a comparison of
          <a class="link" href="json-modification-functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a>,
          <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a>, and
          <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>, see the discussion
          of <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;{ &#34;a&#34;: 1, &#34;b&#34;: [2, 3]}&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_INSERT(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;);</code></strong>
+----------------------------------------------------+
| JSON_INSERT(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;) |
+----------------------------------------------------+
| {&#34;a&#34;: 1, &#34;b&#34;: [2, 3], &#34;c&#34;: &#34;[true, false]&#34;}        |
+----------------------------------------------------+
</pre><p>
          The third and final value listed in the result is a quoted
          string and not an array like the second one (which is not
          quoted in the output); no casting of values to the JSON type
          is performed. To insert the array as an array, you must
          perform such casts explicitly, as shown here:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_INSERT(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, CAST(&#39;[true, false]&#39; AS JSON));</code></strong>
+------------------------------------------------------------------+
| JSON_INSERT(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, CAST(&#39;[true, false]&#39; AS JSON)) |
+------------------------------------------------------------------+
| {&#34;a&#34;: 1, &#34;b&#34;: [2, 3], &#34;c&#34;: [true, false]}                        |
+------------------------------------------------------------------+
1 row in set (0.00 sec)
</pre></li><li class="listitem"><a id="function_json-merge"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-merge"><code class="literal">JSON_MERGE(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>json_doc</code></em>[,
          <em class="replaceable"><code>json_doc</code></em>] ...)</code></a>
        </p><a id="idm45828921200656" class="indexterm"></a><p>
          Merges two or more JSON documents. Synonym for
          <code class="literal">JSON_MERGE_PRESERVE()</code>; deprecated in MySQL
          8.0.3 and subject to removal in a future release.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE(&#39;[1, 2]&#39;, &#39;[true, false]&#39;);</code></strong>
+---------------------------------------+
| JSON_MERGE(&#39;[1, 2]&#39;, &#39;[true, false]&#39;) |
+---------------------------------------+
| [1, 2, true, false]                   |
+---------------------------------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1287
Message: &#39;JSON_MERGE&#39; is deprecated and will be removed in a future release. \
 Please use JSON_MERGE_PRESERVE/JSON_MERGE_PATCH instead
1 row in set (0.00 sec)
</pre><p>
          For additional examples, see the entry for
          <a class="link" href="json-modification-functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE()</code></a>.
        </p></li><li class="listitem"><a id="function_json-merge-patch"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-merge-patch"><code class="literal">JSON_MERGE_PATCH(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>json_doc</code></em>[,
          <em class="replaceable"><code>json_doc</code></em>] ...)</code></a>
        </p><a id="idm45828921184992" class="indexterm"></a><p>
          Performs an
          <a class="ulink" href="https://tools.ietf.org/html/rfc7396" target="_top">RFC
          7396</a> compliant merge of two or more JSON documents and
          returns the merged result, without preserving members having
          duplicate keys. Raises an error if at least one of the
          documents passed as arguments to this function is not valid.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
            For an explanation and example of the differences between
            this function and <code class="literal">JSON_MERGE_PRESERVE()</code>,
            see
            <a class="xref" href="json-modification-functions.html#json-merge-patch-json-merge-preserve-compared" title="JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()">JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()</a>.
          </p></div><p>
          <code class="literal">JSON_MERGE_PATCH()</code> performs a merge as
          follows:
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              If the first argument is not an object, the result of the
              merge is the same as if an empty object had been merged
              with the second argument.
            </p></li><li class="listitem"><p>
              If the second argument is not an object, the result of the
              merge is the second argument.
            </p></li><li class="listitem"><p>
              If both arguments are objects, the result of the merge is
              an object with the following members:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  All members of the first object which do not have a
                  corresponding member with the same key in the second
                  object.
                </p></li><li class="listitem"><p>
                  All members of the second object which do not have a
                  corresponding key in the first object, and whose value
                  is not the JSON <code class="literal">null</code> literal.
                </p></li><li class="listitem"><p>
                  All members with a key that exists in both the first
                  and the second object, and whose value in the second
                  object is not the JSON <code class="literal">null</code>
                  literal. The values of these members are the results
                  of recursively merging the value in the first object
                  with the value in the second object.
                </p></li></ul></div></li></ol></div><p>
          For additional information, see
          <a class="xref" href="json.html#json-normalization" title="Normalization, Merging, and Autowrapping of JSON Values">Normalization, Merging, and Autowrapping of JSON Values</a>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;[1, 2]&#39;, &#39;[true, false]&#39;);</code></strong>
+---------------------------------------------+
| JSON_MERGE_PATCH(&#39;[1, 2]&#39;, &#39;[true, false]&#39;) |
+---------------------------------------------+
| [true, false]                               |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;{&#34;name&#34;: &#34;x&#34;}&#39;, &#39;{&#34;id&#34;: 47}&#39;);</code></strong>
+-------------------------------------------------+
| JSON_MERGE_PATCH(&#39;{&#34;name&#34;: &#34;x&#34;}&#39;, &#39;{&#34;id&#34;: 47}&#39;) |
+-------------------------------------------------+
| {&#34;id&#34;: 47, &#34;name&#34;: &#34;x&#34;}                         |
+-------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;1&#39;, &#39;true&#39;);</code></strong>
+-------------------------------+
| JSON_MERGE_PATCH(&#39;1&#39;, &#39;true&#39;) |
+-------------------------------+
| true                          |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;[1, 2]&#39;, &#39;{&#34;id&#34;: 47}&#39;);</code></strong>
+------------------------------------------+
| JSON_MERGE_PATCH(&#39;[1, 2]&#39;, &#39;{&#34;id&#34;: 47}&#39;) |
+------------------------------------------+
| {&#34;id&#34;: 47}                               |
+------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;{ &#34;a&#34;: 1, &#34;b&#34;:2 }&#39;,</code></strong>
     &gt;     <strong class="userinput"><code>&#39;{ &#34;a&#34;: 3, &#34;c&#34;:4 }&#39;);</code></strong>
+-----------------------------------------------------------+
| JSON_MERGE_PATCH(&#39;{ &#34;a&#34;: 1, &#34;b&#34;:2 }&#39;,&#39;{ &#34;a&#34;: 3, &#34;c&#34;:4 }&#39;) |
+-----------------------------------------------------------+
| {&#34;a&#34;: 3, &#34;b&#34;: 2, &#34;c&#34;: 4}                                  |
+-----------------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;{ &#34;a&#34;: 1, &#34;b&#34;:2 }&#39;,&#39;{ &#34;a&#34;: 3, &#34;c&#34;:4 }&#39;,</code></strong>
     &gt;     <strong class="userinput"><code>&#39;{ &#34;a&#34;: 5, &#34;d&#34;:6 }&#39;);</code></strong>
+-------------------------------------------------------------------------------+
| JSON_MERGE_PATCH(&#39;{ &#34;a&#34;: 1, &#34;b&#34;:2 }&#39;,&#39;{ &#34;a&#34;: 3, &#34;c&#34;:4 }&#39;,&#39;{ &#34;a&#34;: 5, &#34;d&#34;:6 }&#39;) |
+-------------------------------------------------------------------------------+
| {&#34;a&#34;: 5, &#34;b&#34;: 2, &#34;c&#34;: 4, &#34;d&#34;: 6}                                              |
+-------------------------------------------------------------------------------+
</pre><p>
          You can use this function to remove a member by specifying
          <code class="literal">null</code> as the value of the same member in the
          second argument, as shown here:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;{&#34;a&#34;:1, &#34;b&#34;:2}&#39;, &#39;{&#34;b&#34;:null}&#39;);</code></strong>
+--------------------------------------------------+
| JSON_MERGE_PATCH(&#39;{&#34;a&#34;:1, &#34;b&#34;:2}&#39;, &#39;{&#34;b&#34;:null}&#39;) |
+--------------------------------------------------+
| {&#34;a&#34;: 1}                                         |
+--------------------------------------------------+
</pre><p>
          This example shows that the function operates in a recursive
          fashion; that is, values of members are not limited to
          scalars, but rather can themselves be JSON documents:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH(&#39;{&#34;a&#34;:{&#34;x&#34;:1}}&#39;, &#39;{&#34;a&#34;:{&#34;y&#34;:2}}&#39;);</code></strong>
+----------------------------------------------------+
| JSON_MERGE_PATCH(&#39;{&#34;a&#34;:{&#34;x&#34;:1}}&#39;, &#39;{&#34;a&#34;:{&#34;y&#34;:2}}&#39;) |
+----------------------------------------------------+
| {&#34;a&#34;: {&#34;x&#34;: 1, &#34;y&#34;: 2}}                            |
+----------------------------------------------------+
</pre><p>
          <code class="literal">JSON_MERGE_PATCH()</code> is supported in MySQL
          8.0.3 and later.
        </p><p><a id="json-merge-patch-json-merge-preserve-compared"></a><strong>JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE().&nbsp;</strong>
            The behavior of <code class="literal">JSON_MERGE_PATCH()</code> is the
            same as that of
            <a class="link" href="json-modification-functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE()</code></a>, with
            the following two exceptions:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">JSON_MERGE_PATCH()</code> removes any member
              in the first object with a matching key in the second
              object, provided that the value associated with the key in
              the second object is not JSON <code class="literal">null</code>.
            </p></li><li class="listitem"><p>
              If the second object has a member with a key matching a
              member in the first object,
              <code class="literal">JSON_MERGE_PATCH()</code>
              <span class="emphasis"><em>replaces</em></span> the value in the first
              object with the value in the second object, whereas
              <code class="literal">JSON_MERGE_PRESERVE()</code>
              <span class="emphasis"><em>appends</em></span> the second value to the first
              value.
            </p></li></ul></div><p>
          This example compares the results of merging the same 3 JSON
          objects, each having a matching key <code class="literal">&#34;a&#34;</code>,
          with each of these two functions:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @x = &#39;{ &#34;a&#34;: 1, &#34;b&#34;: 2 }&#39;,</code></strong>
     &gt;     <strong class="userinput"><code>@y = &#39;{ &#34;a&#34;: 3, &#34;c&#34;: 4 }&#39;,</code></strong>
     &gt;     <strong class="userinput"><code>@z = &#39;{ &#34;a&#34;: 5, &#34;d&#34;: 6 }&#39;;</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT  JSON_MERGE_PATCH(@x, @y, @z)    AS Patch,</code></strong>
    -&gt;         <strong class="userinput"><code>JSON_MERGE_PRESERVE(@x, @y, @z) AS Preserve\G</code></strong>
*************************** 1. row ***************************
   Patch: {&#34;a&#34;: 5, &#34;b&#34;: 2, &#34;c&#34;: 4, &#34;d&#34;: 6}
Preserve: {&#34;a&#34;: [1, 3, 5], &#34;b&#34;: 2, &#34;c&#34;: 4, &#34;d&#34;: 6}
</pre></li><li class="listitem"><a id="function_json-merge-preserve"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>json_doc</code></em>[,
          <em class="replaceable"><code>json_doc</code></em>] ...)</code></a>
        </p><a id="idm45828921128048" class="indexterm"></a><p>
          Merges two or more JSON documents and returns the merged
          result. Returns <code class="literal">NULL</code> if any argument is
          <code class="literal">NULL</code>. An error occurs if any argument is
          not a valid JSON document.
        </p><p>
          Merging takes place according to the following rules. For
          additional information, see
          <a class="xref" href="json.html#json-normalization" title="Normalization, Merging, and Autowrapping of JSON Values">Normalization, Merging, and Autowrapping of JSON Values</a>.
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Adjacent arrays are merged to a single array.
            </p></li><li class="listitem"><p>
              Adjacent objects are merged to a single object.
            </p></li><li class="listitem"><p>
              A scalar value is autowrapped as an array and merged as an
              array.
            </p></li><li class="listitem"><p>
              An adjacent array and object are merged by autowrapping
              the object as an array and merging the two arrays.
            </p></li></ul></div><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE(&#39;[1, 2]&#39;, &#39;[true, false]&#39;);</code></strong>
+------------------------------------------------+
| JSON_MERGE_PRESERVE(&#39;[1, 2]&#39;, &#39;[true, false]&#39;) |
+------------------------------------------------+
| [1, 2, true, false]                            |
+------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE(&#39;{&#34;name&#34;: &#34;x&#34;}&#39;, &#39;{&#34;id&#34;: 47}&#39;);</code></strong>
+----------------------------------------------------+
| JSON_MERGE_PRESERVE(&#39;{&#34;name&#34;: &#34;x&#34;}&#39;, &#39;{&#34;id&#34;: 47}&#39;) |
+----------------------------------------------------+
| {&#34;id&#34;: 47, &#34;name&#34;: &#34;x&#34;}                            |
+----------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE(&#39;1&#39;, &#39;true&#39;);</code></strong>
+----------------------------------+
| JSON_MERGE_PRESERVE(&#39;1&#39;, &#39;true&#39;) |
+----------------------------------+
| [1, true]                        |
+----------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE(&#39;[1, 2]&#39;, &#39;{&#34;id&#34;: 47}&#39;);</code></strong>
+---------------------------------------------+
| JSON_MERGE_PRESERVE(&#39;[1, 2]&#39;, &#39;{&#34;id&#34;: 47}&#39;) |
+---------------------------------------------+
| [1, 2, {&#34;id&#34;: 47}]                          |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE(&#39;{ &#34;a&#34;: 1, &#34;b&#34;: 2 }&#39;,</code></strong>
     &gt;    <strong class="userinput"><code>&#39;{ &#34;a&#34;: 3, &#34;c&#34;: 4 }&#39;);</code></strong>
+--------------------------------------------------------------+
| JSON_MERGE_PRESERVE(&#39;{ &#34;a&#34;: 1, &#34;b&#34;: 2 }&#39;,&#39;{ &#34;a&#34;: 3, &#34;c&#34;:4 }&#39;) |
+--------------------------------------------------------------+
| {&#34;a&#34;: [1, 3], &#34;b&#34;: 2, &#34;c&#34;: 4}                                |
+--------------------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE(&#39;{ &#34;a&#34;: 1, &#34;b&#34;: 2 }&#39;,&#39;{ &#34;a&#34;: 3, &#34;c&#34;: 4 }&#39;,</code></strong>
     &gt;    <strong class="userinput"><code>&#39;{ &#34;a&#34;: 5, &#34;d&#34;: 6 }&#39;);</code></strong>
+----------------------------------------------------------------------------------+
| JSON_MERGE_PRESERVE(&#39;{ &#34;a&#34;: 1, &#34;b&#34;: 2 }&#39;,&#39;{ &#34;a&#34;: 3, &#34;c&#34;: 4 }&#39;,&#39;{ &#34;a&#34;: 5, &#34;d&#34;: 6 }&#39;) |
+----------------------------------------------------------------------------------+
| {&#34;a&#34;: [1, 3, 5], &#34;b&#34;: 2, &#34;c&#34;: 4, &#34;d&#34;: 6}                                         |
+----------------------------------------------------------------------------------+
</pre><p>
          This function was added in MySQL 8.0.3 as a synonym for
          <a class="link" href="json-modification-functions.html#function_json-merge"><code class="literal">JSON_MERGE()</code></a>. The
          <code class="literal">JSON_MERGE()</code> function is now deprecated,
          and is subject to removal in a future release of MySQL.
        </p><p>
          This function is similar to but differs from
          <a class="link" href="json-modification-functions.html#function_json-merge-patch"><code class="literal">JSON_MERGE_PATCH()</code></a> in
          significant respects; see
          <a class="xref" href="json-modification-functions.html#json-merge-patch-json-merge-preserve-compared" title="JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()">JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()</a>,
          for more information.
        </p></li><li class="listitem"><a id="function_json-remove"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-remove"><code class="literal">JSON_REMOVE(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>path</code></em>[,
          <em class="replaceable"><code>path</code></em>] ...)</code></a>
        </p><a id="idm45828921096544" class="indexterm"></a><p>
          Removes data from a JSON document and returns the result.
          Returns <code class="literal">NULL</code> if any argument is
          <code class="literal">NULL</code>. An error occurs if the
          <em class="replaceable"><code>json_doc</code></em> argument is not a valid
          JSON document or any <em class="replaceable"><code>path</code></em> argument
          is not a valid path expression or is <code class="literal">$</code> or
          contains a <code class="literal">*</code> or <code class="literal">**</code>
          wildcard.
        </p><p>
          The <em class="replaceable"><code>path</code></em> arguments are evaluated
          left to right. The document produced by evaluating one path
          becomes the new value against which the next path is
          evaluated.
        </p><p>
          It is not an error if the element to be removed does not exist
          in the document; in that case, the path does not affect the
          document.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;[&#34;a&#34;, [&#34;b&#34;, &#34;c&#34;], &#34;d&#34;]&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_REMOVE(@j, &#39;$[1]&#39;);</code></strong>
+-------------------------+
| JSON_REMOVE(@j, &#39;$[1]&#39;) |
+-------------------------+
| [&#34;a&#34;, &#34;d&#34;]              |
+-------------------------+
</pre></li><li class="listitem"><a id="function_json-replace"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>[,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>] ...)</code></a>
        </p><a id="idm45828921077040" class="indexterm"></a><p>
          Replaces existing values in a JSON document and returns the
          result. Returns <code class="literal">NULL</code> if any argument is
          <code class="literal">NULL</code>. An error occurs if the
          <em class="replaceable"><code>json_doc</code></em> argument is not a valid
          JSON document or any <em class="replaceable"><code>path</code></em> argument
          is not a valid path expression or contains a
          <code class="literal">*</code> or <code class="literal">**</code> wildcard.
        </p><p>
          The path-value pairs are evaluated left to right. The document
          produced by evaluating one pair becomes the new value against
          which the next pair is evaluated.
        </p><p>
          A path-value pair for an existing path in the document
          overwrites the existing document value with the new value. A
          path-value pair for a nonexisting path in the document is
          ignored and has no effect.
        </p><p>
          In MySQL 8.0.4, the optimizer can perform a partial, in-place
          update of a <code class="literal">JSON</code> column instead of removing
          the old document and writing the new document in its entirety
          to the column. This optimization can be performed for an
          update statement that uses the
          <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a> function and
          meets the conditions outlined in
          <a class="xref" href="json.html#json-partial-updates" title="Partial Updates of JSON Values">Partial Updates of JSON Values</a>.
        </p><p>
          For a comparison of
          <a class="link" href="json-modification-functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a>,
          <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a>, and
          <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>, see the discussion
          of <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;{ &#34;a&#34;: 1, &#34;b&#34;: [2, 3]}&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_REPLACE(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;);</code></strong>
+-----------------------------------------------------+
| JSON_REPLACE(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;) |
+-----------------------------------------------------+
| {&#34;a&#34;: 10, &#34;b&#34;: [2, 3]}                              |
+-----------------------------------------------------+
</pre></li><li class="listitem"><a id="function_json-set"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET(<em class="replaceable"><code>json_doc</code></em>,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>[,
          <em class="replaceable"><code>path</code></em>,
          <em class="replaceable"><code>val</code></em>] ...)</code></a>
        </p><a id="idm45828921049648" class="indexterm"></a><p>
          Inserts or updates data in a JSON document and returns the
          result. Returns <code class="literal">NULL</code> if
          <em class="replaceable"><code>json_doc</code></em> or
          <em class="replaceable"><code>path</code></em> is <code class="literal">NULL</code>, or
          if <em class="replaceable"><code>path</code></em>, when given, does not
          locate an object. Otherwise, an error occurs if the
          <em class="replaceable"><code>json_doc</code></em> argument is not a valid
          JSON document or any <em class="replaceable"><code>path</code></em> argument
          is not a valid path expression or contains a
          <code class="literal">*</code> or <code class="literal">**</code> wildcard.
        </p><p>
          The path-value pairs are evaluated left to right. The document
          produced by evaluating one pair becomes the new value against
          which the next pair is evaluated.
        </p><p>
          A path-value pair for an existing path in the document
          overwrites the existing document value with the new value. A
          path-value pair for a nonexisting path in the document adds
          the value to the document if the path identifies one of these
          types of values:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              A member not present in an existing object. The member is
              added to the object and associated with the new value.
            </p></li><li class="listitem"><p>
              A position past the end of an existing array. The array is
              extended with the new value. If the existing value is not
              an array, it is autowrapped as an array, then extended
              with the new value.
            </p></li></ul></div><p>
          Otherwise, a path-value pair for a nonexisting path in the
          document is ignored and has no effect.
        </p><p>
          In MySQL 8.0.4, the optimizer can perform a partial, in-place
          update of a <code class="literal">JSON</code> column instead of removing
          the old document and writing the new document in its entirety
          to the column. This optimization can be performed for an
          update statement that uses the
          <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a> function and meets
          the conditions outlined in
          <a class="xref" href="json.html#json-partial-updates" title="Partial Updates of JSON Values">Partial Updates of JSON Values</a>.
        </p><p>
          The <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>,
          <a class="link" href="json-modification-functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a>, and
          <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a> functions are
          related:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <a class="link" href="json-modification-functions.html#function_json-set"><code class="literal">JSON_SET()</code></a> replaces
              existing values and adds nonexisting values.
            </p></li><li class="listitem"><p>
              <a class="link" href="json-modification-functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a> inserts
              values without replacing existing values.
            </p></li><li class="listitem"><p>
              <a class="link" href="json-modification-functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a> replaces
              <span class="emphasis"><em>only</em></span> existing values.
            </p></li></ul></div><p>
          The following examples illustrate these differences, using one
          path that does exist in the document (<code class="literal">$.a</code>)
          and another that does not exist (<code class="literal">$.c</code>):
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;{ &#34;a&#34;: 1, &#34;b&#34;: [2, 3]}&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_SET(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;);</code></strong>
+-------------------------------------------------+
| JSON_SET(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;) |
+-------------------------------------------------+
| {&#34;a&#34;: 10, &#34;b&#34;: [2, 3], &#34;c&#34;: &#34;[true, false]&#34;}    |
+-------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_INSERT(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;);</code></strong>
+----------------------------------------------------+
| JSON_INSERT(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;) |
+----------------------------------------------------+
| {&#34;a&#34;: 1, &#34;b&#34;: [2, 3], &#34;c&#34;: &#34;[true, false]&#34;}        |
+----------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_REPLACE(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;);</code></strong>
+-----------------------------------------------------+
| JSON_REPLACE(@j, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;) |
+-----------------------------------------------------+
| {&#34;a&#34;: 10, &#34;b&#34;: [2, 3]}                              |
+-----------------------------------------------------+
</pre></li><li class="listitem"><a id="function_json-unquote"></a><p>
          <a class="link" href="json-modification-functions.html#function_json-unquote"><code class="literal">JSON_UNQUOTE(<em class="replaceable"><code>json_val</code></em>)</code></a>
        </p><a id="idm45828921009312" class="indexterm"></a><p>
          Unquotes JSON value and returns the result as a
          <code class="literal">utf8mb4</code> string. Returns
          <code class="literal">NULL</code> if the argument is
          <code class="literal">NULL</code>. An error occurs if the value starts
          and ends with double quotes but is not a valid JSON string
          literal.
        </p><p>
          Within a string, certain sequences have special meaning unless
          the <a class="link" href="sql-mode.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
          mode is enabled. Each of these sequences begins with a
          backslash (<code class="literal">\</code>), known as the
          <span class="emphasis"><em>escape character</em></span>. MySQL recognizes the
          escape sequences shown in
          <a class="xref" href="json-modification-functions.html#json-unquote-character-escape-sequences" title="Table&nbsp;12.23&nbsp;JSON_UNQUOTE() Special Character Escape Sequences">Table&nbsp;12.23, &ldquo;JSON_UNQUOTE() Special Character Escape Sequences&rdquo;</a>. For
          all other escape sequences, backslash is ignored. That is, the
          escaped character is interpreted as if it was not escaped. For
          example, <code class="literal">\x</code> is just <code class="literal">x</code>.
          These sequences are case-sensitive. For example,
          <code class="literal">\b</code> is interpreted as a backspace, but
          <code class="literal">\B</code> is interpreted as <code class="literal">B</code>.
        </p><div class="table"><a id="json-unquote-character-escape-sequences"></a><p class="title"><strong>Table&nbsp;12.23&nbsp;JSON_UNQUOTE() Special Character Escape Sequences</strong></p><div class="table-contents"><table summary="JSON_UNQUOTE() Special Character Escape Sequences"><colgroup><col style="width: 15%"/><col style="width: 85%"/></colgroup><thead><tr>
              <th>Escape Sequence</th>
              <th>Character Represented by Sequence</th>
            </tr></thead><tbody><tr>
              <td><code class="literal">\&#34;</code><a id="idm45828920989600" class="indexterm"></a><a id="idm45828920988656" class="indexterm"></a></td>
              <td>A double quote (<code class="literal">&#34;</code>) character</td>
            </tr><tr>
              <td><code class="literal">\b</code><a id="idm45828920984480" class="indexterm"></a><a id="idm45828920983536" class="indexterm"></a></td>
              <td>A backspace character</td>
            </tr><tr>
              <td><code class="literal">\f</code><a id="idm45828920980000" class="indexterm"></a><a id="idm45828920979056" class="indexterm"></a></td>
              <td>A formfeed character</td>
            </tr><tr>
              <td><code class="literal">\n</code><a id="idm45828920975568" class="indexterm"></a><a id="idm45828920974624" class="indexterm"></a><a id="idm45828920973680" class="indexterm"></a><a id="idm45828920972736" class="indexterm"></a></td>
              <td>A newline (linefeed) character</td>
            </tr><tr>
              <td><code class="literal">\r</code><a id="idm45828920969232" class="indexterm"></a><a id="idm45828920968288" class="indexterm"></a><a id="idm45828920967344" class="indexterm"></a></td>
              <td>A carriage return character</td>
            </tr><tr>
              <td><code class="literal">\t</code><a id="idm45828920963840" class="indexterm"></a><a id="idm45828920962896" class="indexterm"></a></td>
              <td>A tab character</td>
            </tr><tr>
              <td><code class="literal">\\</code><a id="idm45828920959408" class="indexterm"></a><a id="idm45828920958464" class="indexterm"></a></td>
              <td>A backslash (<code class="literal">\</code>) character</td>
            </tr><tr>
              <td><code class="literal">\u<em class="replaceable"><code>XXXX</code></em></code><a id="idm45828920954000" class="indexterm"></a><a id="idm45828920953056" class="indexterm"></a></td>
              <td>UTF-8 bytes for Unicode value <em class="replaceable"><code>XXXX</code></em></td>
            </tr></tbody></table></div></div><br class="table-break"/><p>
          Two simple examples of the use of this function are shown
          here:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = &#39;&#34;abc&#34;&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_UNQUOTE(@j);</code></strong>
+-------+------------------+
| @j    | JSON_UNQUOTE(@j) |
+-------+------------------+
| &#34;abc&#34; | abc              |
+-------+------------------+
mysql&gt; <strong class="userinput"><code>SET @j = &#39;[1, 2, 3]&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_UNQUOTE(@j);</code></strong>
+-----------+------------------+
| @j        | JSON_UNQUOTE(@j) |
+-----------+------------------+
| [1, 2, 3] | [1, 2, 3]        |
+-----------+------------------+
</pre><p>
          The following set of examples shows how
          <code class="literal">JSON_UNQUOTE</code> handles escapes with
          <a class="link" href="sql-mode.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a>
          disabled and enabled:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @@sql_mode;</code></strong>
+------------+
| @@sql_mode |
+------------+
|            |
+------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE(&#39;&#34;\\t\\u0032&#34;&#39;);</code></strong>
+------------------------------+
| JSON_UNQUOTE(&#39;&#34;\\t\\u0032&#34;&#39;) |
+------------------------------+
|       2                           |
+------------------------------+

mysql&gt; <strong class="userinput"><code>SET @@sql_mode = &#39;NO_BACKSLASH_ESCAPES&#39;;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE(&#39;&#34;\\t\\u0032&#34;&#39;);</code></strong>
+------------------------------+
| JSON_UNQUOTE(&#39;&#34;\\t\\u0032&#34;&#39;) |
+------------------------------+
| \t\u0032                     |
+------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE(&#39;&#34;\t\u0032&#34;&#39;);</code></strong>
+----------------------------+
| JSON_UNQUOTE(&#39;&#34;\t\u0032&#34;&#39;) |
+----------------------------+
|       2                         |
+----------------------------+
</pre></li></ul></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="json-search-functions.html">Previous <span class="navHint"> Functions That Search JSON Values </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="json-functions.html">Up <span class="navHint"> JSON Functions </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="json-attribute-functions.html">Next <span class="navHint"> Functions That Return JSON Value Attributes </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>