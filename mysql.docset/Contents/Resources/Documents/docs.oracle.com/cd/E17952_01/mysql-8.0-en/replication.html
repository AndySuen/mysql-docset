<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-3805"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Chapter%C2%A017%C2%A0Replication"></a><title>Chapter&nbsp;17&nbsp;Replication</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="prev" href="pluggable-storage-common-layer.html" title="16.11.2&nbsp;The Common Database Server Layer"/><link rel="next" href="replication-configuration.html" title="17.1&nbsp;Configuring Replication"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="replication.html#replication">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="pluggable-storage-common-layer.html">Previous <span class="navHint"> The Common Database Server Layer </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp">&nbsp;</li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="replication-configuration.html">Next <span class="navHint"> Configuring Replication </span></a></li></ul></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="replication"></a>Chapter&nbsp;17&nbsp;Replication</h1></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="replication-configuration.html">17.1 Configuring Replication</a></span><ul><li><span class="section"><a href="binlog-replication-configuration-overview.html">17.1.1 Binary Log File Position Based Replication Configuration Overview</a></span></li><li><span class="section"><a href="replication-howto.html">17.1.2 Setting Up Binary Log File Position Based Replication</a></span></li><li><span class="section"><a href="replication-gtids.html">17.1.3 Replication with Global Transaction Identifiers</a></span></li><li><span class="section"><a href="replication-mode-change-online.html">17.1.4 Changing GTID Mode on Online Servers</a></span></li><li><span class="section"><a href="replication-multi-source.html">17.1.5 MySQL Multi-Source Replication</a></span></li><li><span class="section"><a href="replication-options.html">17.1.6 Replication and Binary Logging Options and Variables</a></span></li><li><span class="section"><a href="replication-administration.html">17.1.7 Common Replication Administration Tasks</a></span></li></ul></li><li><span class="section"><a href="replication-implementation.html">17.2 Replication Implementation</a></span><ul><li><span class="section"><a href="replication-formats.html">17.2.1 Replication Formats</a></span></li><li><span class="section"><a href="replication-channels.html">17.2.2 Replication Channels</a></span></li><li><span class="section"><a href="replication-threads.html">17.2.3 Replication Threads</a></span></li><li><span class="section"><a href="replica-logs.html">17.2.4 Relay Log and Replication Metadata Repositories</a></span></li><li><span class="section"><a href="replication-rules.html">17.2.5 How Servers Evaluate Replication Filtering Rules</a></span></li></ul></li><li><span class="section"><a href="replication-security.html">17.3 Replication Security</a></span><ul><li><span class="section"><a href="replication-encrypted-connections.html">17.3.1 Setting Up Replication to Use Encrypted Connections</a></span></li><li><span class="section"><a href="replication-binlog-encryption.html">17.3.2 Encrypting Binary Log Files and Relay Log Files</a></span></li><li><span class="section"><a href="replication-privilege-checks.html">17.3.3 Replication Privilege Checks</a></span></li></ul></li><li><span class="section"><a href="replication-solutions.html">17.4 Replication Solutions</a></span><ul><li><span class="section"><a href="replication-solutions-backups.html">17.4.1 Using Replication for Backups</a></span></li><li><span class="section"><a href="replication-solutions-unexpected-replica-halt.html">17.4.2 Handling an Unexpected Halt of a Replica</a></span></li><li><span class="section"><a href="replication-solutions-rbr-monitoring.html">17.4.3 Monitoring Row-based Replication</a></span></li><li><span class="section"><a href="replication-solutions-diffengines.html">17.4.4 Using Replication with Different Source and Replica Storage Engines</a></span></li><li><span class="section"><a href="replication-solutions-scaleout.html">17.4.5 Using Replication for Scale-Out</a></span></li><li><span class="section"><a href="replication-solutions-partitioning.html">17.4.6 Replicating Different Databases to Different Replicas</a></span></li><li><span class="section"><a href="replication-solutions-performance.html">17.4.7 Improving Replication Performance</a></span></li><li><span class="section"><a href="replication-solutions-switch.html">17.4.8 Switching Sources During Failover</a></span></li><li><span class="section"><a href="replication-asynchronous-connection-failover.html">17.4.9 Switching Sources and Replicas with Asynchronous Connection Failover</a></span></li><li><span class="section"><a href="replication-semisync.html">17.4.10 Semisynchronous Replication</a></span></li><li><span class="section"><a href="replication-delayed.html">17.4.11 Delayed Replication</a></span></li></ul></li><li><span class="section"><a href="replication-notes.html">17.5 Replication Notes and Tips</a></span><ul><li><span class="section"><a href="replication-features.html">17.5.1 Replication Features and Issues</a></span></li><li><span class="section"><a href="replication-compatibility.html">17.5.2 Replication Compatibility Between MySQL Versions</a></span></li><li><span class="section"><a href="replication-upgrade.html">17.5.3 Upgrading a Replication Topology</a></span></li><li><span class="section"><a href="replication-problems.html">17.5.4 Troubleshooting Replication</a></span></li><li><span class="section"><a href="replication-bugs.html">17.5.5 How to Report Replication Bugs or Problems</a></span></li></ul></li></ul></div><a id="idm45828869554576" class="indexterm"></a><a id="idm45828869553504" class="indexterm"></a><a id="idm45828869552016" class="indexterm"></a><a id="idm45828869550512" class="indexterm"></a><p>
    Replication enables data from one MySQL database server (known as a
    source) to be copied to one or more MySQL database servers (known as
    replicas). Replication is asynchronous by default; replicas do not
    need to be connected permanently to receive updates from a source.
    Depending on the configuration, you can replicate all databases,
    selected databases, or even selected tables within a database.
  </p><p>
    Advantages of replication in MySQL include:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Scale-out solutions - spreading the load among multiple replicas
        to improve performance. In this environment, all writes and
        updates must take place on the source server. Reads, however,
        may take place on one or more replicas. This model can improve
        the performance of writes (since the source is dedicated to
        updates), while dramatically increasing read speed across an
        increasing number of replicas.
      </p></li><li class="listitem"><p>
        Data security - because the replica can pause the replication
        process, it is possible to run backup services on the replica
        without corrupting the corresponding source data.
      </p></li><li class="listitem"><p>
        Analytics - live data can be created on the source, while the
        analysis of the information can take place on the replica
        without affecting the performance of the source.
      </p></li><li class="listitem"><p>
        Long-distance data distribution - you can use replication to
        create a local copy of data for a remote site to use, without
        permanent access to the source.
      </p></li></ul></div><p>
    For information on how to use replication in such scenarios, see
    <a class="xref" href="replication-solutions.html" title="17.4&nbsp;Replication Solutions">Section&nbsp;17.4, &ldquo;Replication Solutions&rdquo;</a>.
  </p><p>
    MySQL 8.0 supports different methods of replication.
    The traditional method is based on replicating events from the
    source&#39;s binary log, and requires the log files and positions in
    them to be synchronized between source and replica. The newer method
    based on <span class="firstterm">global transaction
    identifiers</span> (GTIDs) is transactional and therefore does
    not require working with log files or positions within these files,
    which greatly simplifies many common replication tasks. Replication
    using GTIDs guarantees consistency between source and replica as
    long as all transactions committed on the source have also been
    applied on the replica. For more information about GTIDs and
    GTID-based replication in MySQL, see
    <a class="xref" href="replication-gtids.html" title="17.1.3&nbsp;Replication with Global Transaction Identifiers">Section&nbsp;17.1.3, &ldquo;Replication with Global Transaction Identifiers&rdquo;</a>. For information on using binary
    log file position based replication, see
    <a class="xref" href="replication-configuration.html" title="17.1&nbsp;Configuring Replication">Section&nbsp;17.1, &ldquo;Configuring Replication&rdquo;</a>.
  </p><p>
    Replication in MySQL supports different types of synchronization.
    The original type of synchronization is one-way, asynchronous
    replication, in which one server acts as the source, while one or
    more other servers act as replicas. This is in contrast to the
    <span class="emphasis"><em>synchronous</em></span> replication which is a
    characteristic of NDB Cluster (see <a class="xref" href="mysql-cluster.html" title="Chapter&nbsp;23&nbsp;MySQL NDB Cluster 8.0">Chapter&nbsp;23, <em>MySQL NDB Cluster 8.0</em></a>).
    In MySQL 8.0, semisynchronous replication is supported
    in addition to the built-in asynchronous replication. With
    semisynchronous replication, a commit performed on the source blocks
    before returning to the session that performed the transaction until
    at least one replica acknowledges that it has received and logged
    the events for the transaction; see
    <a class="xref" href="replication-semisync.html" title="17.4.10&nbsp;Semisynchronous Replication">Section&nbsp;17.4.10, &ldquo;Semisynchronous Replication&rdquo;</a>. MySQL 8.0 also
    supports delayed replication such that a replica deliberately lags
    behind the source by at least a specified amount of time; see
    <a class="xref" href="replication-delayed.html" title="17.4.11&nbsp;Delayed Replication">Section&nbsp;17.4.11, &ldquo;Delayed Replication&rdquo;</a>. For scenarios where
    <span class="emphasis"><em>synchronous</em></span> replication is required, use NDB
    Cluster (see <a class="xref" href="mysql-cluster.html" title="Chapter&nbsp;23&nbsp;MySQL NDB Cluster 8.0">Chapter&nbsp;23, <em>MySQL NDB Cluster 8.0</em></a>).
  </p><p>
    There are a number of solutions available for setting up replication
    between servers, and the best method to use depends on the presence
    of data and the engine types you are using. For more information on
    the available options, see <a class="xref" href="replication-howto.html" title="17.1.2&nbsp;Setting Up Binary Log File Position Based Replication">Section&nbsp;17.1.2, &ldquo;Setting Up Binary Log File Position Based Replication&rdquo;</a>.
  </p><p>
    There are two core types of replication format, Statement Based
    Replication (SBR), which replicates entire SQL statements, and Row
    Based Replication (RBR), which replicates only the changed rows. You
    can also use a third variety, Mixed Based Replication (MBR). For
    more information on the different replication formats, see
    <a class="xref" href="replication-formats.html" title="17.2.1&nbsp;Replication Formats">Section&nbsp;17.2.1, &ldquo;Replication Formats&rdquo;</a>.
  </p><p>
    Replication is controlled through a number of different options and
    variables. For more information, see
    <a class="xref" href="replication-options.html" title="17.1.6&nbsp;Replication and Binary Logging Options and Variables">Section&nbsp;17.1.6, &ldquo;Replication and Binary Logging Options and Variables&rdquo;</a>. Additional security measures
    can be applied to a replication topology, as described in
    <a class="xref" href="replication-security.html" title="17.3&nbsp;Replication Security">Section&nbsp;17.3, &ldquo;Replication Security&rdquo;</a>.
  </p><p>
    You can use replication to solve a number of different problems,
    including performance, supporting the backup of different databases,
    and as part of a larger solution to alleviate system failures. For
    information on how to address these issues, see
    <a class="xref" href="replication-solutions.html" title="17.4&nbsp;Replication Solutions">Section&nbsp;17.4, &ldquo;Replication Solutions&rdquo;</a>.
  </p><p>
    For notes and tips on how different data types and statements are
    treated during replication, including details of replication
    features, version compatibility, upgrades, and potential problems
    and their resolution, see <a class="xref" href="replication-notes.html" title="17.5&nbsp;Replication Notes and Tips">Section&nbsp;17.5, &ldquo;Replication Notes and Tips&rdquo;</a>. For
    answers to some questions often asked by those who are new to MySQL
    Replication, see <a class="xref" href="faqs-replication.html" title="A.14&nbsp;MySQL 8.0 FAQ: Replication">Section&nbsp;A.14, &ldquo;MySQL 8.0 FAQ: Replication&rdquo;</a>.
  </p><p>
    For detailed information on the implementation of replication, how
    replication works, the process and contents of the binary log,
    background threads and the rules used to decide how statements are
    recorded and replicated, see
    <a class="xref" href="replication-implementation.html" title="17.2&nbsp;Replication Implementation">Section&nbsp;17.2, &ldquo;Replication Implementation&rdquo;</a>.
  </p></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="pluggable-storage-common-layer.html">Previous <span class="navHint"> The Common Database Server Layer </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp">&nbsp;</li><li class="navLinkNext"><a title="Go To Next Page" href="replication-configuration.html">Next <span class="navHint"> Configuring Replication </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>