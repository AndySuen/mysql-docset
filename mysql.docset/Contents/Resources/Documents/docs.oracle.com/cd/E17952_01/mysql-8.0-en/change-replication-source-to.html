<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-192"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/13.4.2.3%C2%A0CHANGE%20REPLICATION%20SOURCE%20TO%20Statement"></a><title>13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="replication-statements-replica.html" title="13.4.2&nbsp;SQL Statements for Controlling Replica Servers"/><link rel="prev" href="change-replication-filter.html" title="13.4.2.2&nbsp;CHANGE REPLICATION FILTER Statement"/><link rel="next" href="master-pos-wait.html" title="13.4.2.4&nbsp;MASTER_POS_WAIT() Statement"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="change-replication-source-to.html#change-replication-source-to">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="change-replication-filter.html">Previous <span class="navHint"> CHANGE REPLICATION FILTER Statement </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="replication-statements-replica.html">Up <span class="navHint"> SQL Statements for Controlling Replica Servers </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="master-pos-wait.html">Next <span class="navHint"> MASTER_POS_WAIT() Statement </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><a class="dashingAutolink" name="autolink-191"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/13.4.2.3%C2%A0CHANGE%20REPLICATION%20SOURCE%20TO%20Statement"></a><h4 class="title"><a id="change-replication-source-to"></a>13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement</h4></div></div></div><a id="idm45828903503024" class="indexterm"></a><pre class="programlisting">CHANGE REPLICATION SOURCE TO <em class="replaceable"><code>option</code></em> [, <em class="replaceable"><code>option</code></em>] ... [ <em class="replaceable"><code>channel_option</code></em> ]

<em class="replaceable"><code>option</code></em>: {
    SOURCE_BIND = &#39;<em class="replaceable"><code>interface_name</code></em>&#39;
  | SOURCE_HOST = &#39;<em class="replaceable"><code>host_name</code></em>&#39;
  | SOURCE_USER = &#39;<em class="replaceable"><code>user_name</code></em>&#39;
  | SOURCE_PASSWORD = &#39;<em class="replaceable"><code>password</code></em>&#39;
  | SOURCE_PORT = <em class="replaceable"><code>port_num</code></em>
  | PRIVILEGE_CHECKS_USER = {NULL | &#39;<em class="replaceable"><code>account</code></em>&#39;}
  | REQUIRE_ROW_FORMAT = {0|1}
  | REQUIRE_TABLE_PRIMARY_KEY_CHECK = {STREAM | ON | OFF | GENERATE}
  | ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS = {OFF | LOCAL | <em class="replaceable"><code>uuid</code></em>}
  | SOURCE_LOG_FILE = &#39;<em class="replaceable"><code>source_log_name</code></em>&#39;
  | SOURCE_LOG_POS = <em class="replaceable"><code>source_log_pos</code></em>
  | SOURCE_AUTO_POSITION = {0|1}
  | RELAY_LOG_FILE = &#39;<em class="replaceable"><code>relay_log_name</code></em>&#39;
  | RELAY_LOG_POS = <em class="replaceable"><code>relay_log_pos</code></em>
  | SOURCE_HEARTBEAT_PERIOD = <em class="replaceable"><code>interval</code></em>
  | SOURCE_CONNECT_RETRY = <em class="replaceable"><code>interval</code></em>
  | SOURCE_RETRY_COUNT = <em class="replaceable"><code>count</code></em>
  | SOURCE_CONNECTION_AUTO_FAILOVER = {0|1}
  | SOURCE_DELAY = <em class="replaceable"><code>interval</code></em>
  | SOURCE_COMPRESSION_ALGORITHMS = &#39;<em class="replaceable"><code>algorithm</code></em>[,<em class="replaceable"><code>algorithm</code></em>][,<em class="replaceable"><code>algorithm</code></em>]&#39;
  | SOURCE_ZSTD_COMPRESSION_LEVEL = <em class="replaceable"><code>level</code></em>
  | SOURCE_SSL = {0|1}
  | SOURCE_SSL_CA = &#39;<em class="replaceable"><code>ca_file_name</code></em>&#39;
  | SOURCE_SSL_CAPATH = &#39;<em class="replaceable"><code>ca_directory_name</code></em>&#39;
  | SOURCE_SSL_CERT = &#39;<em class="replaceable"><code>cert_file_name</code></em>&#39;
  | SOURCE_SSL_CRL = &#39;<em class="replaceable"><code>crl_file_name</code></em>&#39;
  | SOURCE_SSL_CRLPATH = &#39;<em class="replaceable"><code>crl_directory_name</code></em>&#39;
  | SOURCE_SSL_KEY = &#39;<em class="replaceable"><code>key_file_name</code></em>&#39;
  | SOURCE_SSL_CIPHER = &#39;<em class="replaceable"><code>cipher_list</code></em>&#39;
  | SOURCE_SSL_VERIFY_SERVER_CERT = {0|1}
  | SOURCE_TLS_VERSION = &#39;<em class="replaceable"><code>protocol_list</code></em>&#39;
  | SOURCE_TLS_CIPHERSUITES = &#39;<em class="replaceable"><code>ciphersuite_list</code></em>&#39;
  | SOURCE_PUBLIC_KEY_PATH = &#39;<em class="replaceable"><code>key_file_name</code></em>&#39;
  | GET_SOURCE_PUBLIC_KEY = {0|1}
  | NETWORK_NAMESPACE = &#39;<em class="replaceable"><code>namespace</code></em>&#39;
  | IGNORE_SERVER_IDS = (<em class="replaceable"><code>server_id_list</code></em>),
  | GTID_ONLY = {0|1}
}

<em class="replaceable"><code>channel_option</code></em>:
    FOR CHANNEL <em class="replaceable"><code>channel</code></em>

<em class="replaceable"><code>server_id_list</code></em>:
    [<em class="replaceable"><code>server_id</code></em> [, <em class="replaceable"><code>server_id</code></em>] ... ]
</pre><p>
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        changes the parameters that the replica server uses for
        connecting to the source and reading data from the source. It
        also updates the contents of the replication metadata
        repositories (see <a class="xref" href="replica-logs.html" title="17.2.4&nbsp;Relay Log and Replication Metadata Repositories">Section&nbsp;17.2.4, &ldquo;Relay Log and Replication Metadata Repositories&rdquo;</a>). In MySQL
        8.0.23 and later, use <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION
        SOURCE TO</code></a> in place of the deprecated
        <a class="link" href="change-master-to.html" title="13.4.2.1&nbsp;CHANGE MASTER TO Statement"><code class="literal">CHANGE MASTER TO</code></a> statement.
      </p><p>
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        requires the
        <a class="link" href="privileges-provided.html#priv_replication-slave-admin"><code class="literal">REPLICATION_SLAVE_ADMIN</code></a> privilege
        (or the deprecated <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a>
        privilege).
      </p><p>
        Options that you do not specify on a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE
        REPLICATION SOURCE TO</code></a> statement retain their value,
        except as indicated in the following discussion. In most cases,
        there is therefore no need to specify options that do not
        change.
      </p><p>
        Values used for <code class="literal">SOURCE_HOST</code> and other
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        options are checked for linefeed (<code class="literal">\n</code> or
        <code class="literal">0x0A</code>) characters. The presence of such
        characters in these values causes the statement to fail with an
        error.
      </p><p>
        The optional <code class="literal">FOR CHANNEL
        <em class="replaceable"><code>channel</code></em></code> clause lets you
        name which replication channel the statement applies to.
        Providing a <code class="literal">FOR CHANNEL
        <em class="replaceable"><code>channel</code></em></code> clause applies the
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        statement to a specific replication channel, and is used to add
        a new channel or modify an existing channel. For example, to add
        a new channel called <code class="literal">channel2</code>:
      </p><pre class="programlisting">CHANGE REPLICATION SOURCE TO SOURCE_HOST=host1, SOURCE_PORT=3002 FOR CHANNEL &#39;channel2&#39;;
</pre><p>
        If no clause is named and no extra channels exist, a
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        statement applies to the default channel, whose name is the
        empty string (&#34;&#34;). When you have set up multiple replication
        channels, every <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
        TO</code></a> statement must name a channel using the
        <code class="literal">FOR CHANNEL
        <em class="replaceable"><code>channel</code></em></code> clause. See
        <a class="xref" href="replication-channels.html" title="17.2.2&nbsp;Replication Channels">Section&nbsp;17.2.2, &ldquo;Replication Channels&rdquo;</a> for more information.
      </p><p>
        For some of the options of the <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE
        REPLICATION SOURCE TO</code></a> statement, you must issue a
        <a class="link" href="stop-replica.html" title="13.4.2.10&nbsp;STOP REPLICA Statement"><code class="literal">STOP REPLICA</code></a> statement prior to
        issuing a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
        TO</code></a> statement (and a <a class="link" href="start-replica.html" title="13.4.2.8&nbsp;START REPLICA Statement"><code class="literal">START
        REPLICA</code></a> statement afterwards). Sometimes, you only
        need to stop the replication SQL (applier) thread or the
        replication I/O (receiver) thread, not both:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            When the applier thread is stopped, you can execute
            <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
            using any combination that is otherwise allowed of
            <code class="literal">RELAY_LOG_FILE</code>,
            <code class="literal">RELAY_LOG_POS</code>, and
            <code class="literal">SOURCE_DELAY</code> options, even if the
            replication receiver thread is running. No other options may
            be used with this statement when the receiver thread is
            running.
          </p></li><li class="listitem"><p>
            When the receiver thread is stopped, you can execute
            <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
            using any of the options for this statement (in any allowed
            combination) <span class="emphasis"><em>except</em></span>
            <code class="literal">RELAY_LOG_FILE</code>,
            <code class="literal">RELAY_LOG_POS</code>,
            <code class="literal">SOURCE_DELAY</code>, or
            <code class="literal">SOURCE_AUTO_POSITION = 1</code> even when the
            applier thread is running.
          </p></li><li class="listitem"><p>
            Both the receiver thread and the applier thread must be
            stopped before issuing a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE
            REPLICATION SOURCE TO</code></a> statement that employs
            <code class="literal">SOURCE_AUTO_POSITION = 1</code>,
            <code class="literal">GTID_ONLY = 1</code>, or
            <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS</code>.
          </p></li></ul></div><p>
        You can check the current state of the replication applier
        thread and replication receiver thread using
        <a class="link" href="show-replica-status.html" title="13.7.7.35&nbsp;SHOW REPLICA STATUS Statement"><code class="literal">SHOW
        REPLICA STATUS</code></a>. Note that the Group Replication
        applier channel (<code class="literal">group_replication_applier</code>)
        has no receiver thread, only an applier thread.
      </p><p>
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        statements have a number of side-effects and interactions that
        you should be aware of beforehand:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
            causes an implicit commit of an ongoing transaction. See
            <a class="xref" href="implicit-commit.html" title="13.3.3&nbsp;Statements That Cause an Implicit Commit">Section&nbsp;13.3.3, &ldquo;Statements That Cause an Implicit Commit&rdquo;</a>.
          </p></li><li class="listitem"><p>
            <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
            causes the previous values for
            <code class="literal">SOURCE_HOST</code>,
            <code class="literal">SOURCE_PORT</code>,
            <code class="literal">SOURCE_LOG_FILE</code>, and
            <code class="literal">SOURCE_LOG_POS</code> to be written to the error
            log, along with other information about the replica&#39;s
            state prior to execution.
          </p></li><li class="listitem"><p>
            If you are using statement-based replication and temporary
            tables, it is possible for a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE
            REPLICATION SOURCE TO</code></a> statement following a
            <a class="link" href="stop-replica.html" title="13.4.2.10&nbsp;STOP REPLICA Statement"><code class="literal">STOP
            REPLICA</code></a> statement to leave behind temporary tables
            on the replica. A warning
            (<a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_warn_open_temp_tables_must_be_zero" target="_top"><code class="literal">ER_WARN_OPEN_TEMP_TABLES_MUST_BE_ZERO</code></a>)
            is issued whenever this occurs. You can avoid this in such
            cases by making sure that the value of the
            <a class="link" href="server-status-variables.html#statvar_Replica_open_temp_tables"><code class="literal">Replica_open_temp_tables</code></a>
            or <a class="link" href="server-status-variables.html#statvar_Slave_open_temp_tables"><code class="literal">Slave_open_temp_tables</code></a>
            system status variable is equal to 0 prior to executing such
            a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
            TO</code></a> statement.
          </p></li><li class="listitem"><p>
            When using a multithreaded replica
            (<a class="link" href="replication-options-replica.html#sysvar_replica_parallel_workers"><code class="literal">replica_parallel_workers</code></a>
            &gt; 0), stopping the replica can cause gaps in the sequence
            of transactions that have been executed from the relay log,
            regardless of whether the replica was stopped intentionally
            or otherwise. When such gaps exist, issuing
            <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
            fails. The solution in this situation is to issue
            <a class="link" href="start-replica.html" title="13.4.2.8&nbsp;START REPLICA Statement"><code class="literal">START REPLICA
            UNTIL SQL_AFTER_MTS_GAPS</code></a> which ensures that the
            gaps are closed. From MySQL 8.0.26, the process of checking
            for gaps in the sequence of transactions is skipped entirely
            when GTID-based replication and GTID auto-positioning are in
            use, because gaps in transactions can be resolved using GTID
            auto-positioning. In that situation,
            <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
            can still be used.
          </p></li></ul></div><p>
        The following options are available for
        <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
        statements:
      </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
            <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS = {OFF |
            LOCAL | <em class="replaceable"><code>uuid</code></em>}</code>
          </span></dt><dd><p>
              Makes the replication channel assign a GTID to replicated
              transactions that do not have one, enabling replication
              from a source that does not use GTID-based replication, to
              a replica that does. For a multi-source replica, you can
              have a mix of channels that use
              <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS</code>,
              and channels that do not. The default is
              <code class="literal">OFF</code>, meaning that the feature is not
              used.
            </p><p>
              <code class="literal">LOCAL</code> assigns a GTID including the
              replica&#39;s own UUID (the
              <a class="link" href="replication-options.html#sysvar_server_uuid"><code class="literal">server_uuid</code></a> setting).
              <code class="literal"><em class="replaceable"><code>uuid</code></em></code> assigns
              a GTID including the specified UUID, such as the
              <a class="link" href="replication-options.html#sysvar_server_uuid"><code class="literal">server_uuid</code></a> setting for
              the replication source server. Using a nonlocal UUID lets
              you differentiate between transactions that originated on
              the replica and transactions that originated on the
              source, and for a multi-source replica, between
              transactions that originated on different sources. The
              UUID you choose only has significance for the replica&#39;s
              own use. If any of the transactions sent by the source do
              have a GTID already, that GTID is retained.
            </p><p>
              Channels specific to Group Replication cannot use
              <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS</code>,
              but an asynchronous replication channel for another source
              on a server instance that is a Group Replication group
              member can do so. In that case, do not specify the Group
              Replication group name as the UUID for creating the GTIDs.
            </p><p>
              To set
              <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS</code>
              to <code class="literal">LOCAL</code> or
              <code class="literal"><em class="replaceable"><code>uuid</code></em></code>, the
              replica must have
              <a class="link" href="replication-options-gtids.html#sysvar_gtid_mode"><code class="literal">gtid_mode=ON</code></a> set, and
              this cannot be changed afterwards. This option is for use
              with a source that has binary log file position based
              replication, so <code class="literal">SOURCE_AUTO_POSITION=1</code>
              cannot be set for the channel. Both the replication SQL
              thread and the replication I/O (receiver) thread must be
              stopped before setting this option.
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
                A replica set up with
                <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS</code>
                on any channel cannot be promoted to replace the
                replication source server in the event that a failover
                is required, and a backup taken from the replica cannot
                be used to restore the replication source server. The
                same restriction applies to replacing or restoring other
                replicas that use
                <code class="literal">ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS</code>
                on any channel.
              </p></div><p>
              For further restrictions and information, see
              <a class="xref" href="replication-gtids-assign-anon.html" title="17.1.3.6&nbsp;Replication From a Source Without GTIDs to a Replica With GTIDs">Section&nbsp;17.1.3.6, &ldquo;Replication From a Source Without GTIDs to a Replica With GTIDs&rdquo;</a>.
            </p></dd><dt><span class="term">
            <code class="literal">GET_SOURCE_PUBLIC_KEY = {0|1}</code>
          </span></dt><dd><p>
              Enables RSA key pair-based password exchange by requesting
              the public key from the source. The option is disabled by
              default.
            </p><p>
              This option applies to replicas that authenticate with the
              <code class="literal">caching_sha2_password</code> authentication
              plugin. For connections by accounts that authenticate
              using this plugin, the source does not send the public key
              unless requested, so it must be requested or specified in
              the client. If <code class="literal">SOURCE_PUBLIC_KEY_PATH</code>
              is given and specifies a valid public key file, it takes
              precedence over <code class="literal">GET_SOURCE_PUBLIC_KEY</code>.
              If you are using a replication user account that
              authenticates with the
              <code class="literal">caching_sha2_password</code> plugin (which is
              the default from MySQL 8.0), and you are not using a
              secure connection, you must specify either this option or
              the <code class="literal">SOURCE_PUBLIC_KEY_PATH</code> option to
              provide the RSA public key to the replica.
            </p></dd><dt><span class="term">
            <code class="literal">GTID_ONLY = {0|1}</code>
          </span></dt><dd><p>
              Stops the replication channel persisting file names and
              file positions in the replication metadata repositories.
              <code class="literal">GTID_ONLY</code> is available as of MySQL
              8.0.27. The <code class="literal">GTID_ONLY</code> option is
              disabled by default for asynchronous replication channels,
              but it is enabled by default for Group Replication
              channels, and it cannot be disabled for them.
            </p><p>
              For replication channels with this setting, in-memory file
              positions are still tracked, and file positions can still
              be observed for debugging purposes in error messages and
              through interfaces such as <code class="literal">SHOW REPLICA
              STATUS</code> statements (where they are shown as being
              invalid if they are out of date). However, the writes and
              reads required to persist and check the file positions are
              avoided in situations where GTID-based replication does
              not actually require them, including the transaction
              queuing and application process.
            </p><p>
              This option can be used only if both the replication SQL
              (applier) thread and replication I/O (receiver) thread are
              stopped. To set <code class="literal">GTID_ONLY = 1</code> for a
              replication channel, GTIDs must be in use on the server
              (<a class="link" href="replication-options-gtids.html#sysvar_gtid_mode"><code class="literal">gtid_mode =
              ON</code></a>), and row-based binary logging must be in use
              on the source (statement-based replication is not
              supported). The options <code class="literal">REQUIRE_ROW_FORMAT =
              1</code> and <code class="literal">SOURCE_AUTO_POSITION =
              1</code> must be set for the replication channel.
            </p><p>
              When <code class="literal">GTID_ONLY = 1</code> is set, the replica
              uses
              <a class="link" href="replication-options-replica.html#sysvar_replica_parallel_workers"><code class="literal">replica_parallel_workers=1</code></a>
              if that system variable is set to zero for the server, so
              it is always technically a multi-threaded applier. This is
              because a multi-threaded applier uses saved positions
              rather than the replication metadata repositories to
              locate the start of a transaction that it needs to
              reapply.
            </p><p>
              If you disable <code class="literal">GTID_ONLY</code> after setting
              it, the existing relay logs are deleted and the existing
              known binary log file positions are persisted, even if
              they are stale. The file positions for the binary log and
              relay log in the replication metadata repositories might
              be invalid, and a warning is returned if this is the case.
              Provided that <code class="literal">SOURCE_AUTO_POSITION</code> is
              still enabled, GTID auto-positioning is used to provide
              the correct positioning.
            </p><p>
              If you also disable
              <code class="literal">SOURCE_AUTO_POSITION</code>, the file
              positions for the binary log and relay log in the
              replication metadata repositories are used for positioning
              if they are valid. If they are marked as invalid, you must
              provide a valid binary log file name and position
              (<code class="literal">SOURCE_LOG_FILE</code> and
              <code class="literal">SOURCE_LOG_POS</code>). If you also provide a
              relay log file name and position
              (<code class="literal">RELAY_LOG_FILE</code> and
              <code class="literal">RELAY_LOG_POS</code>), the relay logs are
              preserved and the applier position is set to the stated
              position. GTID auto-skip ensures that any transactions
              already applied are skipped even if the eventual applier
              position is not correct.
            </p></dd><dt><span class="term">
            <code class="literal">IGNORE_SERVER_IDS =
            (<em class="replaceable"><code>server_id_list</code></em>)</code>
          </span></dt><dd><p>
              Makes the replica ignore events originating from the
              specified servers. The option takes a comma-separated list
              of 0 or more server IDs. Log rotation and deletion events
              from the servers are not ignored, and are recorded in the
              relay log.
            </p><p>
              In circular replication, the originating server normally
              acts as the terminator of its own events, so that they are
              not applied more than once. Thus, this option is useful in
              circular replication when one of the servers in the circle
              is removed. Suppose that you have a circular replication
              setup with 4 servers, having server IDs 1, 2, 3, and 4,
              and server 3 fails. When bridging the gap by starting
              replication from server 2 to server 4, you can include
              <code class="literal">IGNORE_SERVER_IDS = (3)</code> in the
              <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
              TO</code></a> statement that you issue on server 4 to tell
              it to use server 2 as its source instead of server 3.
              Doing so causes it to ignore and not to propagate any
              statements that originated with the server that is no
              longer in use.
            </p><p>
              If <code class="literal">IGNORE_SERVER_IDS</code> contains the
              server&#39;s own ID and the server was started with the
              <a class="link" href="replication-options-replica.html#option_mysqld_replicate-same-server-id"><code class="option">--replicate-same-server-id</code></a>
              option enabled, an error results.
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
                When global transaction identifiers (GTIDs) are used for
                replication, transactions that have already been applied
                are automatically ignored, so the
                <code class="literal">IGNORE_SERVER_IDS</code> function is not
                required and is deprecated. If
                <a class="link" href="replication-options-gtids.html#sysvar_gtid_mode"><code class="literal">gtid_mode=ON</code></a> is set for
                the server, a deprecation warning is issued if you
                include the <code class="literal">IGNORE_SERVER_IDS</code> option
                in a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
                TO</code></a> statement.
              </p></div><p>
              The source metadata repository and the output of
              <a class="link" href="show-replica-status.html" title="13.7.7.35&nbsp;SHOW REPLICA STATUS Statement"><code class="literal">SHOW
              REPLICA STATUS</code></a> provide the list of servers that
              are currently ignored. For more information, see
              <a class="xref" href="replica-logs-status.html" title="17.2.4.2&nbsp;Replication Metadata Repositories">Section&nbsp;17.2.4.2, &ldquo;Replication Metadata Repositories&rdquo;</a>, and
              <a class="xref" href="show-replica-status.html" title="13.7.7.35&nbsp;SHOW REPLICA STATUS Statement">Section&nbsp;13.7.7.35, &ldquo;SHOW REPLICA STATUS Statement&rdquo;</a>.
            </p><p>
              If a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
              TO</code></a> statement is issued without any
              <code class="literal">IGNORE_SERVER_IDS</code> option, any existing
              list is preserved. To clear the list of ignored servers,
              it is necessary to use the option with an empty list:
            </p><pre class="programlisting">CHANGE REPLICATION SOURCE TO IGNORE_SERVER_IDS = ();
</pre><p>
              <a class="link" href="reset-replica.html" title="13.4.2.5&nbsp;RESET REPLICA Statement"><code class="literal">RESET
              REPLICA ALL</code></a> clears
              <code class="literal">IGNORE_SERVER_IDS</code>.
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
                A deprecation warning is issued if <code class="literal">SET
                GTID_MODE=ON</code> is issued when any channel has
                existing server IDs set with
                <code class="literal">IGNORE_SERVER_IDS</code>. Before starting
                GTID-based replication, check for and clear all ignored
                server ID lists on the servers involved. The
                <a class="link" href="show-replica-status.html" title="13.7.7.35&nbsp;SHOW REPLICA STATUS Statement"><code class="literal">SHOW REPLICA STATUS</code></a>
                statement displays the list of ignored IDs, if there is
                one. If you do receive the deprecation warning, you can
                still clear a list after
                <a class="link" href="replication-options-gtids.html#sysvar_gtid_mode"><code class="literal">gtid_mode=ON</code></a> is set by
                issuing a <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
                TO</code></a> statement containing the
                <code class="literal">IGNORE_SERVER_IDS</code> option with an
                empty list.
              </p></div></dd><dt><span class="term">
            <code class="literal">NETWORK_NAMESPACE =
            &#39;<em class="replaceable"><code>namespace</code></em>&#39;</code>
          </span></dt><dd><p>
              The network namespace to use for TCP/IP connections to the
              replication source server or, if the MySQL communication
              stack is in use, for Group Replication&rsquo;s group
              communication connections. The maximum length of the
              string value is 64 characters. If this option is omitted,
              connections from the replica use the default (global)
              namespace. On platforms that do not implement network
              namespace support, failure occurs when the replica
              attempts to connect to the source. For information about
              network namespaces, see
              <a class="xref" href="network-namespace-support.html" title="5.1.14&nbsp;Network Namespace Support">Section&nbsp;5.1.14, &ldquo;Network Namespace Support&rdquo;</a>.
              <code class="literal">NETWORK_NAMESPACE</code> is available as of
              MySQL 8.0.22.
            </p></dd><dt><span class="term">
            <code class="literal">PRIVILEGE_CHECKS_USER = {NULL |
            &#39;<em class="replaceable"><code>account</code></em>&#39;}</code>
          </span></dt><dd><p>
              Names a user account that supplies a security context for
              the specified channel. <code class="literal">NULL</code>, which is
              the default, means no security context is used.
              <code class="literal">PRIVILEGE_CHECKS_USER</code> is available as
              of MySQL 8.0.18.
            </p><p>
              The user name and host name for the user account must
              follow the syntax described in
              <a class="xref" href="account-names.html" title="6.2.4&nbsp;Specifying Account Names">Section&nbsp;6.2.4, &ldquo;Specifying Account Names&rdquo;</a>, and the user must not be
              an anonymous user (with a blank user name) or the
              <code class="literal">CURRENT_USER</code>. The account must have the
              <a class="link" href="privileges-provided.html#priv_replication-applier"><code class="literal">REPLICATION_APPLIER</code></a>
              privilege, plus the required privileges to execute the
              transactions replicated on the channel. For details of the
              privileges required by the account, see
              <a class="xref" href="replication-privilege-checks.html" title="17.3.3&nbsp;Replication Privilege Checks">Section&nbsp;17.3.3, &ldquo;Replication Privilege Checks&rdquo;</a>. When you
              restart the replication channel, the privilege checks are
              applied from that point on. If you do not specify a
              channel and no other channels exist, the statement is
              applied to the default channel.
            </p><p>
              The use of row-based binary logging is strongly
              recommended when <code class="literal">PRIVILEGE_CHECKS_USER</code>
              is set, and you can set
              <code class="literal">REQUIRE_ROW_FORMAT</code> to enforce this. For
              example, to start privilege checks on the channel
              <code class="literal">channel_1</code> on a running replica, issue
              the following statements:
            </p><pre class="programlisting">STOP REPLICA FOR CHANNEL &#39;channel_1&#39;;

CHANGE REPLICATION SOURCE TO
    PRIVILEGE_CHECKS_USER = &#39;<em class="replaceable"><code>user</code></em>&#39;@&#39;<em class="replaceable"><code>host</code></em>&#39;,
    REQUIRE_ROW_FORMAT = 1,
    FOR CHANNEL &#39;channel_1&#39;;

START REPLICA FOR CHANNEL &#39;channel_1&#39;;
</pre></dd><dt><span class="term">
            <code class="literal">RELAY_LOG_FILE =
            &#39;<em class="replaceable"><code>relay_log_file</code></em>&#39;</code> ,
            <code class="literal">RELAY_LOG_POS =
            &#39;<em class="replaceable"><code>relay_log_pos</code></em>&#39;</code>
          </span></dt><dd><p>
              The relay log file name, and the location in that file, at
              which the replication SQL thread begins reading from the
              replica&#39;s relay log the next time the thread starts.
              <code class="literal">RELAY_LOG_FILE</code> can use either an
              absolute or relative path, and uses the same base name as
              <code class="literal">SOURCE_LOG_FILE</code>. The maximum length of
              the string value is 511 characters.
            </p><p>
              A <code class="literal">CHANGE REPLICATION SOURCE TO</code>
              statement using <code class="literal">RELAY_LOG_FILE</code>,
              <code class="literal">RELAY_LOG_POS</code>, or both options can be
              executed on a running replica when the replication SQL
              (applier) thread is stopped. Relay logs are preserved if
              at least one of the replication applier thread and the
              replication I/O (receiver) thread is running. If both
              threads are stopped, all relay log files are deleted
              unless at least one of <code class="literal">RELAY_LOG_FILE</code>
              or <code class="literal">RELAY_LOG_POS</code> is specified. For the
              Group Replication applier channel
              (<code class="literal">group_replication_applier</code>), which only
              has an applier thread and no receiver thread, this is the
              case if the applier thread is stopped, but with that
              channel you cannot use the
              <code class="literal">RELAY_LOG_FILE</code> and
              <code class="literal">RELAY_LOG_POS</code> options.
            </p></dd><dt><span class="term">
            <code class="literal">REQUIRE_ROW_FORMAT = {0|1}</code>
          </span></dt><dd><p>
              Permits only row-based replication events to be processed
              by the replication channel. This option prevents the
              replication applier from taking actions such as creating
              temporary tables and executing <code class="literal">LOAD DATA
              INFILE</code> requests, which increases the security of
              the channel. The <code class="literal">REQUIRE_ROW_FORMAT</code>
              option is disabled by default for asynchronous replication
              channels, but it is enabled by default for Group
              Replication channels, and it cannot be disabled for them.
              For more information, see
              <a class="xref" href="replication-privilege-checks.html" title="17.3.3&nbsp;Replication Privilege Checks">Section&nbsp;17.3.3, &ldquo;Replication Privilege Checks&rdquo;</a>.
              <code class="literal">REQUIRE_ROW_FORMAT</code> is available as of
              MySQL 8.0.19.
            </p></dd><dt><span class="term">
            <code class="literal">REQUIRE_TABLE_PRIMARY_KEY_CHECK = {STREAM | ON |
            OFF | GENERATE}</code>
          </span></dt><dd><p>
              Available as of MySQL 8.0.20, this option lets a replica
              set its own policy for primary key checks, as follows:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  <code class="literal">ON</code>: The replica sets
                  <a class="link" href="server-system-variables.html#sysvar_sql_require_primary_key"><code class="literal">sql_require_primary_key =
                  ON</code></a>; any replicated
                  <a class="link" href="create-table.html" title="13.1.20&nbsp;CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a> or
                  <a class="link" href="alter-table.html" title="13.1.9&nbsp;ALTER TABLE Statement"><code class="literal">ALTER TABLE</code></a> statement
                  must result in a table that contains a primary key.
                </p></li><li class="listitem"><p>
                  <code class="literal">OFF</code>: The replica sets
                  <code class="literal">sql_require_primary_key = OFF</code>; no
                  replicated <code class="literal">CREATE TABLE</code> or
                  <code class="literal">ALTER TABLE</code> statement is checked
                  for the presence of a primary key.
                </p></li><li class="listitem"><p>
                  <code class="literal">STREAM</code>: The replica uses whatever
                  value of <code class="literal">sql_require_primary_key</code> is
                  replicated from the source for each transaction. This
                  is the default value, and the default behavior.
                </p></li><li class="listitem"><p>
                  <code class="literal">GENERATE</code>: Added in MySQL 8.0.32,
                  this causes the replica to generate an invisible
                  primary key for any
                  <a class="link" href="innodb-storage-engine.html" title="Chapter&nbsp;15&nbsp;The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> table that, as
                  replicated, lacks a primary key. See
                  <a class="xref" href="create-table-gipks.html" title="13.1.20.11&nbsp;Generated Invisible Primary Keys">Section&nbsp;13.1.20.11, &ldquo;Generated Invisible Primary Keys&rdquo;</a>, for more
                  information.
                </p><p>
                  <code class="literal">GENERATE</code> is not compatible with
                  Group Replication; you can use <code class="literal">ON</code>,
                  <code class="literal">OFF</code>, or <code class="literal">STREAM</code>.
                </p></li></ul></div><p>
              A divergence based on the presence of a generated
              invisible primary key solely on a source or replica table
              is supported by MySQL Replication as long as the source
              supports GIPKs (MySQL 8.0.30 and later) and the replica
              uses MySQL version 8.0.32 or later. If you use GIPKs on a
              replica and replicate from a source using MySQL 8.0.29 or
              earlier, you should be aware that in this case such
              divergences in schema, other than the extra GIPK on the
              replica, are not supported and may result in replication
              errors.
            </p><p>
              For multisource replication, setting
              <code class="literal">REQUIRE_TABLE_PRIMARY_KEY_CHECK</code> to
              <code class="literal">ON</code> or <code class="literal">OFF</code> lets the
              replica normalize behavior across replication channels for
              different sources, and to keep a consistent setting for
              <a class="link" href="server-system-variables.html#sysvar_sql_require_primary_key"><code class="literal">sql_require_primary_key</code></a>.
              Using <code class="literal">ON</code> safeguards against the
              accidental loss of primary keys when multiple sources
              update the same set of tables. Using
              <code class="literal">OFF</code> lets sources that can manipulate
              primary keys to work alongside sources that cannot.
            </p><p>
              In the case of multiple replicas, when
              <code class="literal">REQUIRE_TABLE_PRIMARY_KEY_CHECK</code> is set
              to <code class="literal">GENERATE</code>, the generated invisible
              primary key added by a given replica is independent of any
              such key added on any other replica. This means that, if
              generated invisible primary keys are in use, the values in
              the generated primary key columns on different replicas
              are not guaranteed to be the same. This may be an issue
              when failing over to such a replica.
            </p><p>
              When <code class="literal">PRIVILEGE_CHECKS_USER</code> is
              <code class="literal">NULL</code> (the default), the user account
              does not need administration level privileges to set
              restricted session variables. Setting this option to a
              value other than <code class="literal">NULL</code> means that, when
              <code class="literal">REQUIRE_TABLE_PRIMARY_KEY_CHECK</code> is
              <code class="literal">ON</code> or <code class="literal">OFF</code>, the user
              account does not require session administration level
              privileges to set restricted session variables such as
              <a class="link" href="server-system-variables.html#sysvar_sql_require_primary_key"><code class="literal">sql_require_primary_key</code></a>,
              avoiding the need to grant the account such privileges.
              (Such privileges are required when
              <code class="literal">PRIVILEGE_CHECKS_USER</code> is
              <code class="literal">STREAM</code> or <code class="literal">GENERATE</code>.)
              For more information, see
              <a class="xref" href="replication-privilege-checks.html" title="17.3.3&nbsp;Replication Privilege Checks">Section&nbsp;17.3.3, &ldquo;Replication Privilege Checks&rdquo;</a>.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_AUTO_POSITION = {0|1}</code>
          </span></dt><dd><p>
              Makes the replica attempt to connect to the source using
              the auto-positioning feature of GTID-based replication,
              rather than a binary log file based position. This option
              is used to start a replica using GTID-based replication.
              The default is 0, meaning that GTID auto-positioning and
              GTID-based replication are not used. This option can be
              used with <code class="literal">CHANGE REPLICATION SOURCE TO</code>
              only if both the replication SQL (applier) thread and
              replication I/O (receiver) thread are stopped.
            </p><p>
              Both the replica and the source must have GTIDs enabled
              (<a class="link" href="replication-options-gtids.html#sysvar_gtid_mode"><code class="literal">GTID_MODE=ON</code></a>,
              <code class="literal">ON_PERMISSIVE,</code> or
              <code class="literal">OFF_PERMISSIVE</code> on the replica, and
              <a class="link" href="replication-options-gtids.html#sysvar_gtid_mode"><code class="literal">GTID_MODE=ON</code></a> on the
              source). <code class="literal">SOURCE_LOG_FILE</code>,
              <code class="literal">SOURCE_LOG_POS</code>,
              <code class="literal">RELAY_LOG_FILE</code>, and
              <code class="literal">RELAY_LOG_POS</code> cannot be specified
              together with <code class="literal">SOURCE_AUTO_POSITION = 1</code>.
              If multi-source replication is enabled on the replica, you
              need to set the <code class="literal">SOURCE_AUTO_POSITION =
              1</code> option for each applicable replication
              channel.
            </p><p>
              With <code class="literal">SOURCE_AUTO_POSITION = 1</code> set, in
              the initial connection handshake, the replica sends a GTID
              set containing the transactions that it has already
              received, committed, or both. The source responds by
              sending all transactions recorded in its binary log whose
              GTID is not included in the GTID set sent by the replica.
              This exchange ensures that the source only sends the
              transactions with a GTID that the replica has not already
              recorded or committed. If the replica receives
              transactions from more than one source, as in the case of
              a diamond topology, the auto-skip function ensures that
              the transactions are not applied twice. For details of how
              the GTID set sent by the replica is computed, see
              <a class="xref" href="replication-gtids-auto-positioning.html" title="17.1.3.3&nbsp;GTID Auto-Positioning">Section&nbsp;17.1.3.3, &ldquo;GTID Auto-Positioning&rdquo;</a>.
            </p><p>
              If any of the transactions that should be sent by the
              source have been purged from the source&#39;s binary log, or
              added to the set of GTIDs in the
              <a class="link" href="replication-options-gtids.html#sysvar_gtid_purged"><code class="literal">gtid_purged</code></a> system
              variable by another method, the source sends the error
              <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_master_has_purged_required_gtids" target="_top"><code class="literal">ER_MASTER_HAS_PURGED_REQUIRED_GTIDS</code></a>
              to the replica, and replication does not start. The GTIDs
              of the missing purged transactions are identified and
              listed in the source&#39;s error log in the warning message
              <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_found_missing_gtids" target="_top"><code class="literal">ER_FOUND_MISSING_GTIDS</code></a>.
              Also, if during the exchange of transactions it is found
              that the replica has recorded or committed transactions
              with the source&#39;s UUID in the GTID, but the source itself
              has not committed them, the source sends the error
              <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_slave_has_more_gtids_than_master" target="_top"><code class="literal">ER_SLAVE_HAS_MORE_GTIDS_THAN_MASTER</code></a>
              to the replica and replication does not start. For
              information on how to handle these situations, see
              <a class="xref" href="replication-gtids-auto-positioning.html" title="17.1.3.3&nbsp;GTID Auto-Positioning">Section&nbsp;17.1.3.3, &ldquo;GTID Auto-Positioning&rdquo;</a>.
            </p><p>
              You can see whether replication is running with GTID
              auto-positioning enabled by checking the Performance
              Schema
              <a class="link" href="performance-schema-replication-connection-status-table.html" title="27.12.11.2&nbsp;The replication_connection_status Table"><code class="literal">replication_connection_status</code></a>
              table or the output of
              <a class="link" href="show-replica-status.html" title="13.7.7.35&nbsp;SHOW REPLICA STATUS Statement"><code class="literal">SHOW
              REPLICA STATUS</code></a>. Disabling the
              <code class="literal">SOURCE_AUTO_POSITION</code> option again makes
              the replica revert to file-based replication.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_BIND =
            &#39;<em class="replaceable"><code>interface_name</code></em>&#39;</code>
          </span></dt><dd><p>
              Determines which of the replica&#39;s network interfaces is
              chosen for connecting to the source, for use on replicas
              that have multiple network interfaces. Specify the IP
              address of the network interface. The maximum length of
              the string value is 255 characters.
            </p><p>
              The IP address configured with this option, if any, can be
              seen in the <code class="literal">Source_Bind</code> column of the
              output from
              <a class="link" href="show-replica-status.html" title="13.7.7.35&nbsp;SHOW REPLICA STATUS Statement"><code class="literal">SHOW
              REPLICA STATUS</code></a>. In the source metadata
              repository table
              <code class="literal">mysql.slave_master_info</code>, the value can
              be seen as the <code class="literal">Source_bind</code> column. The
              ability to bind a replica to a specific network interface
              is also supported by NDB Cluster.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_COMPRESSION_ALGORITHMS =
            &#39;<em class="replaceable"><code>algorithm</code></em>[,<em class="replaceable"><code>algorithm</code></em>][,<em class="replaceable"><code>algorithm</code></em>]&#39;</code>
          </span></dt><dd><p>
              Specifies one, two, or three of the permitted compression
              algorithms for connections to the replication source
              server, separated by commas. The maximum length of the
              string value is 99 characters. The default value is
              <code class="literal">uncompressed</code>.
            </p><p>
              The available algorithms are <code class="literal">zlib</code>,
              <code class="literal">zstd</code>, and
              <code class="literal">uncompressed</code>, the same as for the
              <a class="link" href="server-system-variables.html#sysvar_protocol_compression_algorithms"><code class="literal">protocol_compression_algorithms</code></a>
              system variable. The algorithms can be specified in any
              order, but it is not an order of preference - the
              algorithm negotiation process attempts to use
              <code class="literal">zlib</code>, then <code class="literal">zstd</code>,
              then <code class="literal">uncompressed</code>, if they are
              specified.
              <code class="literal">SOURCE_COMPRESSION_ALGORITHMS</code> is
              available as of MySQL 8.0.18.
            </p><p>
              The value of
              <code class="literal">SOURCE_COMPRESSION_ALGORITHMS</code> applies
              only if the
              <a class="link" href="replication-options-replica.html#sysvar_replica_compressed_protocol"><code class="literal">replica_compressed_protocol</code></a>
              or
              <a class="link" href="replication-options-replica.html#sysvar_slave_compressed_protocol"><code class="literal">slave_compressed_protocol</code></a>
              system variable is disabled. If
              <a class="link" href="replication-options-replica.html#sysvar_replica_compressed_protocol"><code class="literal">replica_compressed_protocol</code></a>
              or
              <a class="link" href="replication-options-replica.html#sysvar_slave_compressed_protocol"><code class="literal">slave_compressed_protocol</code></a>
              is enabled, it takes precedence over
              <code class="literal">SOURCE_COMPRESSION_ALGORITHMS</code> and
              connections to the source use <code class="literal">zlib</code>
              compression if both source and replica support that
              algorithm. For more information, see
              <a class="xref" href="connection-compression-control.html" title="4.2.8&nbsp;Connection Compression Control">Section&nbsp;4.2.8, &ldquo;Connection Compression Control&rdquo;</a>.
            </p><p>
              Binary log transaction compression (available as of MySQL
              8.0.20), which is activated by the
              <a class="link" href="replication-options-binary-log.html#sysvar_binlog_transaction_compression"><code class="literal">binlog_transaction_compression</code></a>
              system variable, can also be used to save bandwidth. If
              you do this in combination with connection compression,
              connection compression has less opportunity to act on the
              data, but can still compress headers and those events and
              transaction payloads that are uncompressed. For more
              information on binary log transaction compression, see
              <a class="xref" href="binary-log-transaction-compression.html" title="5.4.4.5&nbsp;Binary Log Transaction Compression">Section&nbsp;5.4.4.5, &ldquo;Binary Log Transaction Compression&rdquo;</a>.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_CONNECT_RETRY =
            <em class="replaceable"><code>interval</code></em></code>
          </span></dt><dd><p>
              Specifies the interval in seconds between the reconnection
              attempts that the replica makes after the connection to
              the source times out. The default interval is 60.
            </p><p>
              The number of attempts is limited by the
              <code class="literal">SOURCE_RETRY_COUNT</code> option. If both the
              default settings are used, the replica waits 60 seconds
              between reconnection attempts
              (<code class="literal">SOURCE_CONNECT_RETRY=60</code>), and keeps
              attempting to reconnect at this rate for 60 days
              (<code class="literal">SOURCE_RETRY_COUNT=86400</code>). These
              values are recorded in the source metadata repository and
              shown in the
              <a class="link" href="performance-schema-replication-connection-configuration-table.html" title="27.12.11.1&nbsp;The replication_connection_configuration Table"><code class="literal">replication_connection_configuration</code></a>
              Performance Schema table.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_CONNECTION_AUTO_FAILOVER = {0|1}</code>
          </span></dt><dd><p>
              Activates the asynchronous connection failover mechanism
              for a replication channel if one or more alternative
              replication source servers are available (so when there
              are multiple MySQL servers or groups of servers that share
              the replicated data).
              <code class="literal">SOURCE_CONNECTION_AUTO_FAILOVER</code> is
              available as of MySQL 8.0.22. The default is 0, meaning
              that the mechanism is not activated. For full information
              and instructions to set up this feature, see
              <a class="xref" href="replication-asynchronous-connection-failover-replica.html" title="17.4.9.2&nbsp;Asynchronous Connection Failover for Replicas">Section&nbsp;17.4.9.2, &ldquo;Asynchronous Connection Failover for Replicas&rdquo;</a>.
            </p><p>
              The asynchronous connection failover mechanism takes over
              after the reconnection attempts controlled by
              <code class="literal">SOURCE_CONNECT_RETRY</code> and
              <code class="literal">SOURCE_RETRY_COUNT</code> are exhausted. It
              reconnects the replica to an alternative source chosen
              from a specified source list, which you manage using the
              <a class="link" href="replication-functions-source-list.html#function_asynchronous-connection-failover-add-source"><code class="literal">asynchronous_connection_failover_add_source</code></a>
              and
              <a class="link" href="replication-functions-source-list.html#function_asynchronous-connection-failover-delete-source"><code class="literal">asynchronous_connection_failover_delete_source</code></a>
              functions. To add and remove managed groups of servers,
              use the
              <a class="link" href="replication-functions-source-list.html#function_asynchronous-connection-failover-add-managed"><code class="literal">asynchronous_connection_failover_add_managed</code></a>
              and
              <a class="link" href="replication-functions-source-list.html#function_asynchronous-connection-failover-delete-managed"><code class="literal">asynchronous_connection_failover_delete_managed</code></a>
              functions instead. For more information, see
              <a class="xref" href="replication-asynchronous-connection-failover.html" title="17.4.9&nbsp;Switching Sources and Replicas with Asynchronous Connection Failover">Section&nbsp;17.4.9, &ldquo;Switching Sources and Replicas with Asynchronous Connection Failover&rdquo;</a>.
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                    You can only set
                    <code class="literal">SOURCE_CONNECTION_AUTO_FAILOVER =
                    1</code> when GTID auto-positioning is in use
                    (<code class="literal">SOURCE_AUTO_POSITION = 1</code>).
                  </p></li><li class="listitem"><p>
                    When you set
                    <code class="literal">SOURCE_CONNECTION_AUTO_FAILOVER =
                    1</code>, set
                    <code class="literal">SOURCE_RETRY_COUNT</code> and
                    <code class="literal">SOURCE_CONNECT_RETRY</code> to minimal
                    numbers that just allow a few retry attempts with
                    the same source, in case the connection failure is
                    caused by a transient network outage. Otherwise the
                    asynchronous connection failover mechanism cannot be
                    activated promptly. Suitable values are
                    <code class="literal">SOURCE_RETRY_COUNT=3</code> and
                    <code class="literal">SOURCE_CONNECT_RETRY=10</code>, which
                    make the replica retry the connection 3 times with
                    10-second intervals between.
                  </p></li><li class="listitem"><p>
                    When you set
                    <code class="literal">SOURCE_CONNECTION_AUTO_FAILOVER =
                    1</code>, the replication metadata repositories
                    must contain the credentials for a replication user
                    account that can be used to connect to all the
                    servers on the source list for the replication
                    channel. The account must also have
                    <code class="literal">SELECT</code> permissions on the
                    Performance Schema tables. These credentials can be
                    set using the <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE
                    REPLICATION SOURCE TO</code></a> statement with the
                    <code class="literal">SOURCE_USER</code> and
                    <code class="literal">SOURCE_PASSWORD</code> options. For more
                    information, see
                    <a class="xref" href="replication-asynchronous-connection-failover.html" title="17.4.9&nbsp;Switching Sources and Replicas with Asynchronous Connection Failover">Section&nbsp;17.4.9, &ldquo;Switching Sources and Replicas with Asynchronous Connection Failover&rdquo;</a>.
                  </p></li><li class="listitem"><p>
                    From MySQL 8.0.27, when you set
                    <code class="literal">SOURCE_CONNECTION_AUTO_FAILOVER =
                    1</code>, asynchronous connection failover for
                    replicas is automatically activated if this
                    replication channel is on a Group Replication
                    primary in a group in single-primary mode. With this
                    function active, if the primary that is replicating
                    goes offline or into an error state, the new primary
                    starts replication on the same channel when it is
                    elected. If you want to use the function, this
                    replication channel must also be set up on all the
                    secondary servers in the replication group, and on
                    any new joining members. (If the servers are
                    provisioned using MySQL&rsquo;s clone functionality,
                    this all happens automatically.) If you do not want
                    to use the function, disable it by using the
                    <a class="link" href="group-replication-functions-for-member-actions.html#function_group-replication-disable-member-action"><code class="literal">group_replication_disable_member_action</code></a>
                    function to disable the Group Replication member
                    action
                    <code class="literal">mysql_start_failover_channels_if_primary</code>,
                    which is enabled by default. For more information,
                    see
                    <a class="xref" href="replication-asynchronous-connection-failover-replica.html" title="17.4.9.2&nbsp;Asynchronous Connection Failover for Replicas">Section&nbsp;17.4.9.2, &ldquo;Asynchronous Connection Failover for Replicas&rdquo;</a>.
                  </p></li></ol></div></div></dd><dt><span class="term">
            <code class="literal">SOURCE_DELAY =
            <em class="replaceable"><code>interval</code></em></code>
          </span></dt><dd><p>
              Specifies how many seconds behind the source the replica
              must lag. An event received from the source is not
              executed until at least
              <em class="replaceable"><code>interval</code></em> seconds later than its
              execution on the source.
              <em class="replaceable"><code>interval</code></em> must be a nonnegative
              integer in the range from 0 to
              2<sup>31</sup>&minus;1. The default is 0.
              For more information, see
              <a class="xref" href="replication-delayed.html" title="17.4.11&nbsp;Delayed Replication">Section&nbsp;17.4.11, &ldquo;Delayed Replication&rdquo;</a>.
            </p><p>
              A <code class="literal">CHANGE REPLICATION SOURCE TO</code>
              statement using the <code class="literal">SOURCE_DELAY</code> option
              can be executed on a running replica when the replication
              SQL thread is stopped.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_HEARTBEAT_PERIOD =
            <em class="replaceable"><code>interval</code></em></code>
          </span></dt><dd><p>
              Controls the heartbeat interval, which stops the
              connection timeout occurring in the absence of data if the
              connection is still good. A heartbeat signal is sent to
              the replica after that number of seconds, and the waiting
              period is reset whenever the source&#39;s binary log is
              updated with an event. Heartbeats are therefore sent by
              the source only if there are no unsent events in the
              binary log file for a period longer than this.
            </p><p>
              The heartbeat interval <em class="replaceable"><code>interval</code></em>
              is a decimal value having the range 0 to 4294967 seconds
              and a resolution in milliseconds; the smallest nonzero
              value is 0.001. Setting
              <em class="replaceable"><code>interval</code></em> to 0 disables
              heartbeats altogether. The heartbeat interval defaults to
              half the value of the
              <a class="link" href="replication-options-replica.html#sysvar_replica_net_timeout"><code class="literal">replica_net_timeout</code></a> or
              <a class="link" href="replication-options-replica.html#sysvar_slave_net_timeout"><code class="literal">slave_net_timeout</code></a> system
              variable. It is recorded in the source metadata repository
              and shown in the
              <a class="link" href="performance-schema-replication-connection-configuration-table.html" title="27.12.11.1&nbsp;The replication_connection_configuration Table"><code class="literal">replication_connection_configuration</code></a>
              Performance Schema table.
            </p><p>
              The system variable
              <a class="link" href="replication-options-replica.html#sysvar_replica_net_timeout"><code class="literal">replica_net_timeout</code></a> (from
              MySQL 8.0.26) or
              <a class="link" href="replication-options-replica.html#sysvar_slave_net_timeout"><code class="literal">slave_net_timeout</code></a> (before
              MySQL 8.0.26) specifies the number of seconds that the
              replica waits for either more data or a heartbeat signal
              from the source, before the replica considers the
              connection broken, aborts the read, and tries to
              reconnect. The default value is 60 seconds (one minute).
              Note that a change to the value or default setting of
              <a class="link" href="replication-options-replica.html#sysvar_replica_net_timeout"><code class="literal">replica_net_timeout</code></a> or
              <a class="link" href="replication-options-replica.html#sysvar_slave_net_timeout"><code class="literal">slave_net_timeout</code></a> does
              not automatically change the heartbeat interval, whether
              that has been set explicitly or is using a previously
              calculated default. A warning is issued if you set the
              global value of
              <a class="link" href="replication-options-replica.html#sysvar_replica_net_timeout"><code class="literal">replica_net_timeout</code></a> or
              <code class="literal">slave_net_timeout</code> to a value less than
              that of the current heartbeat interval. If
              <a class="link" href="replication-options-replica.html#sysvar_replica_net_timeout"><code class="literal">replica_net_timeout</code></a> or
              <a class="link" href="replication-options-replica.html#sysvar_slave_net_timeout"><code class="literal">slave_net_timeout</code></a> is
              changed, you must also issue <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE
              REPLICATION SOURCE TO</code></a> to adjust the heartbeat
              interval to an appropriate value so that the heartbeat
              signal occurs before the connection timeout. If you do not
              do this, the heartbeat signal has no effect, and if no
              data is received from the source, the replica can make
              repeated reconnection attempts, creating zombie dump
              threads.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_HOST =
            &#39;<em class="replaceable"><code>host_name</code></em>&#39;</code>
          </span></dt><dd><p>
              The host name or IP address of the replication source
              server. The replica uses this to connect to the source.
              The maximum length of the string value is 255 characters.
            </p><p>
              If you specify <code class="literal">SOURCE_HOST</code> or
              <code class="literal">SOURCE_PORT</code>, the replica assumes that
              the source server is different from before (even if the
              option value is the same as its current value.) In this
              case, the old values for the source&#39;s binary log file name
              and position are considered no longer applicable, so if
              you do not specify <code class="literal">SOURCE_LOG_FILE</code> and
              <code class="literal">SOURCE_LOG_POS</code> in the statement,
              <code class="literal">SOURCE_LOG_FILE=&#39;&#39;</code> and
              <code class="literal">SOURCE_LOG_POS=4</code> are silently appended
              to it.
            </p><p>
              Setting <code class="literal">SOURCE_HOST=&#39;&#39;</code> (that is,
              setting its value explicitly to an empty string) is
              <span class="emphasis"><em>not</em></span> the same as not setting
              <code class="literal">SOURCE_HOST</code> at all. Trying to set
              <code class="literal">SOURCE_HOST</code> to an empty string fails
              with an error.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_LOG_FILE =
            &#39;<em class="replaceable"><code>source_log_name</code></em>&#39;</code>,
            <code class="literal">SOURCE_LOG_POS =
            <em class="replaceable"><code>source_log_pos</code></em></code>
          </span></dt><dd><p>
              The binary log file name, and the location in that file,
              at which the replication I/O (receiver) thread begins
              reading from the source&#39;s binary log the next time the
              thread starts. Specify these options if you are using
              binary log file position based replication.
            </p><p>
              <code class="literal">SOURCE_LOG_FILE</code> must include the
              numeric suffix of a specific binary log file that is
              available on the source server, for example,
              <code class="literal">SOURCE_LOG_FILE=&#39;binlog.000145&#39;</code>. The
              maximum length of the string value is 511 characters.
            </p><p>
              <code class="literal">SOURCE_LOG_POS</code> is the numeric position
              for the replica to start reading in that file.
              <code class="literal">SOURCE_LOG_POS=4</code> represents the start
              of the events in a binary log file.
            </p><p>
              If you specify either of
              <code class="literal">SOURCE_LOG_FILE</code> or
              <code class="literal">SOURCE_LOG_POS</code>, you cannot specify
              <code class="literal">SOURCE_AUTO_POSITION = 1</code>, which is for
              GTID-based replication.
            </p><p>
              If neither of <code class="literal">SOURCE_LOG_FILE</code> or
              <code class="literal">SOURCE_LOG_POS</code> is specified, the
              replica uses the last coordinates of the
              <span class="emphasis"><em>replication SQL thread</em></span> before
              <code class="literal">CHANGE REPLICATION SOURCE TO</code> was
              issued. This ensures that there is no discontinuity in
              replication, even if the replication SQL (applier) thread
              was late compared to the replication I/O (receiver)
              thread.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_PASSWORD =
            &#39;<em class="replaceable"><code>password</code></em>&#39;</code>
          </span></dt><dd><p>
              The password for the replication user account to use for
              connecting to the replication source server. The maximum
              length of the string value is 32 characters. If you
              specify <code class="literal">SOURCE_PASSWORD</code>,
              <code class="literal">SOURCE_USER</code> is also required.
            </p><p>
              The password used for a replication user account in a
              <code class="literal">CHANGE REPLICATION SOURCE TO</code> statement
              is limited to 32 characters in length. Trying to use a
              password of more than 32 characters causes <code class="literal">CHANGE
              REPLICATION SOURCE TO</code> to fail.
            </p><p>
              The password is masked in MySQL Server&rsquo;s logs,
              Performance Schema tables, and <a class="link" href="show-processlist.html" title="13.7.7.29&nbsp;SHOW PROCESSLIST Statement"><code class="literal">SHOW
              PROCESSLIST</code></a> statements.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_PORT =
            <em class="replaceable"><code>port_num</code></em></code>
          </span></dt><dd><p>
              The TCP/IP port number that the replica uses to connect to
              the replication source server.
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
                Replication cannot use Unix socket files. You must be
                able to connect to the replication source server using
                TCP/IP.
              </p></div><p>
              If you specify <code class="literal">SOURCE_HOST</code> or
              <code class="literal">SOURCE_PORT</code>, the replica assumes that
              the source server is different from before (even if the
              option value is the same as its current value.) In this
              case, the old values for the source&#39;s binary log file name
              and position are considered no longer applicable, so if
              you do not specify <code class="literal">SOURCE_LOG_FILE</code> and
              <code class="literal">SOURCE_LOG_POS</code> in the statement,
              <code class="literal">SOURCE_LOG_FILE=&#39;&#39;</code> and
              <code class="literal">SOURCE_LOG_POS=4</code> are silently appended
              to it.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_PUBLIC_KEY_PATH =
            &#39;<em class="replaceable"><code>key_file_name</code></em>&#39;</code>
          </span></dt><dd><p>
              Enables RSA key pair-based password exchange by providing
              the path name to a file containing a replica-side copy of
              the public key required by the source. The file must be in
              PEM format. The maximum length of the string value is 511
              characters.
            </p><p>
              This option applies to replicas that authenticate with the
              <code class="literal">sha256_password</code> or
              <code class="literal">caching_sha2_password</code> authentication
              plugin. (For <code class="literal">sha256_password</code>,
              <code class="literal">SOURCE_PUBLIC_KEY_PATH</code> can be used only
              if MySQL was built using OpenSSL.) If you are using a
              replication user account that authenticates with the
              <code class="literal">caching_sha2_password</code> plugin (which is
              the default from MySQL 8.0), and you are not using a
              secure connection, you must specify either this option or
              the <code class="literal">GET_SOURCE_PUBLIC_KEY=1</code> option to
              provide the RSA public key to the replica.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_RETRY_COUNT =
            <em class="replaceable"><code>count</code></em></code>
          </span></dt><dd><p>
              Sets the maximum number of reconnection attempts that the
              replica makes after the connection to the source times
              out, as determined by the
              <a class="link" href="replication-options-replica.html#sysvar_replica_net_timeout"><code class="literal">replica_net_timeout</code></a> or
              <a class="link" href="replication-options-replica.html#sysvar_slave_net_timeout"><code class="literal">slave_net_timeout</code></a> system
              variable. If the replica does need to reconnect, the first
              retry occurs immediately after the timeout. The default is
              86400 attempts.
            </p><p>
              The interval between the attempts is specified by the
              <code class="literal">SOURCE_CONNECT_RETRY</code> option. If both
              the default settings are used, the replica waits 60
              seconds between reconnection attempts
              (<code class="literal">SOURCE_CONNECT_RETRY=60</code>), and keeps
              attempting to reconnect at this rate for 60 days
              (<code class="literal">SOURCE_RETRY_COUNT=86400</code>). A setting
              of 0 for <code class="literal">SOURCE_RETRY_COUNT</code> means that
              there is no limit on the number of reconnection attempts,
              so the replica keeps trying to reconnect indefinitely.
            </p><p>
              The values for <code class="literal">SOURCE_CONNECT_RETRY</code> and
              <code class="literal">SOURCE_RETRY_COUNT</code> are recorded in the
              source metadata repository and shown in the
              <a class="link" href="performance-schema-replication-connection-configuration-table.html" title="27.12.11.1&nbsp;The replication_connection_configuration Table"><code class="literal">replication_connection_configuration</code></a>
              Performance Schema table.
              <code class="literal">SOURCE_RETRY_COUNT</code> supersedes the
              <a class="link" href="replication-options-replica.html#option_mysqld_master-retry-count"><code class="option">--master-retry-count</code></a> server
              startup option.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_SSL = {0|1}</code>
          </span></dt><dd><p>
              Specify whether the replica encrypts the replication
              connection. The default is 0, meaning that the replica
              does not encrypt the replication connection. If you set
              <code class="literal">SOURCE_SSL=1</code>, you can configure the
              encryption using the
              <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>
              and
              <code class="literal">SOURCE_TLS_<em class="replaceable"><code>xxx</code></em></code>
              options.
            </p><p>
              Setting <code class="literal">SOURCE_SSL=1</code> for a replication
              connection and then setting no further
              <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>
              options corresponds to setting
              <code class="literal">--ssl-mode=REQUIRED</code> for the client, as
              described in
              <a class="xref" href="connection-options.html#encrypted-connection-options" title="Command Options for Encrypted Connections">Command Options for Encrypted Connections</a>.
              With <code class="literal">SOURCE_SSL=1</code>, the connection
              attempt only succeeds if an encrypted connection can be
              established. A replication connection does not fall back
              to an unencrypted connection, so there is no setting
              corresponding to the
              <code class="literal">--ssl-mode=PREFERRED</code> setting for
              replication. If <code class="literal">SOURCE_SSL=0</code> is set,
              this corresponds to
              <code class="literal">--ssl-mode=DISABLED</code>.
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
                To help prevent sophisticated man-in-the-middle attacks,
                it is important for the replica to verify the server&rsquo;s
                identity. You can specify additional
                <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>
                options to correspond to the settings
                <code class="literal">--ssl-mode=VERIFY_CA</code> and
                <code class="literal">--ssl-mode=VERIFY_IDENTITY</code>, which are
                a better choice than the default setting to help prevent
                this type of attack. With these settings, the replica
                checks that the server&rsquo;s certificate is valid, and
                checks that the host name the replica is using matches
                the identity in the server&rsquo;s certificate. To implement
                one of these levels of verification, you must first
                ensure that the CA certificate for the server is
                reliably available to the replica, otherwise
                availability issues will result. For this reason, they
                are not the default setting.
              </p></div></dd><dt><span class="term">
            <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>,
            <code class="literal">SOURCE_TLS_<em class="replaceable"><code>xxx</code></em></code>
          </span></dt><dd><p>
              Specify how the replica uses encryption and ciphers to
              secure the replication connection. These options can be
              changed even on replicas that are compiled without SSL
              support. They are saved to the source metadata repository,
              but are ignored if the replica does not have SSL support
              enabled. The maximum length of the value for the
              string-valued
              <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>
              and
              <code class="literal">SOURCE_TLS_<em class="replaceable"><code>xxx</code></em></code>
              options is 511 characters, with the exception of
              <code class="literal">SOURCE_TLS_CIPHERSUITES</code>, for which it
              is 4000 characters.
            </p><p>
              The
              <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>
              and
              <code class="literal">SOURCE_TLS_<em class="replaceable"><code>xxx</code></em></code>
              options perform the same functions as the
              <code class="literal">--ssl-<em class="replaceable"><code>xxx</code></em></code>
              and
              <code class="literal">--tls-<em class="replaceable"><code>xxx</code></em></code>
              client options described in
              <a class="xref" href="connection-options.html#encrypted-connection-options" title="Command Options for Encrypted Connections">Command Options for Encrypted Connections</a>.
              The correspondence between the two sets of options, and
              the use of the
              <code class="literal">SOURCE_SSL_<em class="replaceable"><code>xxx</code></em></code>
              and
              <code class="literal">SOURCE_TLS_<em class="replaceable"><code>xxx</code></em></code>
              options to set up a secure connection, is explained in
              <a class="xref" href="replication-encrypted-connections.html" title="17.3.1&nbsp;Setting Up Replication to Use Encrypted Connections">Section&nbsp;17.3.1, &ldquo;Setting Up Replication to Use Encrypted Connections&rdquo;</a>.
            </p></dd><dt><span class="term">
            <code class="literal">SOURCE_USER =
            &#39;<em class="replaceable"><code>user_name</code></em>&#39;</code>
          </span></dt><dd><p>
              The user name for the replication user account to use for
              connecting to the replication source server. The maximum
              length of the string value is 96 characters.
            </p><p>
              For Group Replication, this account must exist on every
              member of the replication group. It is used for
              distributed recovery if the XCom communication stack is in
              use for the group, and also used for group communication
              connections if the MySQL communication stack is in use for
              the group. With the MySQL communication stack, the account
              must have the
              <a class="link" href="privileges-provided.html#priv_group-replication-stream"><code class="literal">GROUP_REPLICATION_STREAM</code></a>
              permission.
            </p><p>
              It is possible to set an empty user name by specifying
              <code class="literal">SOURCE_USER=&#39;&#39;</code>, but the replication
              channel cannot be started with an empty user name. In
              releases before MySQL 8.0.21, only set an empty
              <code class="literal">SOURCE_USER</code> user name if you need to
              clear previously used credentials from the replication
              metadata repositories for security purposes. Do not use
              the channel afterwards, due to a bug in these releases
              that can substitute a default user name if an empty user
              name is read from the repositories (for example, during an
              automatic restart of a Group Replication channel). From
              MySQL 8.0.21, it is valid to set an empty
              <code class="literal">SOURCE_USER</code> user name and use the
              channel afterwards if you always provide user credentials
              using the
              <a class="link" href="start-replica.html" title="13.4.2.8&nbsp;START REPLICA Statement"><code class="literal">START
              REPLICA</code></a> statement or <a class="link" href="start-group-replication.html" title="13.4.3.1&nbsp;START GROUP_REPLICATION Statement"><code class="literal">START
              GROUP_REPLICATION</code></a> statement that starts the
              replication channel. This approach means that the
              replication channel always needs operator intervention to
              restart, but the user credentials are not recorded in the
              replication metadata repositories.
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
                To connect to the source using a replication user
                account that authenticates with the
                <code class="literal">caching_sha2_password</code> plugin, you
                must either set up a secure connection as described in
                <a class="xref" href="replication-encrypted-connections.html" title="17.3.1&nbsp;Setting Up Replication to Use Encrypted Connections">Section&nbsp;17.3.1, &ldquo;Setting Up Replication to Use Encrypted Connections&rdquo;</a>, or
                enable the unencrypted connection to support password
                exchange using an RSA key pair. The
                <code class="literal">caching_sha2_password</code> authentication
                plugin is the default for new users created from MySQL
                8.0 (for details, see
                <a class="xref" href="caching-sha2-pluggable-authentication.html" title="6.4.1.2&nbsp;Caching SHA-2 Pluggable Authentication">Section&nbsp;6.4.1.2, &ldquo;Caching SHA-2 Pluggable Authentication&rdquo;</a>).
                If the user account that you create or use for
                replication uses this authentication plugin, and you are
                not using a secure connection, you must enable RSA key
                pair-based password exchange for a successful
                connection. You can do this using either the
                <code class="literal">SOURCE_PUBLIC_KEY_PATH</code> option or the
                <code class="literal">GET_SOURCE_PUBLIC_KEY=1</code> option for
                this statement.
              </p></div></dd><dt><span class="term">
            <code class="literal">SOURCE_ZSTD_COMPRESSION_LEVEL =
            <em class="replaceable"><code>level</code></em></code>
          </span></dt><dd><p>
              The compression level to use for connections to the
              replication source server that use the
              <code class="literal">zstd</code> compression algorithm.
              <code class="literal">SOURCE_ZSTD_COMPRESSION_LEVEL</code> is
              available as of MySQL 8.0.18. The permitted levels are
              from 1 to 22, with larger values indicating increasing
              levels of compression. The default level is 3.
            </p><p>
              The compression level setting has no effect on connections
              that do not use <code class="literal">zstd</code> compression. For
              more information, see
              <a class="xref" href="connection-compression-control.html" title="4.2.8&nbsp;Connection Compression Control">Section&nbsp;4.2.8, &ldquo;Connection Compression Control&rdquo;</a>.
            </p></dd></dl></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a id="idm45828903001584"></a>Examples</h5></div></div></div><p>
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE
          TO</code></a> is useful for setting up a replica when you have
          the snapshot of the source and have recorded the source&#39;s
          binary log coordinates corresponding to the time of the
          snapshot. After loading the snapshot into the replica to
          synchronize it with the source, you can run <code class="literal">CHANGE
          REPLICATION SOURCE TO
          SOURCE_LOG_FILE=&#39;<em class="replaceable"><code>log_name</code></em>&#39;,
          SOURCE_LOG_POS=<em class="replaceable"><code>log_pos</code></em></code> on
          the replica to specify the coordinates at which the replica
          should begin reading the source&#39;s binary log. The following
          example changes the source server the replica uses and
          establishes the source&#39;s binary log coordinates from which the
          replica begins reading:
        </p><pre class="programlisting">CHANGE REPLICATION SOURCE TO
  SOURCE_HOST=&#39;source2.example.com&#39;,
  SOURCE_USER=&#39;replication&#39;,
  SOURCE_PASSWORD=&#39;<em class="replaceable"><code>password</code></em>&#39;,
  SOURCE_PORT=3306,
  SOURCE_LOG_FILE=&#39;source2-bin.001&#39;,
  SOURCE_LOG_POS=4,
  SOURCE_CONNECT_RETRY=10;
</pre><p>
          For the procedure to switch an existing replica to a new
          source during failover, see
          <a class="xref" href="replication-solutions-switch.html" title="17.4.8&nbsp;Switching Sources During Failover">Section&nbsp;17.4.8, &ldquo;Switching Sources During Failover&rdquo;</a>.
        </p><p>
          When GTIDs are in use on the source and the replica, specify
          GTID auto-positioning instead of giving the binary log file
          position, as in the following example. For full instructions
          to configure and start GTID-based replication on new or
          stopped servers, online servers, or additional replicas, see
          <a class="xref" href="replication-gtids.html" title="17.1.3&nbsp;Replication with Global Transaction Identifiers">Section&nbsp;17.1.3, &ldquo;Replication with Global Transaction Identifiers&rdquo;</a>.
        </p><pre class="programlisting">CHANGE REPLICATION SOURCE TO
  SOURCE_HOST=&#39;source3.example.com&#39;,
  SOURCE_USER=&#39;replication&#39;,
  SOURCE_PASSWORD=&#39;<em class="replaceable"><code>password</code></em>&#39;,
  SOURCE_PORT=3306,
  SOURCE_AUTO_POSITION = 1,
  FOR CHANNEL &#34;source_3&#34;;
</pre><p>
          In this example, multi-source replication is in use, and the
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
          statement is applied to the replication channel
          <code class="literal">&#34;source_3&#34;</code> that connects the replica to the
          specified host. For guidance on setting up multi-source
          replication, see <a class="xref" href="replication-multi-source.html" title="17.1.5&nbsp;MySQL Multi-Source Replication">Section&nbsp;17.1.5, &ldquo;MySQL Multi-Source Replication&rdquo;</a>.
        </p><p>
          The next example shows how to make the replica apply
          transactions from relay log files that you want to repeat. To
          do this, the source need not be reachable. You can use
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a> to
          locate the relay log position where you want the replica to
          start reapplying transactions, and then start the SQL thread:
        </p><pre class="programlisting">CHANGE REPLICATION SOURCE TO
  RELAY_LOG_FILE=&#39;replica-relay-bin.006&#39;,
  RELAY_LOG_POS=4025;
START REPLICA SQL_THREAD;
</pre><p>
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a>
          can also be used to skip over transactions in the binary log
          that are causing replication to stop. The appropriate method
          to do this depends on whether GTIDs are in use or not. For
          instructions to skip transactions using
          <a class="link" href="change-replication-source-to.html" title="13.4.2.3&nbsp;CHANGE REPLICATION SOURCE TO Statement"><code class="literal">CHANGE REPLICATION SOURCE TO</code></a> or
          another method, see
          <a class="xref" href="replication-administration-skip.html" title="17.1.7.3&nbsp;Skipping Transactions">Section&nbsp;17.1.7.3, &ldquo;Skipping Transactions&rdquo;</a>.
        </p></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="change-replication-filter.html">Previous <span class="navHint"> CHANGE REPLICATION FILTER Statement </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="replication-statements-replica.html">Up <span class="navHint"> SQL Statements for Controlling Replica Servers </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="master-pos-wait.html">Next <span class="navHint"> MASTER_POS_WAIT() Statement </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>