<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-23"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/12.19.1%C2%A0Aggregate%20Function%20Descriptions"></a><title>12.19.1&nbsp;Aggregate Function Descriptions</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="aggregate-functions-and-modifiers.html" title="12.19&nbsp;Aggregate Functions"/><link rel="prev" href="aggregate-functions-and-modifiers.html" title="12.19&nbsp;Aggregate Functions"/><link rel="next" href="group-by-modifiers.html" title="12.19.2&nbsp;GROUP BY Modifiers"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="aggregate-functions.html#aggregate-functions">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="aggregate-functions-and-modifiers.html">Previous <span class="navHint"> Aggregate Functions </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="aggregate-functions-and-modifiers.html">Up <span class="navHint"> Aggregate Functions </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="group-by-modifiers.html">Next <span class="navHint"> GROUP BY Modifiers </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="aggregate-functions"></a>12.19.1&nbsp;Aggregate Function Descriptions</h3></div></div></div><a id="idm45828920133280" class="indexterm"></a><a id="idm45828920132240" class="indexterm"></a><a id="idm45828920130752" class="indexterm"></a><a id="idm45828920129680" class="indexterm"></a><a id="idm45828920128192" class="indexterm"></a><p>
        This section describes aggregate functions that operate on sets
        of values. They are often used with a <code class="literal">GROUP
        BY</code> clause to group values into subsets.
      </p><div class="table"><a id="idm45828920125424"></a><p class="title"><strong>Table&nbsp;12.25&nbsp;Aggregate Functions</strong></p><div class="table-contents"><table frame="box" rules="all" summary="A reference that lists aggregate functions."><colgroup><col style="width: 28%"/><col style="width: 71%"/></colgroup><thead><tr><th>Name</th>
<th>Description</th>
</tr></thead><tbody><tr><td><a class="link" href="aggregate-functions.html#function_avg"><code class="literal">AVG()</code></a></td>
<td>
      Return the average value of the argument
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a></td>
<td>
      Return bitwise AND
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a></td>
<td>
      Return bitwise OR
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a></td>
<td>
      Return bitwise XOR
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT()</code></a></td>
<td>
      Return a count of the number of rows returned
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_count-distinct"><code class="literal">COUNT(DISTINCT)</code></a></td>
<td>
      Return the count of a number of different values
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a></td>
<td>
      Return a concatenated string
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG()</code></a></td>
<td>
      Return result set as a single JSON array
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG()</code></a></td>
<td>
      Return result set as a single JSON object
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_max"><code class="literal">MAX()</code></a></td>
<td>
      Return the maximum value
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_min"><code class="literal">MIN()</code></a></td>
<td>
      Return the minimum value
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_std"><code class="literal">STD()</code></a></td>
<td>
      Return the population standard deviation
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_stddev"><code class="literal">STDDEV()</code></a></td>
<td>
      Return the population standard deviation
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a></td>
<td>
      Return the population standard deviation
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a></td>
<td>
      Return the sample standard deviation
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a></td>
<td>
      Return the sum
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a></td>
<td>
      Return the population standard variance
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a></td>
<td>
      Return the sample variance
    </td>
</tr><tr><td><a class="link" href="aggregate-functions.html#function_variance"><code class="literal">VARIANCE()</code></a></td>
<td>
      Return the population standard variance
    </td>
</tr></tbody></table></div></div><br class="table-break"/><p>
        Unless otherwise stated, aggregate functions ignore
        <code class="literal">NULL</code> values.
      </p><p>
        If you use an aggregate function in a statement containing no
        <code class="literal">GROUP BY</code> clause, it is equivalent to grouping
        on all rows. For more information, see
        <a class="xref" href="group-by-handling.html" title="12.19.3&nbsp;MySQL Handling of GROUP BY">Section&nbsp;12.19.3, &ldquo;MySQL Handling of GROUP BY&rdquo;</a>.
      </p><p>
        Most aggregate functions can be used as window functions. Those
        that can be used this way are signified in their syntax
        description by
        <code class="literal">[<em class="replaceable"><code>over_clause</code></em>]</code>,
        representing an optional <code class="literal">OVER</code> clause.
        <em class="replaceable"><code>over_clause</code></em> is described in
        <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>, which also includes
        other information about window function usage.
      </p><p>
        For numeric arguments, the variance and standard deviation
        functions return a <a class="link" href="floating-point-types.html" title="11.1.4&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> value.
        The <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a> and
        <a class="link" href="aggregate-functions.html#function_avg"><code class="literal">AVG()</code></a> functions return a
        <a class="link" href="fixed-point-types.html" title="11.1.3&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> value for exact-value
        arguments (integer or <a class="link" href="fixed-point-types.html" title="11.1.3&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a>),
        and a <a class="link" href="floating-point-types.html" title="11.1.4&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> value for
        approximate-value arguments
        (<a class="link" href="floating-point-types.html" title="11.1.4&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a> or
        <a class="link" href="floating-point-types.html" title="11.1.4&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a>).
      </p><p>
        The <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a> and
        <a class="link" href="aggregate-functions.html#function_avg"><code class="literal">AVG()</code></a> aggregate functions do not
        work with temporal values. (They convert the values to numbers,
        losing everything after the first nonnumeric character.) To work
        around this problem, convert to numeric units, perform the
        aggregate operation, and convert back to a temporal value.
        Examples:
      </p><pre class="programlisting">SELECT SEC_TO_TIME(SUM(TIME_TO_SEC(<em class="replaceable"><code>time_col</code></em>))) FROM <em class="replaceable"><code>tbl_name</code></em>;
SELECT FROM_DAYS(SUM(TO_DAYS(<em class="replaceable"><code>date_col</code></em>))) FROM <em class="replaceable"><code>tbl_name</code></em>;
</pre><p>
        Functions such as <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a> or
        <a class="link" href="aggregate-functions.html#function_avg"><code class="literal">AVG()</code></a> that expect a numeric
        argument cast the argument to a number if necessary. For
        <a class="link" href="set.html" title="11.3.6&nbsp;The SET Type"><code class="literal">SET</code></a> or
        <a class="link" href="enum.html" title="11.3.5&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> values, the cast operation
        causes the underlying numeric value to be used.
      </p><p>
        The <a class="link" href="aggregate-functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a>,
        <a class="link" href="aggregate-functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a>, and
        <a class="link" href="aggregate-functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a> aggregate functions
        perform bit operations. Prior to MySQL 8.0, bit functions and
        operators required <a class="link" href="integer-types.html" title="11.1.2&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> (64-bit
        integer) arguments and returned
        <a class="link" href="integer-types.html" title="11.1.2&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> values, so they had a
        maximum range of 64 bits.
        Non-<a class="link" href="integer-types.html" title="11.1.2&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> arguments were
        converted to <a class="link" href="integer-types.html" title="11.1.2&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> prior to
        performing the operation and truncation could occur.
      </p><p>
        In MySQL 8.0, bit functions and operators permit binary string
        type arguments (<a class="link" href="binary-varbinary.html" title="11.3.3&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
        <a class="link" href="binary-varbinary.html" title="11.3.3&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, and the
        <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> types) and return a value of
        like type, which enables them to take arguments and produce
        return values larger than 64 bits. For discussion about argument
        evaluation and result types for bit operations, see the
        introductory discussion in <a class="xref" href="bit-functions.html" title="12.12&nbsp;Bit Functions and Operators">Section&nbsp;12.12, &ldquo;Bit Functions and Operators&rdquo;</a>.
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="function_avg"></a><p>
            <a class="link" href="aggregate-functions.html#function_avg"><code class="literal">AVG([DISTINCT]
            <em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828920013408" class="indexterm"></a><a id="idm45828920012336" class="indexterm"></a><a id="idm45828920011264" class="indexterm"></a><p>
            Returns the average value of
            <code class="literal"><em class="replaceable"><code>expr</code></em></code>. The
            <code class="literal">DISTINCT</code> option can be used to return the
            average of the distinct values of
            <em class="replaceable"><code>expr</code></em>.
          </p><p>
            If there are no matching rows,
            <a class="link" href="aggregate-functions.html#function_avg"><code class="literal">AVG()</code></a> returns
            <code class="literal">NULL</code>. The function also returns
            <code class="literal">NULL</code> if <em class="replaceable"><code>expr</code></em>
            is <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>; it cannot be used
            with <code class="literal">DISTINCT</code>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name, AVG(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre></li><li class="listitem"><a id="function_bit-and"></a><p>
            <a class="link" href="aggregate-functions.html#function_bit-and"><code class="literal">BIT_AND(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919989664" class="indexterm"></a><p>
            Returns the bitwise <code class="literal">AND</code> of all bits in
            <em class="replaceable"><code>expr</code></em>.
          </p><p>
            The result type depends on whether the function argument
            values are evaluated as binary strings or numbers:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Binary-string evaluation occurs when the argument values
                have a binary string type, and the argument is not a
                hexadecimal literal, bit literal, or
                <code class="literal">NULL</code> literal. Numeric evaluation
                occurs otherwise, with argument value conversion to
                unsigned 64-bit integers as necessary.
              </p></li><li class="listitem"><p>
                Binary-string evaluation produces a binary string of the
                same length as the argument values. If argument values
                have unequal lengths, an
                <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_invalid_bitwise_operands_size" target="_top"><code class="literal">ER_INVALID_BITWISE_OPERANDS_SIZE</code></a>
                error occurs. If the argument size exceeds 511 bytes, an
                <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_invalid_bitwise_aggregate_operands_size" target="_top"><code class="literal">ER_INVALID_BITWISE_AGGREGATE_OPERANDS_SIZE</code></a>
                error occurs. Numeric evaluation produces an unsigned
                64-bit integer.
              </p></li></ul></div><p>
            If there are no matching rows,
            <a class="link" href="aggregate-functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a> returns a neutral
            value (all bits set to 1) having the same length as the
            argument values.
          </p><p>
            <code class="literal">NULL</code> values do not affect the result
            unless all values are <code class="literal">NULL</code>. In that case,
            the result is a neutral value having the same length as the
            argument values.
          </p><p>
            For more information discussion about argument evaluation
            and result types, see the introductory discussion in
            <a class="xref" href="bit-functions.html" title="12.12&nbsp;Bit Functions and Operators">Section&nbsp;12.12, &ldquo;Bit Functions and Operators&rdquo;</a>.
          </p><p>
            If <a class="link" href="aggregate-functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a> is invoked from
            within the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary string
            results display using hexadecimal notation, depending on the
            value of the <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>.
            For more information about that option, see
            <a class="xref" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client">Section&nbsp;4.5.1, &ldquo;mysql &mdash; The MySQL Command-Line Client&rdquo;</a>.
          </p><p>
            As of MySQL 8.0.12, this function executes as a window
            function if <em class="replaceable"><code>over_clause</code></em> is
            present. <em class="replaceable"><code>over_clause</code></em> is as
            described in <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_bit-or"></a><p>
            <a class="link" href="aggregate-functions.html#function_bit-or"><code class="literal">BIT_OR(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919961888" class="indexterm"></a><p>
            Returns the bitwise <code class="literal">OR</code> of all bits in
            <em class="replaceable"><code>expr</code></em>.
          </p><p>
            The result type depends on whether the function argument
            values are evaluated as binary strings or numbers:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Binary-string evaluation occurs when the argument values
                have a binary string type, and the argument is not a
                hexadecimal literal, bit literal, or
                <code class="literal">NULL</code> literal. Numeric evaluation
                occurs otherwise, with argument value conversion to
                unsigned 64-bit integers as necessary.
              </p></li><li class="listitem"><p>
                Binary-string evaluation produces a binary string of the
                same length as the argument values. If argument values
                have unequal lengths, an
                <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_invalid_bitwise_operands_size" target="_top"><code class="literal">ER_INVALID_BITWISE_OPERANDS_SIZE</code></a>
                error occurs. If the argument size exceeds 511 bytes, an
                <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_invalid_bitwise_aggregate_operands_size" target="_top"><code class="literal">ER_INVALID_BITWISE_AGGREGATE_OPERANDS_SIZE</code></a>
                error occurs. Numeric evaluation produces an unsigned
                64-bit integer.
              </p></li></ul></div><p>
            If there are no matching rows,
            <a class="link" href="aggregate-functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a> returns a neutral
            value (all bits set to 0) having the same length as the
            argument values.
          </p><p>
            <code class="literal">NULL</code> values do not affect the result
            unless all values are <code class="literal">NULL</code>. In that case,
            the result is a neutral value having the same length as the
            argument values.
          </p><p>
            For more information discussion about argument evaluation
            and result types, see the introductory discussion in
            <a class="xref" href="bit-functions.html" title="12.12&nbsp;Bit Functions and Operators">Section&nbsp;12.12, &ldquo;Bit Functions and Operators&rdquo;</a>.
          </p><p>
            If <a class="link" href="aggregate-functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a> is invoked from
            within the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary string
            results display using hexadecimal notation, depending on the
            value of the <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>.
            For more information about that option, see
            <a class="xref" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client">Section&nbsp;4.5.1, &ldquo;mysql &mdash; The MySQL Command-Line Client&rdquo;</a>.
          </p><p>
            As of MySQL 8.0.12, this function executes as a window
            function if <em class="replaceable"><code>over_clause</code></em> is
            present. <em class="replaceable"><code>over_clause</code></em> is as
            described in <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_bit-xor"></a><p>
            <a class="link" href="aggregate-functions.html#function_bit-xor"><code class="literal">BIT_XOR(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919934048" class="indexterm"></a><p>
            Returns the bitwise <a class="link" href="logical-operators.html#operator_xor"><code class="literal">XOR</code></a> of all
            bits in <em class="replaceable"><code>expr</code></em>.
          </p><p>
            The result type depends on whether the function argument
            values are evaluated as binary strings or numbers:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Binary-string evaluation occurs when the argument values
                have a binary string type, and the argument is not a
                hexadecimal literal, bit literal, or
                <code class="literal">NULL</code> literal. Numeric evaluation
                occurs otherwise, with argument value conversion to
                unsigned 64-bit integers as necessary.
              </p></li><li class="listitem"><p>
                Binary-string evaluation produces a binary string of the
                same length as the argument values. If argument values
                have unequal lengths, an
                <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_invalid_bitwise_operands_size" target="_top"><code class="literal">ER_INVALID_BITWISE_OPERANDS_SIZE</code></a>
                error occurs. If the argument size exceeds 511 bytes, an
                <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/mysql-errors-8.0-en/server-error-reference.html#error_er_invalid_bitwise_aggregate_operands_size" target="_top"><code class="literal">ER_INVALID_BITWISE_AGGREGATE_OPERANDS_SIZE</code></a>
                error occurs. Numeric evaluation produces an unsigned
                64-bit integer.
              </p></li></ul></div><p>
            If there are no matching rows,
            <a class="link" href="aggregate-functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a> returns a neutral
            value (all bits set to 0) having the same length as the
            argument values.
          </p><p>
            <code class="literal">NULL</code> values do not affect the result
            unless all values are <code class="literal">NULL</code>. In that case,
            the result is a neutral value having the same length as the
            argument values.
          </p><p>
            For more information discussion about argument evaluation
            and result types, see the introductory discussion in
            <a class="xref" href="bit-functions.html" title="12.12&nbsp;Bit Functions and Operators">Section&nbsp;12.12, &ldquo;Bit Functions and Operators&rdquo;</a>.
          </p><p>
            If <a class="link" href="aggregate-functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a> is invoked from
            within the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary string
            results display using hexadecimal notation, depending on the
            value of the <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>.
            For more information about that option, see
            <a class="xref" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client">Section&nbsp;4.5.1, &ldquo;mysql &mdash; The MySQL Command-Line Client&rdquo;</a>.
          </p><p>
            As of MySQL 8.0.12, this function executes as a window
            function if <em class="replaceable"><code>over_clause</code></em> is
            present. <em class="replaceable"><code>over_clause</code></em> is as
            described in <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_count"></a><p>
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919905696" class="indexterm"></a><p>
            Returns a count of the number of non-<code class="literal">NULL</code>
            values of <em class="replaceable"><code>expr</code></em> in the rows
            retrieved by a <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a>
            statement. The result is a
            <a class="link" href="integer-types.html" title="11.1.2&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> value.
          </p><p>
            If there are no matching rows,
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT()</code></a> returns
            <code class="literal">0</code>. <code class="literal">COUNT(NULL)</code> returns
            0.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student.student_name,COUNT(*)</code></strong>
       <strong class="userinput"><code>FROM student,course</code></strong>
       <strong class="userinput"><code>WHERE student.student_id=course.student_id</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(*)</code></a> is somewhat
            different in that it returns a count of the number of rows
            retrieved, whether or not they contain
            <code class="literal">NULL</code> values.
          </p><p>
            For transactional storage engines such as
            <code class="literal">InnoDB</code>, storing an exact row count is
            problematic. Multiple transactions may be occurring at the
            same time, each of which may affect the count.
          </p><p>
            <code class="literal">InnoDB</code> does not keep an internal count of
            rows in a table because concurrent transactions might
            <span class="quote">&ldquo;<span class="quote">see</span>&rdquo;</span> different numbers of rows at the same
            time. Consequently, <code class="literal">SELECT COUNT(*)</code>
            statements only count rows visible to the current
            transaction.
          </p><p>
            As of MySQL 8.0.13, <code class="literal">SELECT COUNT(*) FROM
            <em class="replaceable"><code>tbl_name</code></em></code> query
            performance for <code class="literal">InnoDB</code> tables is
            optimized for single-threaded workloads if there are no
            extra clauses such as <code class="literal">WHERE</code> or
            <code class="literal">GROUP BY</code>.
          </p><p>
            <code class="literal">InnoDB</code> processes <code class="literal">SELECT
            COUNT(*)</code> statements by traversing the smallest
            available secondary index unless an index or optimizer hint
            directs the optimizer to use a different index. If a
            secondary index is not present, <code class="literal">InnoDB</code>
            processes <code class="literal">SELECT COUNT(*)</code> statements by
            scanning the clustered index.
          </p><p>
            Processing <code class="literal">SELECT COUNT(*)</code> statements
            takes some time if index records are not entirely in the
            buffer pool. For a faster count, create a counter table and
            let your application update it according to the inserts and
            deletes it does. However, this method may not scale well in
            situations where thousands of concurrent transactions are
            initiating updates to the same counter table. If an
            approximate row count is sufficient, use
            <a class="link" href="show-table-status.html" title="13.7.7.38&nbsp;SHOW TABLE STATUS Statement"><code class="literal">SHOW TABLE STATUS</code></a>.
          </p><p>
            <code class="literal">InnoDB</code> handles <code class="literal">SELECT
            COUNT(*)</code> and <code class="literal">SELECT COUNT(1)</code>
            operations in the same way. There is no performance
            difference.
          </p><p>
            For <code class="literal">MyISAM</code> tables,
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(*)</code></a> is optimized to
            return very quickly if the
            <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> retrieves from one
            table, no other columns are retrieved, and there is no
            <code class="literal">WHERE</code> clause. For example:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COUNT(*) FROM student;</code></strong>
</pre><p>
            This optimization only applies to <code class="literal">MyISAM</code>
            tables, because an exact row count is stored for this
            storage engine and can be accessed very quickly.
            <code class="literal">COUNT(1)</code> is only subject to the same
            optimization if the first column is defined as <code class="literal">NOT
            NULL</code>.
          </p></li><li class="listitem"><a id="function_count-distinct"></a><p>
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(DISTINCT
            <em class="replaceable"><code>expr</code></em>,[<em class="replaceable"><code>expr</code></em>...])</code></a>
          </p><a id="idm45828919854880" class="indexterm"></a><a id="idm45828919853808" class="indexterm"></a><p>
            Returns a count of the number of rows with different
            non-<code class="literal">NULL</code> <em class="replaceable"><code>expr</code></em>
            values.
          </p><p>
            If there are no matching rows,
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> returns
            <code class="literal">0</code>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COUNT(DISTINCT results) FROM student;</code></strong>
</pre><p>
            In MySQL, you can obtain the number of distinct expression
            combinations that do not contain <code class="literal">NULL</code> by
            giving a list of expressions. In standard SQL, you would
            have to do a concatenation of all expressions inside
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(DISTINCT ...)</code></a>.
          </p></li><li class="listitem"><a id="function_group-concat"></a><p>
            <a class="link" href="aggregate-functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(<em class="replaceable"><code>expr</code></em>)</code></a>
          </p><a id="idm45828919837056" class="indexterm"></a><p>
            This function returns a string result with the concatenated
            non-<code class="literal">NULL</code> values from a group. It returns
            <code class="literal">NULL</code> if there are no
            non-<code class="literal">NULL</code> values. The full syntax is as
            follows:
          </p><pre class="programlisting">GROUP_CONCAT([DISTINCT] <em class="replaceable"><code>expr</code></em> [,<em class="replaceable"><code>expr</code></em> ...]
             [ORDER BY {<em class="replaceable"><code>unsigned_integer</code></em> | <em class="replaceable"><code>col_name</code></em> | <em class="replaceable"><code>expr</code></em>}
                 [ASC | DESC] [,<em class="replaceable"><code>col_name</code></em> ...]]
             [SEPARATOR <em class="replaceable"><code>str_val</code></em>])
</pre><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name,</code></strong>
         <strong class="userinput"><code>GROUP_CONCAT(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
            Or:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name,</code></strong>
         <strong class="userinput"><code>GROUP_CONCAT(DISTINCT test_score</code></strong>
                      <strong class="userinput"><code>ORDER BY test_score DESC SEPARATOR &#39; &#39;)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
            In MySQL, you can get the concatenated values of expression
            combinations. To eliminate duplicate values, use the
            <code class="literal">DISTINCT</code> clause. To sort values in the
            result, use the <code class="literal">ORDER BY</code> clause. To sort
            in reverse order, add the <code class="literal">DESC</code>
            (descending) keyword to the name of the column you are
            sorting by in the <code class="literal">ORDER BY</code> clause. The
            default is ascending order; this may be specified explicitly
            using the <code class="literal">ASC</code> keyword. The default
            separator between values in a group is comma
            (<code class="literal">,</code>). To specify a separator explicitly,
            use <code class="literal">SEPARATOR</code> followed by the string
            literal value that should be inserted between group values.
            To eliminate the separator altogether, specify
            <code class="literal">SEPARATOR &#39;&#39;</code>.
          </p><p>
            The result is truncated to the maximum length that is given
            by the <a class="link" href="server-system-variables.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a>
            system variable, which has a default value of 1024. The
            value can be set higher, although the effective maximum
            length of the return value is constrained by the value of
            <a class="link" href="server-system-variables.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>. The
            syntax to change the value of
            <a class="link" href="server-system-variables.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> at
            runtime is as follows, where <em class="replaceable"><code>val</code></em>
            is an unsigned integer:
          </p><pre class="programlisting">SET [GLOBAL | SESSION] group_concat_max_len = <em class="replaceable"><code>val</code></em>;
</pre><p>
            The return value is a nonbinary or binary string, depending
            on whether the arguments are nonbinary or binary strings.
            The result type is <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> or
            <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> unless
            <a class="link" href="server-system-variables.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> is
            less than or equal to 512, in which case the result type is
            <a class="link" href="char.html" title="11.3.2&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or
            <a class="link" href="binary-varbinary.html" title="11.3.3&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>.
          </p><p>
            If <a class="link" href="aggregate-functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> is invoked
            from within the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, binary
            string results display using hexadecimal notation, depending
            on the value of the
            <a class="link" href="mysql-command-options.html#option_mysql_binary-as-hex"><code class="option">--binary-as-hex</code></a>. For more
            information about that option, see <a class="xref" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client">Section&nbsp;4.5.1, &ldquo;mysql &mdash; The MySQL Command-Line Client&rdquo;</a>.
          </p><p>
            See also <a class="link" href="string-functions.html#function_concat"><code class="literal">CONCAT()</code></a> and
            <a class="link" href="string-functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a>:
            <a class="xref" href="string-functions.html" title="12.8&nbsp;String Functions and Operators">Section&nbsp;12.8, &ldquo;String Functions and Operators&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_json-arrayagg"></a><p>
            <a class="link" href="aggregate-functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG(<em class="replaceable"><code>col_or_expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919785040" class="indexterm"></a><p>
            Aggregates a result set as a single
            <a class="link" href="json.html" title="11.5&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> array whose elements
            consist of the rows. The order of elements in this array is
            undefined. The function acts on a column or an expression
            that evaluates to a single value. Returns
            <code class="literal">NULL</code> if the result contains no rows, or
            in the event of an error. If
            <em class="replaceable"><code>col_or_expr</code></em> is
            <code class="literal">NULL</code>, the function returns an array of
            JSON <code class="literal">[null]</code> elements.
          </p><p>
            As of MySQL 8.0.14, this function executes as a window
            function if <em class="replaceable"><code>over_clause</code></em> is
            present. <em class="replaceable"><code>over_clause</code></em> is as
            described in <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT o_id, attribute, value FROM t3;</code></strong>
+------+-----------+-------+
| o_id | attribute | value |
+------+-----------+-------+
|    2 | color     | red   |
|    2 | fabric    | silk  |
|    3 | color     | green |
|    3 | shape     | square|
+------+-----------+-------+
4 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT o_id, JSON_ARRAYAGG(attribute) AS attributes</code></strong>
    -&gt; <strong class="userinput"><code>FROM t3 GROUP BY o_id;</code></strong>
+------+---------------------+
| o_id | attributes          |
+------+---------------------+
|    2 | [&#34;color&#34;, &#34;fabric&#34;] |
|    3 | [&#34;color&#34;, &#34;shape&#34;]  |
+------+---------------------+
2 rows in set (0.00 sec)
</pre></li><li class="listitem"><a id="function_json-objectagg"></a><p>
            <a class="link" href="aggregate-functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG(<em class="replaceable"><code>key</code></em>,
            <em class="replaceable"><code>value</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919765056" class="indexterm"></a><p>
            Takes two column names or expressions as arguments, the
            first of these being used as a key and the second as a
            value, and returns a JSON object containing key-value pairs.
            Returns <code class="literal">NULL</code> if the result contains no
            rows, or in the event of an error. An error occurs if any
            key name is <code class="literal">NULL</code> or the number of
            arguments is not equal to 2.
          </p><p>
            As of MySQL 8.0.14, this function executes as a window
            function if <em class="replaceable"><code>over_clause</code></em> is
            present. <em class="replaceable"><code>over_clause</code></em> is as
            described in <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT o_id, attribute, value FROM t3;</code></strong>
+------+-----------+-------+
| o_id | attribute | value |
+------+-----------+-------+
|    2 | color     | red   |
|    2 | fabric    | silk  |
|    3 | color     | green |
|    3 | shape     | square|
+------+-----------+-------+
4 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT o_id, JSON_OBJECTAGG(attribute, value)</code></strong>
    -&gt; <strong class="userinput"><code>FROM t3 GROUP BY o_id;</code></strong>
+------+---------------------------------------+
| o_id | JSON_OBJECTAGG(attribute, value)      |
+------+---------------------------------------+
|    2 | {&#34;color&#34;: &#34;red&#34;, &#34;fabric&#34;: &#34;silk&#34;}    |
|    3 | {&#34;color&#34;: &#34;green&#34;, &#34;shape&#34;: &#34;square&#34;} |
+------+---------------------------------------+
2 rows in set (0.00 sec)
</pre><p><strong>Duplicate key handling.&nbsp;</strong>
              When the result of this function is normalized, values
              having duplicate keys are discarded. In keeping with the
              MySQL <a class="link" href="json.html" title="11.5&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> data type
              specification that does not permit duplicate keys, only
              the last value encountered is used with that key in the
              returned object (<span class="quote">&ldquo;<span class="quote">last duplicate key wins</span>&rdquo;</span>).
              This means that the result of using this function on
              columns from a <code class="literal">SELECT</code> can depend on the
              order in which the rows are returned, which is not
              guaranteed.
            </p><p>
            When used as a window function, if there are duplicate keys
            within a frame, only the last value for the key is present
            in the result. The value for the key from the last row in
            the frame is deterministic if the <code class="literal">ORDER
            BY</code> specification guarantees that the values have a
            specific order. If not, the resulting value of the key is
            nondeterministic.
          </p><p>
            Consider the following:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t(c VARCHAR(10), i INT);</code></strong>
Query OK, 0 rows affected (0.33 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (&#39;key&#39;, 3), (&#39;key&#39;, 4), (&#39;key&#39;, 5);</code></strong>
Query OK, 3 rows affected (0.10 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c, i FROM t;</code></strong>
+------+------+
| c    | i    |
+------+------+
| key  |    3 |
| key  |    4 |
| key  |    5 |
+------+------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i) FROM t;</code></strong>
+----------------------+
| JSON_OBJECTAGG(c, i) |
+----------------------+
| {&#34;key&#34;: 5}           |
+----------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>DELETE FROM t;</code></strong>
Query OK, 3 rows affected (0.08 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (&#39;key&#39;, 3), (&#39;key&#39;, 5), (&#39;key&#39;, 4);</code></strong>
Query OK, 3 rows affected (0.06 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c, i FROM t;</code></strong>
+------+------+
| c    | i    |
+------+------+
| key  |    3 |
| key  |    5 |
| key  |    4 |
+------+------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i) FROM t;</code></strong>
+----------------------+
| JSON_OBJECTAGG(c, i) |
+----------------------+
| {&#34;key&#34;: 4}           |
+----------------------+
1 row in set (0.00 sec)
</pre><p>
            The key chosen from the last query is nondeterministic. If
            the query does not use <code class="literal">GROUP BY</code> (which
            usually imposes its own ordering regardless) and you prefer
            a particular key ordering, you can invoke
            <code class="literal">JSON_OBJECTAGG()</code> as a window function by
            including an <code class="literal">OVER</code> clause with an
            <code class="literal">ORDER BY</code> specification to impose a
            particular order on frame rows. The following examples show
            what happens with and without <code class="literal">ORDER BY</code>
            for a few different frame specifications.
          </p><p>
            Without <code class="literal">ORDER BY</code>, the frame is the entire
            partition:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i)</code></strong>
       <strong class="userinput"><code>OVER () AS json_object FROM t;</code></strong>
+-------------+
| json_object |
+-------------+
| {&#34;key&#34;: 4}  |
| {&#34;key&#34;: 4}  |
| {&#34;key&#34;: 4}  |
+-------------+
</pre><p>
            With <code class="literal">ORDER BY</code>, where the frame is the
            default of <code class="literal">RANGE BETWEEN UNBOUNDED PRECEDING AND
            CURRENT ROW</code> (in both ascending and descending
            order):
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i)</code></strong>
       <strong class="userinput"><code>OVER (ORDER BY i) AS json_object FROM t;</code></strong>
+-------------+
| json_object |
+-------------+
| {&#34;key&#34;: 3}  |
| {&#34;key&#34;: 4}  |
| {&#34;key&#34;: 5}  |
+-------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i)</code></strong>
       <strong class="userinput"><code>OVER (ORDER BY i DESC) AS json_object FROM t;</code></strong>
+-------------+
| json_object |
+-------------+
| {&#34;key&#34;: 5}  |
| {&#34;key&#34;: 4}  |
| {&#34;key&#34;: 3}  |
+-------------+
</pre><p>
            With <code class="literal">ORDER BY</code> and an explicit frame of
            the entire partition:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i)</code></strong>
       <strong class="userinput"><code>OVER (ORDER BY i</code></strong>
            <strong class="userinput"><code>ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING)</code></strong>
        <strong class="userinput"><code>AS json_object</code></strong>
       <strong class="userinput"><code>FROM t;</code></strong>
+-------------+
| json_object |
+-------------+
| {&#34;key&#34;: 5}  |
| {&#34;key&#34;: 5}  |
| {&#34;key&#34;: 5}  |
+-------------+
</pre><p>
            To return a particular key value (such as the smallest or
            largest), include a <code class="literal">LIMIT</code> clause in the
            appropriate query. For example:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i)</code></strong>
       <strong class="userinput"><code>OVER (ORDER BY i) AS json_object FROM t LIMIT 1;</code></strong>
+-------------+
| json_object |
+-------------+
| {&#34;key&#34;: 3}  |
+-------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i)</code></strong>
       <strong class="userinput"><code>OVER (ORDER BY i DESC) AS json_object FROM t LIMIT 1;</code></strong>
+-------------+
| json_object |
+-------------+
| {&#34;key&#34;: 5}  |
+-------------+
</pre><p>
            See <a class="xref" href="json.html#json-normalization" title="Normalization, Merging, and Autowrapping of JSON Values">Normalization, Merging, and Autowrapping of JSON Values</a>, for additional
            information and examples.
          </p></li><li class="listitem"><a id="function_max"></a><p>
            <a class="link" href="aggregate-functions.html#function_max"><code class="literal">MAX([DISTINCT]
            <em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919706960" class="indexterm"></a><a id="idm45828919705888" class="indexterm"></a><a id="idm45828919704816" class="indexterm"></a><p>
            Returns the maximum value of
            <em class="replaceable"><code>expr</code></em>.
            <a class="link" href="aggregate-functions.html#function_max"><code class="literal">MAX()</code></a> may take a string
            argument; in such cases, it returns the maximum string
            value. See <a class="xref" href="mysql-indexes.html" title="8.3.1&nbsp;How MySQL Uses Indexes">Section&nbsp;8.3.1, &ldquo;How MySQL Uses Indexes&rdquo;</a>. The
            <code class="literal">DISTINCT</code> keyword can be used to find the
            maximum of the distinct values of
            <em class="replaceable"><code>expr</code></em>, however, this produces the
            same result as omitting <code class="literal">DISTINCT</code>.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_max"><code class="literal">MAX()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>; it cannot be used
            with <code class="literal">DISTINCT</code>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name, MIN(test_score), MAX(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
            For <a class="link" href="aggregate-functions.html#function_max"><code class="literal">MAX()</code></a>, MySQL currently
            compares <a class="link" href="enum.html" title="11.3.5&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> and
            <a class="link" href="set.html" title="11.3.6&nbsp;The SET Type"><code class="literal">SET</code></a> columns by their string
            value rather than by the string&#39;s relative position in the
            set. This differs from how <code class="literal">ORDER BY</code>
            compares them.
          </p></li><li class="listitem"><a id="function_min"></a><p>
            <a class="link" href="aggregate-functions.html#function_min"><code class="literal">MIN([DISTINCT]
            <em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919676688" class="indexterm"></a><a id="idm45828919675616" class="indexterm"></a><a id="idm45828919674544" class="indexterm"></a><p>
            Returns the minimum value of
            <em class="replaceable"><code>expr</code></em>.
            <a class="link" href="aggregate-functions.html#function_min"><code class="literal">MIN()</code></a> may take a string
            argument; in such cases, it returns the minimum string
            value. See <a class="xref" href="mysql-indexes.html" title="8.3.1&nbsp;How MySQL Uses Indexes">Section&nbsp;8.3.1, &ldquo;How MySQL Uses Indexes&rdquo;</a>. The
            <code class="literal">DISTINCT</code> keyword can be used to find the
            minimum of the distinct values of
            <em class="replaceable"><code>expr</code></em>, however, this produces the
            same result as omitting <code class="literal">DISTINCT</code>.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_min"><code class="literal">MIN()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>; it cannot be used
            with <code class="literal">DISTINCT</code>.
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name, MIN(test_score), MAX(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
            For <a class="link" href="aggregate-functions.html#function_min"><code class="literal">MIN()</code></a>, MySQL currently
            compares <a class="link" href="enum.html" title="11.3.5&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> and
            <a class="link" href="set.html" title="11.3.6&nbsp;The SET Type"><code class="literal">SET</code></a> columns by their string
            value rather than by the string&#39;s relative position in the
            set. This differs from how <code class="literal">ORDER BY</code>
            compares them.
          </p></li><li class="listitem"><a id="function_std"></a><p>
            <a class="link" href="aggregate-functions.html#function_std"><code class="literal">STD(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919646496" class="indexterm"></a><p>
            Returns the population standard deviation of
            <em class="replaceable"><code>expr</code></em>.
            <a class="link" href="aggregate-functions.html#function_std"><code class="literal">STD()</code></a> is a synonym for the
            standard SQL function
            <a class="link" href="aggregate-functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a>, provided as a
            MySQL extension.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_std"><code class="literal">STD()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_stddev"></a><p>
            <a class="link" href="aggregate-functions.html#function_stddev"><code class="literal">STDDEV(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919629424" class="indexterm"></a><a id="idm45828919628352" class="indexterm"></a><a id="idm45828919627280" class="indexterm"></a><p>
            Returns the population standard deviation of
            <em class="replaceable"><code>expr</code></em>.
            <a class="link" href="aggregate-functions.html#function_stddev"><code class="literal">STDDEV()</code></a> is a synonym for the
            standard SQL function
            <a class="link" href="aggregate-functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a>, provided for
            compatibility with Oracle.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_stddev"><code class="literal">STDDEV()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_stddev-pop"></a><p>
            <a class="link" href="aggregate-functions.html#function_stddev-pop"><code class="literal">STDDEV_POP(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919609776" class="indexterm"></a><p>
            Returns the population standard deviation of
            <em class="replaceable"><code>expr</code></em> (the square root of
            <a class="link" href="aggregate-functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a>). You can also use
            <a class="link" href="aggregate-functions.html#function_std"><code class="literal">STD()</code></a> or
            <a class="link" href="aggregate-functions.html#function_stddev"><code class="literal">STDDEV()</code></a>, which are
            equivalent but not standard SQL.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_stddev-samp"></a><p>
            <a class="link" href="aggregate-functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919591472" class="indexterm"></a><p>
            Returns the sample standard deviation of
            <em class="replaceable"><code>expr</code></em> (the square root of
            <a class="link" href="aggregate-functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a>.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_sum"></a><p>
            <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM([DISTINCT]
            <em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919575008" class="indexterm"></a><a id="idm45828919573936" class="indexterm"></a><a id="idm45828919572864" class="indexterm"></a><p>
            Returns the sum of <em class="replaceable"><code>expr</code></em>. If the
            return set has no rows, <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a>
            returns <code class="literal">NULL</code>. The
            <code class="literal">DISTINCT</code> keyword can be used to sum only
            the distinct values of <em class="replaceable"><code>expr</code></em>.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_sum"><code class="literal">SUM()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>; it cannot be used
            with <code class="literal">DISTINCT</code>.
          </p></li><li class="listitem"><a id="function_var-pop"></a><p>
            <a class="link" href="aggregate-functions.html#function_var-pop"><code class="literal">VAR_POP(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919554016" class="indexterm"></a><p>
            Returns the population standard variance of
            <em class="replaceable"><code>expr</code></em>. It considers rows as the
            whole population, not as a sample, so it has the number of
            rows as the denominator. You can also use
            <a class="link" href="aggregate-functions.html#function_variance"><code class="literal">VARIANCE()</code></a>, which is
            equivalent but is not standard SQL.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_var-samp"></a><p>
            <a class="link" href="aggregate-functions.html#function_var-samp"><code class="literal">VAR_SAMP(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919538064" class="indexterm"></a><p>
            Returns the sample variance of
            <em class="replaceable"><code>expr</code></em>. That is, the denominator is
            the number of rows minus one.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li><li class="listitem"><a id="function_variance"></a><p>
            <a class="link" href="aggregate-functions.html#function_variance"><code class="literal">VARIANCE(<em class="replaceable"><code>expr</code></em>)
            [<em class="replaceable"><code>over_clause</code></em>]</code></a>
          </p><a id="idm45828919523536" class="indexterm"></a><p>
            Returns the population standard variance of
            <em class="replaceable"><code>expr</code></em>.
            <a class="link" href="aggregate-functions.html#function_variance"><code class="literal">VARIANCE()</code></a> is a synonym for
            the standard SQL function
            <a class="link" href="aggregate-functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a>, provided as a
            MySQL extension.
          </p><p>
            If there are no matching rows, or if
            <em class="replaceable"><code>expr</code></em> is <code class="literal">NULL</code>,
            <a class="link" href="aggregate-functions.html#function_variance"><code class="literal">VARIANCE()</code></a> returns
            <code class="literal">NULL</code>.
          </p><p>
            This function executes as a window function if
            <em class="replaceable"><code>over_clause</code></em> is present.
            <em class="replaceable"><code>over_clause</code></em> is as described in
            <a class="xref" href="window-functions-usage.html" title="12.20.2&nbsp;Window Function Concepts and Syntax">Section&nbsp;12.20.2, &ldquo;Window Function Concepts and Syntax&rdquo;</a>.
          </p></li></ul></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="aggregate-functions-and-modifiers.html">Previous <span class="navHint"> Aggregate Functions </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="aggregate-functions-and-modifiers.html">Up <span class="navHint"> Aggregate Functions </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="group-by-modifiers.html">Next <span class="navHint"> GROUP BY Modifiers </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>