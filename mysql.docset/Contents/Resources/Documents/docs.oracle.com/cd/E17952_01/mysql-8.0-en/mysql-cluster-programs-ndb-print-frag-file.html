<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-2410"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/23.5.19%C2%A0ndb_print_frag_file%20%E2%80%94%20Print%20NDB%20Fragment%20List%20File%20Contents"></a><title>23.5.19&nbsp;ndb_print_frag_file &mdash; Print NDB Fragment List File Contents</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="mysql-cluster-programs.html" title="23.5&nbsp;NDB Cluster Programs"/><link rel="prev" href="mysql-cluster-programs-ndb-print-file.html" title="23.5.18&nbsp;ndb_print_file &mdash; Print NDB Disk Data File Contents"/><link rel="next" href="mysql-cluster-programs-ndb-print-schema-file.html" title="23.5.20&nbsp;ndb_print_schema_file &mdash; Print NDB Schema File Contents"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="mysql-cluster-programs-ndb-print-frag-file.html#mysql-cluster-programs-ndb-print-frag-file">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="mysql-cluster-programs-ndb-print-file.html">Previous <span class="navHint"> ndb_print_file &mdash; Print NDB Disk Data File Contents </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="mysql-cluster-programs.html">Up <span class="navHint"> NDB Cluster Programs </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="mysql-cluster-programs-ndb-print-schema-file.html">Next <span class="navHint"> ndb_print_schema_file &mdash; Print NDB Schema File Contents </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="mysql-cluster-programs-ndb-print-frag-file"></a>23.5.19&nbsp;ndb_print_frag_file &mdash; Print NDB Fragment List File Contents</h3></div></div></div><a id="idm45828818097328" class="indexterm"></a><p>
        <a class="link" href="mysql-cluster-programs-ndb-print-frag-file.html" title="23.5.19&nbsp;ndb_print_frag_file &mdash; Print NDB Fragment List File Contents"><span class="command"><strong>ndb_print_frag_file</strong></span></a> obtains information from
        a cluster fragment list file. It is intended for use in helping
        to diagnose issues with data node restarts.
      </p><a class="dashingAutolink" name="autolink-2407"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Usage"></a><h4><a id="idm45828818094304"></a>Usage</h4><pre class="programlisting">ndb_print_frag_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> is the name of a cluster
        fragment list file, which matches the pattern
        <code class="filename">S<em class="replaceable"><code>X</code></em>.FragList</code>,
        where <em class="replaceable"><code>X</code></em> is a digit in the range 2-9
        inclusive, and are found in the data node file system of the
        data node having the node ID <em class="replaceable"><code>nodeid</code></em>,
        in directories named
        <code class="filename">ndb_<em class="replaceable"><code>nodeid</code></em>_fs/D<em class="replaceable"><code>N</code></em>/DBDIH/</code>,
        where <em class="replaceable"><code>N</code></em> is <code class="literal">1</code> or
        <code class="literal">2</code>. Each fragment file contains records of the
        fragments belonging to each <code class="literal">NDB</code> table. For
        more information about cluster fragment files, see
        <a class="ulink" href="https://dev.mysql.com/doc/ndb-internals/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">NDB Cluster Data Node File System Directory</a>.
      </p><p>
        Like <a class="link" href="mysql-cluster-programs-ndb-print-backup-file.html" title="23.5.17&nbsp;ndb_print_backup_file &mdash; Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a>,
        <a class="link" href="mysql-cluster-programs-ndb-print-sys-file.html" title="23.5.21&nbsp;ndb_print_sys_file &mdash; Print NDB System File Contents"><span class="command"><strong>ndb_print_sys_file</strong></span></a>, and
        <a class="link" href="mysql-cluster-programs-ndb-print-schema-file.html" title="23.5.20&nbsp;ndb_print_schema_file &mdash; Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a> (and unlike most of the
        other <a class="link" href="mysql-cluster.html" title="Chapter&nbsp;23&nbsp;MySQL NDB Cluster 8.0"><code class="literal">NDB</code></a> utilities that are
        intended to be run on a management server host or to connect to
        a management server), <a class="link" href="mysql-cluster-programs-ndb-print-frag-file.html" title="23.5.19&nbsp;ndb_print_frag_file &mdash; Print NDB Fragment List File Contents"><span class="command"><strong>ndb_print_frag_file</strong></span></a>
        must be run on a cluster data node, since it accesses the data
        node file system directly. Because it does not make use of the
        management server, this utility can be used when the management
        server is not running, and even when the cluster has been
        completely shut down.
      </p><a class="dashingAutolink" name="autolink-2408"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Additional%20Options"></a><h4><a id="idm45828818076992"></a>Additional Options</h4><p>
        None.
      </p><a class="dashingAutolink" name="autolink-2409"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Sample%20Output"></a><h4><a id="idm45828818075888"></a>Sample Output</h4><pre class="programlisting">$&gt; <strong class="userinput"><code>ndb_print_frag_file /usr/local/mysqld/data/ndb_3_fs/D1/DBDIH/S2.FragList</code></strong>
Filename: /usr/local/mysqld/data/ndb_3_fs/D1/DBDIH/S2.FragList with size 8192
noOfPages = 1 noOfWords = 182
Table Data
----------
Num Frags: 2 NoOfReplicas: 2 hashpointer: 4294967040
kvalue: 6 mask: 0x00000000 method: HashMap
Storage is on Logged and checkpointed, survives SR
------ Fragment with FragId: 0 --------
Preferred Primary: 2 numStoredReplicas: 2 numOldStoredReplicas: 0 distKey: 0 LogPartId: 0
-------Stored Replica----------
Replica node is: 2 initialGci: 2 numCrashedReplicas = 0 nextLcpNo = 1
LcpNo[0]: maxGciCompleted: 1 maxGciStarted: 2 lcpId: 1 lcpStatus: valid
LcpNo[1]: maxGciCompleted: 0 maxGciStarted: 0 lcpId: 0 lcpStatus: invalid
-------Stored Replica----------
Replica node is: 3 initialGci: 2 numCrashedReplicas = 0 nextLcpNo = 1
LcpNo[0]: maxGciCompleted: 1 maxGciStarted: 2 lcpId: 1 lcpStatus: valid
LcpNo[1]: maxGciCompleted: 0 maxGciStarted: 0 lcpId: 0 lcpStatus: invalid
------ Fragment with FragId: 1 --------
Preferred Primary: 3 numStoredReplicas: 2 numOldStoredReplicas: 0 distKey: 0 LogPartId: 1
-------Stored Replica----------
Replica node is: 3 initialGci: 2 numCrashedReplicas = 0 nextLcpNo = 1
LcpNo[0]: maxGciCompleted: 1 maxGciStarted: 2 lcpId: 1 lcpStatus: valid
LcpNo[1]: maxGciCompleted: 0 maxGciStarted: 0 lcpId: 0 lcpStatus: invalid
-------Stored Replica----------
Replica node is: 2 initialGci: 2 numCrashedReplicas = 0 nextLcpNo = 1
LcpNo[0]: maxGciCompleted: 1 maxGciStarted: 2 lcpId: 1 lcpStatus: valid
LcpNo[1]: maxGciCompleted: 0 maxGciStarted: 0 lcpId: 0 lcpStatus: invalid
</pre></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="mysql-cluster-programs-ndb-print-file.html">Previous <span class="navHint"> ndb_print_file &mdash; Print NDB Disk Data File Contents </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="mysql-cluster-programs.html">Up <span class="navHint"> NDB Cluster Programs </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="mysql-cluster-programs-ndb-print-schema-file.html">Next <span class="navHint"> ndb_print_schema_file &mdash; Print NDB Schema File Contents </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>