<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-903"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/11.4.4%C2%A0Geometry%20Well-Formedness%20and%20Validity"></a><title>11.4.4&nbsp;Geometry Well-Formedness and Validity</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="spatial-types.html" title="11.4&nbsp;Spatial Data Types"/><link rel="prev" href="gis-data-formats.html" title="11.4.3&nbsp;Supported Spatial Data Formats"/><link rel="next" href="spatial-reference-systems.html" title="11.4.5&nbsp;Spatial Reference System Support"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="geometry-well-formedness-validity.html#geometry-well-formedness-validity">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="gis-data-formats.html">Previous <span class="navHint"> Supported Spatial Data Formats </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="spatial-types.html">Up <span class="navHint"> Spatial Data Types </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="spatial-reference-systems.html">Next <span class="navHint"> Spatial Reference System Support </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="geometry-well-formedness-validity"></a>11.4.4&nbsp;Geometry Well-Formedness and Validity</h3></div></div></div><a id="idm45828938508256" class="indexterm"></a><a id="idm45828938506752" class="indexterm"></a><a id="idm45828938505248" class="indexterm"></a><a id="idm45828938503760" class="indexterm"></a><a id="idm45828938502272" class="indexterm"></a><a id="idm45828938500784" class="indexterm"></a><a id="idm45828938499296" class="indexterm"></a><a id="idm45828938497808" class="indexterm"></a><a id="idm45828938496320" class="indexterm"></a><a id="idm45828938494816" class="indexterm"></a><p>
        For geometry values, MySQL distinguishes between the concepts of
        syntactically well-formed and geometrically valid.
      </p><p>
        A geometry is syntactically well-formed if it satisfies
        conditions such as those in this (nonexhaustive) list:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Linestrings have at least two points
          </p></li><li class="listitem"><p>
            Polygons have at least one ring
          </p></li><li class="listitem"><p>
            Polygon rings are closed (first and last points the same)
          </p></li><li class="listitem"><p>
            Polygon rings have at least 4 points (minimum polygon is a
            triangle with first and last points the same)
          </p></li><li class="listitem"><p>
            Collections are not empty (except
            <code class="literal">GeometryCollection</code>)
          </p></li></ul></div><p>
        A geometry is geometrically valid if it is syntactically
        well-formed and satisfies conditions such as those in this
        (nonexhaustive) list:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Polygons are not self-intersecting
          </p></li><li class="listitem"><p>
            Polygon interior rings are inside the exterior ring
          </p></li><li class="listitem"><p>
            Multipolygons do not have overlapping polygons
          </p></li></ul></div><p>
        Spatial functions fail if a geometry is not syntactically
        well-formed. Spatial import functions that parse WKT or WKB
        values raise an error for attempts to create a geometry that is
        not syntactically well-formed. Syntactic well-formedness is also
        checked for attempts to store geometries into tables.
      </p><p>
        It is permitted to insert, select, and update geometrically
        invalid geometries, but they must be syntactically well-formed.
        Due to the computational expense, MySQL does not check
        explicitly for geometric validity. Spatial computations may
        detect some cases of invalid geometries and raise an error, but
        they may also return an undefined result without detecting the
        invalidity. Applications that require geometrically-valid
        geometries should check them using the
        <a class="link" href="spatial-convenience-functions.html#function_st-isvalid"><code class="literal">ST_IsValid()</code></a> function.
      </p></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="gis-data-formats.html">Previous <span class="navHint"> Supported Spatial Data Formats </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="spatial-types.html">Up <span class="navHint"> Spatial Data Types </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="spatial-reference-systems.html">Next <span class="navHint"> Spatial Reference System Support </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>