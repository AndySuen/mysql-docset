<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-1206"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/12.15%C2%A0Information%20Functions"></a><title>12.15&nbsp;Information Functions</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="functions.html" title="Chapter&nbsp;12&nbsp;Functions and Operators"/><link rel="prev" href="locking-functions.html" title="12.14&nbsp;Locking Functions"/><link rel="next" href="spatial-analysis-functions.html" title="12.16&nbsp;Spatial Analysis Functions"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="information-functions.html#information-functions">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="locking-functions.html">Previous <span class="navHint"> Locking Functions </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="functions.html">Up <span class="navHint"> Functions and Operators </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="spatial-analysis-functions.html">Next <span class="navHint"> Spatial Analysis Functions </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="information-functions"></a>12.15&nbsp;Information Functions</h2></div></div></div><a id="idm45828925384832" class="indexterm"></a><a id="idm45828925383760" class="indexterm"></a><div class="table"><a id="idm45828925382272"></a><p class="title"><strong>Table&nbsp;12.20&nbsp;Information Functions</strong></p><div class="table-contents"><table frame="box" rules="all" summary="A reference that lists information functions."><colgroup><col style="width: 28%"/><col style="width: 71%"/></colgroup><thead><tr><th>Name</th>
<th>Description</th>
</tr></thead><tbody><tr><td><a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a></td>
<td>
      Repeatedly execute an expression
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_charset"><code class="literal">CHARSET()</code></a></td>
<td>
      Return the character set of the argument
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a></td>
<td>
      Return the collation coercibility value of the string argument
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_collation"><code class="literal">COLLATION()</code></a></td>
<td>
      Return the collation of the string argument
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a></td>
<td>
      Return the connection ID (thread ID) for the connection
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_current-role"><code class="literal">CURRENT_ROLE()</code></a></td>
<td>
      Return the current active roles
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code>, <code class="literal">CURRENT_USER</code></a></td>
<td>
      The authenticated user name and host name
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_database"><code class="literal">DATABASE()</code></a></td>
<td>
      Return the default (current) database name
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a></td>
<td>
      For a SELECT with a LIMIT clause, the number of rows that would be
      returned were there no LIMIT clause
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_icu-version"><code class="literal">ICU_VERSION()</code></a></td>
<td>
      ICU library version
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a></td>
<td>
      Value of the AUTOINCREMENT column for the last INSERT
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_roles-graphml"><code class="literal">ROLES_GRAPHML()</code></a></td>
<td>
      Return a GraphML document representing memory role subgraphs
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a></td>
<td>
      The number of rows updated
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_schema"><code class="literal">SCHEMA()</code></a></td>
<td>
      Synonym for DATABASE()
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a></td>
<td>
      Synonym for USER()
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a></td>
<td>
      Synonym for USER()
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a></td>
<td>
      The user name and host name provided by the client
    </td>
</tr><tr><td><a class="link" href="information-functions.html#function_version"><code class="literal">VERSION()</code></a></td>
<td>
      Return a string that indicates the MySQL server version
    </td>
</tr></tbody></table></div></div><br class="table-break"/><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="function_benchmark"></a><p>
          <a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK(<em class="replaceable"><code>count</code></em>,<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828925315456" class="indexterm"></a><p>
          The <a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> function
          executes the expression <em class="replaceable"><code>expr</code></em>
          repeatedly <em class="replaceable"><code>count</code></em> times. It may be
          used to time how quickly MySQL processes the expression. The
          result value is <code class="literal">0</code>, or
          <code class="literal">NULL</code> for inappropriate arguments such as a
          <code class="literal">NULL</code> or negative repeat count.
        </p><p>
          The intended use is from within the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>
          client, which reports query execution times:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT BENCHMARK(1000000,AES_ENCRYPT(&#39;hello&#39;,&#39;goodbye&#39;));</code></strong>
+---------------------------------------------------+
| BENCHMARK(1000000,AES_ENCRYPT(&#39;hello&#39;,&#39;goodbye&#39;)) |
+---------------------------------------------------+
|                                                 0 |
+---------------------------------------------------+
1 row in set (4.74 sec)
</pre><p>
          The time reported is elapsed time on the client end, not CPU
          time on the server end. It is advisable to execute
          <a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> several times, and
          to interpret the result with regard to how heavily loaded the
          server machine is.
        </p><p>
          <a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> is intended for
          measuring the runtime performance of scalar expressions, which
          has some significant implications for the way that you use it
          and interpret the results:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Only scalar expressions can be used. Although the
              expression can be a subquery, it must return a single
              column and at most a single row. For example,
              <a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK(10, (SELECT * FROM
              t))</code></a> fails if the table <code class="literal">t</code> has
              more than one column or more than one row.
            </p></li><li class="listitem"><p>
              Executing a <code class="literal">SELECT
              <em class="replaceable"><code>expr</code></em></code> statement
              <em class="replaceable"><code>N</code></em> times differs from executing
              <code class="literal">SELECT BENCHMARK(<em class="replaceable"><code>N</code></em>,
              <em class="replaceable"><code>expr</code></em>)</code> in terms of the
              amount of overhead involved. The two have very different
              execution profiles and you should not expect them to take
              the same amount of time. The former involves the parser,
              optimizer, table locking, and runtime evaluation
              <em class="replaceable"><code>N</code></em> times each. The latter
              involves only runtime evaluation
              <em class="replaceable"><code>N</code></em> times, and all the other
              components just once. Memory structures already allocated
              are reused, and runtime optimizations such as local
              caching of results already evaluated for aggregate
              functions can alter the results. Use of
              <a class="link" href="information-functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> thus measures
              performance of the runtime component by giving more weight
              to that component and removing the <span class="quote">&ldquo;<span class="quote">noise</span>&rdquo;</span>
              introduced by the network, parser, optimizer, and so
              forth.
            </p></li></ul></div></li><li class="listitem"><a id="function_charset"></a><p>
          <a class="link" href="information-functions.html#function_charset"><code class="literal">CHARSET(<em class="replaceable"><code>str</code></em>)</code></a>
        </p><a id="idm45828925284688" class="indexterm"></a><p>
          Returns the character set of the string argument, or
          <code class="literal">NULL</code> if the argument is
          <code class="literal">NULL</code>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARSET(&#39;abc&#39;);</code></strong>
        -&gt; &#39;utf8mb3&#39;
mysql&gt; <strong class="userinput"><code>SELECT CHARSET(CONVERT(&#39;abc&#39; USING latin1));</code></strong>
        -&gt; &#39;latin1&#39;
mysql&gt; <strong class="userinput"><code>SELECT CHARSET(USER());</code></strong>
        -&gt; &#39;utf8mb3&#39;
</pre></li><li class="listitem"><a id="function_coercibility"></a><p>
          <a class="link" href="information-functions.html#function_coercibility"><code class="literal">COERCIBILITY(<em class="replaceable"><code>str</code></em>)</code></a>
        </p><a id="idm45828925271504" class="indexterm"></a><p>
          Returns the collation coercibility value of the string
          argument.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(&#39;abc&#39; COLLATE utf8mb4_swedish_ci);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(USER());</code></strong>
        -&gt; 3
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(&#39;abc&#39;);</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(1000);</code></strong>
        -&gt; 5
</pre><p>
          The return values have the meanings shown in the following
          table. Lower values have higher precedence.
        </p><div class="informaltable"><table summary="Collation coercibility return values, the meaning of each value, and an example of each."><colgroup><col style="width: 15%"/><col style="width: 15%"/><col style="width: 70%"/></colgroup><thead><tr>
              <th scope="col">Coercibility</th>
              <th scope="col">Meaning</th>
              <th scope="col">Example</th>
            </tr></thead><tbody><tr>
              <th scope="row"><code class="literal">0</code></th>
              <td>Explicit collation</td>
              <td>Value with <code class="literal">COLLATE</code> clause</td>
            </tr><tr>
              <th scope="row"><code class="literal">1</code></th>
              <td>No collation</td>
              <td>Concatenation of strings with different collations</td>
            </tr><tr>
              <th scope="row"><code class="literal">2</code></th>
              <td>Implicit collation</td>
              <td>Column value, stored routine parameter or local variable</td>
            </tr><tr>
              <th scope="row"><code class="literal">3</code></th>
              <td>System constant</td>
              <td><a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a> return value</td>
            </tr><tr>
              <th scope="row"><code class="literal">4</code></th>
              <td>Coercible</td>
              <td>Literal string</td>
            </tr><tr>
              <th scope="row"><code class="literal">5</code></th>
              <td>Numeric</td>
              <td>Numeric or temporal value</td>
            </tr><tr>
              <th scope="row"><code class="literal">6</code></th>
              <td>Ignorable</td>
              <td><code class="literal">NULL</code> or an expression derived from
                <code class="literal">NULL</code></td>
            </tr></tbody></table></div><p>
          For more information, see
          <a class="xref" href="charset-collation-coercibility.html" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, &ldquo;Collation Coercibility in Expressions&rdquo;</a>.
        </p></li><li class="listitem"><a id="function_collation"></a><p>
          <a class="link" href="information-functions.html#function_collation"><code class="literal">COLLATION(<em class="replaceable"><code>str</code></em>)</code></a>
        </p><a id="idm45828925221040" class="indexterm"></a><p>
          Returns the collation of the string argument.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COLLATION(&#39;abc&#39;);</code></strong>
        -&gt; &#39;utf8mb4_0900_ai_ci&#39;
mysql&gt; <strong class="userinput"><code>SELECT COLLATION(_utf8mb4&#39;abc&#39;);</code></strong>
        -&gt; &#39;utf8mb4_0900_ai_ci&#39;
mysql&gt; <strong class="userinput"><code>SELECT COLLATION(_latin1&#39;abc&#39;);</code></strong>
        -&gt; &#39;latin1_swedish_ci&#39;
</pre></li><li class="listitem"><a id="function_connection-id"></a><p>
          <a class="link" href="information-functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a>
        </p><a id="idm45828925209584" class="indexterm"></a><p>
          Returns the connection ID (thread ID) for the connection.
          Every connection has an ID that is unique among the set of
          currently connected clients.
        </p><p>
          The value returned by
          <a class="link" href="information-functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> is the same
          type of value as displayed in the <code class="literal">ID</code> column
          of the Information Schema
          <a class="link" href="information-schema-processlist-table.html" title="26.3.23&nbsp;The INFORMATION_SCHEMA PROCESSLIST Table"><code class="literal">PROCESSLIST</code></a> table, the
          <code class="literal">Id</code> column of <a class="link" href="show-processlist.html" title="13.7.7.29&nbsp;SHOW PROCESSLIST Statement"><code class="literal">SHOW
          PROCESSLIST</code></a> output, and the
          <code class="literal">PROCESSLIST_ID</code> column of the Performance
          Schema <a class="link" href="performance-schema-threads-table.html" title="27.12.21.7&nbsp;The threads Table"><code class="literal">threads</code></a> table.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONNECTION_ID();</code></strong>
        -&gt; 23786
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p>
            Changing the session value of the
            <a class="link" href="server-system-variables.html#sysvar_pseudo_thread_id"><code class="literal">pseudo_thread_id</code></a> system
            variable changes the value returned by the
            <a class="link" href="information-functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> function.
          </p></div></li><li class="listitem"><a id="function_current-role"></a><p>
          <a class="link" href="information-functions.html#function_current-role"><code class="literal">CURRENT_ROLE()</code></a>
        </p><a id="idm45828925188672" class="indexterm"></a><p>
          Returns a <code class="literal">utf8mb3</code> string containing the
          current active roles for the current session, separated by
          commas, or <code class="literal">NONE</code> if there are none. The
          value reflects the setting of the
          <a class="link" href="server-system-variables.html#sysvar_sql_quote_show_create"><code class="literal">sql_quote_show_create</code></a> system
          variable.
        </p><p>
          Suppose that an account is granted roles as follows:
        </p><pre class="programlisting">GRANT &#39;r1&#39;, &#39;r2&#39; TO &#39;u1&#39;@&#39;localhost&#39;;
SET DEFAULT ROLE ALL TO &#39;u1&#39;@&#39;localhost&#39;;
</pre><p>
          In sessions for <code class="literal">u1</code>, the initial
          <a class="link" href="information-functions.html#function_current-role"><code class="literal">CURRENT_ROLE()</code></a> value names the
          default account roles. Using <a class="link" href="set-role.html" title="13.7.1.11&nbsp;SET ROLE Statement"><code class="literal">SET
          ROLE</code></a> changes that:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CURRENT_ROLE();</code></strong>
+-------------------+
| CURRENT_ROLE()    |
+-------------------+
| `r1`@`%`,`r2`@`%` |
+-------------------+
mysql&gt; <strong class="userinput"><code>SET ROLE &#39;r1&#39;; SELECT CURRENT_ROLE();</code></strong>
+----------------+
| CURRENT_ROLE() |
+----------------+
| `r1`@`%`       |
+----------------+
</pre></li><li class="listitem"><a id="function_current-user"></a><p>
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER</code></a>,
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>
        </p><a id="idm45828925169248" class="indexterm"></a><p>
          Returns the user name and host name combination for the MySQL
          account that the server used to authenticate the current
          client. This account determines your access privileges. The
          return value is a string in the <code class="literal">utf8mb3</code>
          character set.
        </p><p>
          The value of <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> can
          differ from the value of
          <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT USER();</code></strong>
        -&gt; &#39;davida@localhost&#39;
mysql&gt; <strong class="userinput"><code>SELECT * FROM mysql.user;</code></strong>
ERROR 1044: Access denied for user &#39;&#39;@&#39;localhost&#39; to
database &#39;mysql&#39;
mysql&gt; <strong class="userinput"><code>SELECT CURRENT_USER();</code></strong>
        -&gt; &#39;@localhost&#39;
</pre><p>
          The example illustrates that although the client specified a
          user name of <code class="literal">davida</code> (as indicated by the
          value of the <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a> function),
          the server authenticated the client using an anonymous user
          account (as seen by the empty user name part of the
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> value). One way
          this might occur is that there is no account listed in the
          grant tables for <code class="literal">davida</code>.
        </p><p>
          Within a stored program or view,
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> returns the
          account for the user who defined the object (as given by its
          <code class="literal">DEFINER</code> value) unless defined with the
          <code class="literal">SQL SECURITY INVOKER</code> characteristic. In the
          latter case, <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>
          returns the object&#39;s invoker.
        </p><p>
          Triggers and events have no option to define the <code class="literal">SQL
          SECURITY</code> characteristic, so for these objects,
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> returns the
          account for the user who defined the object. To return the
          invoker, use <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a> or
          <a class="link" href="information-functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a>.
        </p><p>
          The following statements support use of the
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> function to take
          the place of the name of (and, possibly, a host for) an
          affected user or a definer; in such cases,
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> is expanded
          where and as needed:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <a class="link" href="drop-user.html" title="13.7.1.5&nbsp;DROP USER Statement"><code class="literal">DROP USER</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="rename-user.html" title="13.7.1.7&nbsp;RENAME USER Statement"><code class="literal">RENAME USER</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="grant.html" title="13.7.1.6&nbsp;GRANT Statement"><code class="literal">GRANT</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="revoke.html" title="13.7.1.8&nbsp;REVOKE Statement"><code class="literal">REVOKE</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="create-function.html" title="13.1.14&nbsp;CREATE FUNCTION Statement"><code class="literal">CREATE FUNCTION</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="create-procedure.html" title="13.1.17&nbsp;CREATE PROCEDURE and CREATE FUNCTION Statements"><code class="literal">CREATE PROCEDURE</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="create-trigger.html" title="13.1.22&nbsp;CREATE TRIGGER Statement"><code class="literal">CREATE TRIGGER</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="create-event.html" title="13.1.13&nbsp;CREATE EVENT Statement"><code class="literal">CREATE EVENT</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="create-view.html" title="13.1.23&nbsp;CREATE VIEW Statement"><code class="literal">CREATE VIEW</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="alter-event.html" title="13.1.3&nbsp;ALTER EVENT Statement"><code class="literal">ALTER EVENT</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="alter-view.html" title="13.1.11&nbsp;ALTER VIEW Statement"><code class="literal">ALTER VIEW</code></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="set-password.html" title="13.7.1.10&nbsp;SET PASSWORD Statement"><code class="literal">SET PASSWORD</code></a>
            </p></li></ul></div><p>
          For information about the implications that this expansion of
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> has for
          replication, see
          <a class="xref" href="replication-features-current-user.html" title="17.5.1.8&nbsp;Replication of CURRENT_USER()">Section&nbsp;17.5.1.8, &ldquo;Replication of CURRENT_USER()&rdquo;</a>.
        </p><p>
          Beginning with MySQL 8.0.34, this function can be used for the
          default value of a <a class="link" href="char.html" title="11.3.2&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or
          <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column, as shown in the
          following <a class="link" href="create-table.html" title="13.1.20&nbsp;CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a>
          statement:
        </p><pre class="programlisting">CREATE TABLE t (c VARCHAR(288) DEFAULT (CURRENT_USER()));
</pre></li><li class="listitem"><a id="function_database"></a><p>
          <a class="link" href="information-functions.html#function_database"><code class="literal">DATABASE()</code></a>
        </p><a id="idm45828925104480" class="indexterm"></a><p>
          Returns the default (current) database name as a string in the
          <code class="literal">utf8mb3</code> character set. If there is no
          default database, <a class="link" href="information-functions.html#function_database"><code class="literal">DATABASE()</code></a>
          returns <code class="literal">NULL</code>. Within a stored routine, the
          default database is the database that the routine is
          associated with, which is not necessarily the same as the
          database that is the default in the calling context.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATABASE();</code></strong>
        -&gt; &#39;test&#39;
</pre><p>
          If there is no default database,
          <a class="link" href="information-functions.html#function_database"><code class="literal">DATABASE()</code></a> returns
          <code class="literal">NULL</code>.
        </p></li><li class="listitem"><a id="function_found-rows"></a><p>
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a>
        </p><a id="idm45828925089392" class="indexterm"></a><a id="idm45828925088320" class="indexterm"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
            The <code class="literal">SQL_CALC_FOUND_ROWS</code> query modifier
            and accompanying <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a>
            function are deprecated as of MySQL 8.0.17; expect them to
            be removed in a future version of MySQL. As a replacement,
            considering executing your query with
            <code class="literal">LIMIT</code>, and then a second query with
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(*)</code></a> and without
            <code class="literal">LIMIT</code> to determine whether there are
            additional rows. For example, instead of these queries:
          </p><pre class="programlisting">SELECT SQL_CALC_FOUND_ROWS * FROM <em class="replaceable"><code>tbl_name</code></em> WHERE id &gt; 100 LIMIT 10;
SELECT FOUND_ROWS();
</pre><p>
            Use these queries instead:
          </p><pre class="programlisting">SELECT * FROM <em class="replaceable"><code>tbl_name</code></em> WHERE id &gt; 100 LIMIT 10;
SELECT COUNT(*) FROM <em class="replaceable"><code>tbl_name</code></em> WHERE id &gt; 100;
</pre><p>
            <a class="link" href="aggregate-functions.html#function_count"><code class="literal">COUNT(*)</code></a> is subject to
            certain optimizations.
            <code class="literal">SQL_CALC_FOUND_ROWS</code> causes some
            optimizations to be disabled.
          </p></div><p>
          A <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement may include
          a <code class="literal">LIMIT</code> clause to restrict the number of
          rows the server returns to the client. In some cases, it is
          desirable to know how many rows the statement would have
          returned without the <code class="literal">LIMIT</code>, but without
          running the statement again. To obtain this row count, include
          an <code class="literal">SQL_CALC_FOUND_ROWS</code> option in the
          <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement, and then
          invoke <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> afterward:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SQL_CALC_FOUND_ROWS * FROM <em class="replaceable"><code>tbl_name</code></em></code></strong>
    -&gt; <strong class="userinput"><code>WHERE id &gt; 100 LIMIT 10;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT FOUND_ROWS();</code></strong>
</pre><p>
          The second <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> returns a
          number indicating how many rows the first
          <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> would have returned had
          it been written without the <code class="literal">LIMIT</code> clause.
        </p><p>
          In the absence of the <code class="literal">SQL_CALC_FOUND_ROWS</code>
          option in the most recent successful
          <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement,
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returns the number
          of rows in the result set returned by that statement. If the
          statement includes a <code class="literal">LIMIT</code> clause,
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returns the number
          of rows up to the limit. For example,
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returns 10 or 60,
          respectively, if the statement includes <code class="literal">LIMIT
          10</code> or <code class="literal">LIMIT 50, 10</code>.
        </p><p>
          The row count available through
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is transient and
          not intended to be available past the statement following the
          <code class="literal">SELECT SQL_CALC_FOUND_ROWS</code> statement. If
          you need to refer to the value later, save it:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SQL_CALC_FOUND_ROWS * FROM ... ;</code></strong>
mysql&gt; <strong class="userinput"><code>SET @rows = FOUND_ROWS();</code></strong>
</pre><p>
          If you are using <code class="literal">SELECT
          SQL_CALC_FOUND_ROWS</code>, MySQL must calculate how many
          rows are in the full result set. However, this is faster than
          running the query again without <code class="literal">LIMIT</code>,
          because the result set need not be sent to the client.
        </p><p>
          <code class="literal">SQL_CALC_FOUND_ROWS</code> and
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> can be useful in
          situations when you want to restrict the number of rows that a
          query returns, but also determine the number of rows in the
          full result set without running the query again. An example is
          a Web script that presents a paged display containing links to
          the pages that show other sections of a search result. Using
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> enables you to
          determine how many other pages are needed for the rest of the
          result.
        </p><p>
          The use of <code class="literal">SQL_CALC_FOUND_ROWS</code> and
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is more complex
          for <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a> statements than for
          simple <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statements,
          because <code class="literal">LIMIT</code> may occur at multiple places
          in a <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a>. It may be applied
          to individual <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statements
          in the <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a>, or global to the
          <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a> result as a whole.
        </p><p>
          The intent of <code class="literal">SQL_CALC_FOUND_ROWS</code> for
          <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a> is that it should return
          the row count that would be returned without a global
          <code class="literal">LIMIT</code>. The conditions for use of
          <code class="literal">SQL_CALC_FOUND_ROWS</code> with
          <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a> are:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The <code class="literal">SQL_CALC_FOUND_ROWS</code> keyword must
              appear in the first <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a>
              of the <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a>.
            </p></li><li class="listitem"><p>
              The value of <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a>
              is exact only if
              <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION ALL</code></a>
              is used. If <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a> without
              <code class="literal">ALL</code> is used, duplicate removal occurs
              and the value of
              <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is only
              approximate.
            </p></li><li class="listitem"><p>
              If no <code class="literal">LIMIT</code> is present in the
              <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a>,
              <code class="literal">SQL_CALC_FOUND_ROWS</code> is ignored and
              returns the number of rows in the temporary table that is
              created to process the
              <a class="link" href="union.html" title="13.2.18&nbsp;UNION Clause"><code class="literal">UNION</code></a>.
            </p></li></ul></div><p>
          Beyond the cases described here, the behavior of
          <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is undefined (for
          example, its value following a
          <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement that fails
          with an error).
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
            <a class="link" href="information-functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is not
            replicated reliably using statement-based replication. This
            function is automatically replicated using row-based
            replication.
          </p></div></li><li class="listitem"><a id="function_icu-version"></a><p>
          <a class="link" href="information-functions.html#function_icu-version"><code class="literal">ICU_VERSION()</code></a>
        </p><a id="idm45828924998560" class="indexterm"></a><p>
          The version of the International Components for Unicode (ICU)
          library used to support regular expression operations (see
          <a class="xref" href="regexp.html" title="12.8.2&nbsp;Regular Expressions">Section&nbsp;12.8.2, &ldquo;Regular Expressions&rdquo;</a>). This function is primarily intended
          for use in test cases.
        </p></li><li class="listitem"><a id="function_last-insert-id"></a><p>
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>,
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID(<em class="replaceable"><code>expr</code></em>)</code></a>
        </p><a id="idm45828924989584" class="indexterm"></a><p>
          With no argument,
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> returns a
          <code class="literal">BIGINT UNSIGNED</code> (64-bit) value representing
          the first automatically generated value successfully inserted
          for an <code class="literal">AUTO_INCREMENT</code> column as a result of
          the most recently executed
          <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a> statement. The value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> remains
          unchanged if no rows are successfully inserted.
        </p><p>
          With an argument,
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> returns an
          unsigned integer, or <code class="literal">NULL</code> if the argument
          is <code class="literal">NULL</code>.
        </p><p>
          For example, after inserting a row that generates an
          <code class="literal">AUTO_INCREMENT</code> value, you can get the value
          like this:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
        -&gt; 195
</pre><p>
          The currently executing statement does not affect the value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>. Suppose that
          you generate an <code class="literal">AUTO_INCREMENT</code> value with
          one statement, and then refer to
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> in a
          multiple-row <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a> statement
          that inserts rows into a table with its own
          <code class="literal">AUTO_INCREMENT</code> column. The value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> remains stable
          in the second statement; its value for the second and later
          rows is not affected by the earlier row insertions. (You
          should be aware that, if you mix references to
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> and
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID(<em class="replaceable"><code>expr</code></em>)</code></a>,
          the effect is undefined.)
        </p><p>
          If the previous statement returned an error, the value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> is undefined.
          For transactional tables, if the statement is rolled back due
          to an error, the value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> is left
          undefined. For manual
          <a class="link" href="commit.html" title="13.3.1&nbsp;START TRANSACTION, COMMIT, and ROLLBACK Statements"><code class="literal">ROLLBACK</code></a>,
          the value of <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
          is not restored to that before the transaction; it remains as
          it was at the point of the
          <a class="link" href="commit.html" title="13.3.1&nbsp;START TRANSACTION, COMMIT, and ROLLBACK Statements"><code class="literal">ROLLBACK</code></a>.
        </p><p>
          Within the body of a stored routine (procedure or function) or
          a trigger, the value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> changes the
          same way as for statements executed outside the body of these
          kinds of objects. The effect of a stored routine or trigger
          upon the value of
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> that is seen
          by following statements depends on the kind of routine:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              If a stored procedure executes statements that change the
              value of <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>,
              the changed value is seen by statements that follow the
              procedure call.
            </p></li><li class="listitem"><p>
              For stored functions and triggers that change the value,
              the value is restored when the function or trigger ends,
              so statements coming after it do not see a changed value.
            </p></li></ul></div><p>
          The ID that was generated is maintained in the server on a
          <span class="emphasis"><em>per-connection basis</em></span>. This means that the
          value returned by the function to a given client is the first
          <code class="literal">AUTO_INCREMENT</code> value generated for most
          recent statement affecting an
          <code class="literal">AUTO_INCREMENT</code> column <span class="emphasis"><em>by that
          client</em></span>. This value cannot be affected by other
          clients, even if they generate
          <code class="literal">AUTO_INCREMENT</code> values of their own. This
          behavior ensures that each client can retrieve its own ID
          without concern for the activity of other clients, and without
          the need for locks or transactions.
        </p><p>
          The value of <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
          is not changed if you set the
          <code class="literal">AUTO_INCREMENT</code> column of a row to a
          non-<span class="quote">&ldquo;<span class="quote">magic</span>&rdquo;</span> value (that is, a value that is not
          <code class="literal">NULL</code> and not <code class="literal">0</code>).
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
            If you insert multiple rows using a single
            <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a> statement,
            <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> returns the
            value generated for the <span class="emphasis"><em>first</em></span> inserted
            row <span class="emphasis"><em>only</em></span>. The reason for this is to
            make it possible to reproduce easily the same
            <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a> statement against some
            other server.
          </p></div><p>
          For example:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE test;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLE t (</code></strong>
       <strong class="userinput"><code>id INT AUTO_INCREMENT NOT NULL PRIMARY KEY,</code></strong>
       <strong class="userinput"><code>name VARCHAR(10) NOT NULL</code></strong>
       <strong class="userinput"><code>);</code></strong>

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (NULL, &#39;Bob&#39;);</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT * FROM t;</code></strong>
+----+------+
| id | name |
+----+------+
|  1 | Bob  |
+----+------+

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                1 |
+------------------+

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES</code></strong>
       <strong class="userinput"><code>(NULL, &#39;Mary&#39;), (NULL, &#39;Jane&#39;), (NULL, &#39;Lisa&#39;);</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT * FROM t;</code></strong>
+----+------+
| id | name |
+----+------+
|  1 | Bob  |
|  2 | Mary |
|  3 | Jane |
|  4 | Lisa |
+----+------+

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                2 |
+------------------+
</pre><p>
          Although the second <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a>
          statement inserted three new rows into <code class="literal">t</code>,
          the ID generated for the first of these rows was
          <code class="literal">2</code>, and it is this value that is returned by
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> for the
          following <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement.
        </p><p>
          If you use <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT
          IGNORE</code></a> and the row is ignored, the
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> remains
          unchanged from the current value (or 0 is returned if the
          connection has not yet performed a successful
          <code class="literal">INSERT</code>) and, for non-transactional tables,
          the <code class="literal">AUTO_INCREMENT</code> counter is not
          incremented. For <code class="literal">InnoDB</code> tables, the
          <code class="literal">AUTO_INCREMENT</code> counter is incremented if
          <a class="link" href="innodb-parameters.html#sysvar_innodb_autoinc_lock_mode"><code class="literal">innodb_autoinc_lock_mode</code></a> is
          set to <code class="literal">1</code> or <code class="literal">2</code>, as
          demonstrated in the following example:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE test;</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT @@innodb_autoinc_lock_mode;</code></strong>
+----------------------------+
| @@innodb_autoinc_lock_mode |
+----------------------------+
|                          1 |
+----------------------------+

mysql&gt; <strong class="userinput"><code>CREATE TABLE `t` (</code></strong>
       <strong class="userinput"><code>`id` INT(11) NOT NULL AUTO_INCREMENT,</code></strong>
       <strong class="userinput"><code>`val` INT(11) DEFAULT NULL,</code></strong>
       <strong class="userinput"><code>PRIMARY KEY (`id`),</code></strong>
       <strong class="userinput"><code>UNIQUE KEY `i1` (`val`)</code></strong>
       <strong class="userinput"><code>) ENGINE=InnoDB DEFAULT CHARSET=latin1;</code></strong>

# Insert two rows

mysql&gt; <strong class="userinput"><code>INSERT INTO t (val) VALUES (1),(2);</code></strong>

# With auto_increment_offset=1, the inserted rows
# result in an AUTO_INCREMENT value of 3

mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE t\G</code></strong>
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE `t` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `val` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `i1` (`val`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1

# LAST_INSERT_ID() returns the first automatically generated
# value that is successfully inserted for the AUTO_INCREMENT column

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                1 |
+------------------+

# The attempted insertion of duplicate rows fail but errors are ignored

mysql&gt; <strong class="userinput"><code>INSERT IGNORE INTO t (val) VALUES (1),(2);</code></strong>
Query OK, 0 rows affected (0.00 sec)
Records: 2  Duplicates: 2  Warnings: 0

# With innodb_autoinc_lock_mode=1, the AUTO_INCREMENT counter
# is incremented for the ignored rows

mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE t\G</code></strong>
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE `t` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `val` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `i1` (`val`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1

# The LAST_INSERT_ID is unchanged because the previous insert was unsuccessful

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                1 |
+------------------+
</pre><p>
          For more information, see
          <a class="xref" href="innodb-auto-increment-handling.html" title="15.6.1.6&nbsp;AUTO_INCREMENT Handling in InnoDB">Section&nbsp;15.6.1.6, &ldquo;AUTO_INCREMENT Handling in InnoDB&rdquo;</a>.
        </p><a id="idm45828924897184" class="indexterm"></a><p>
          If <em class="replaceable"><code>expr</code></em> is given as an argument to
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, the value of
          the argument is returned by the function and is remembered as
          the next value to be returned by
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>. This can be
          used to simulate sequences:
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              Create a table to hold the sequence counter and initialize
              it:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE sequence (id INT NOT NULL);</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO sequence VALUES (0);</code></strong>
</pre></li><li class="listitem"><p>
              Use the table to generate sequence numbers like this:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>UPDATE sequence SET id=LAST_INSERT_ID(id+1);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
</pre><p>
              The <a class="link" href="update.html" title="13.2.17&nbsp;UPDATE Statement"><code class="literal">UPDATE</code></a> statement
              increments the sequence counter and causes the next call
              to <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to
              return the updated value. The
              <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement retrieves
              that value. The
              <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-insert-id.html" target="_top"><code class="literal">mysql_insert_id()</code></a> C API
              function can also be used to get the value. See
              <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-insert-id.html" target="_top">mysql_insert_id()</a>.
            </p></li></ol></div><p>
          You can generate sequences without calling
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, but the
          utility of using the function this way is that the ID value is
          maintained in the server as the last automatically generated
          value. It is multi-user safe because multiple clients can
          issue the <a class="link" href="update.html" title="13.2.17&nbsp;UPDATE Statement"><code class="literal">UPDATE</code></a> statement and
          get their own sequence value with the
          <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> statement (or
          <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-insert-id.html" target="_top"><code class="literal">mysql_insert_id()</code></a>), without
          affecting or being affected by other clients that generate
          their own sequence values.
        </p><p>
          Note that <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-insert-id.html" target="_top"><code class="literal">mysql_insert_id()</code></a> is
          only updated after <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a> and
          <a class="link" href="update.html" title="13.2.17&nbsp;UPDATE Statement"><code class="literal">UPDATE</code></a> statements, so you
          cannot use the C API function to retrieve the value for
          <a class="link" href="information-functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID(<em class="replaceable"><code>expr</code></em>)</code></a>
          after executing other SQL statements like
          <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a> or
          <a class="link" href="set-variable.html" title="13.7.6.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>.
        </p></li><li class="listitem"><a id="function_roles-graphml"></a><p>
          <a class="link" href="information-functions.html#function_roles-graphml"><code class="literal">ROLES_GRAPHML()</code></a>
        </p><a id="idm45828924860448" class="indexterm"></a><p>
          Returns a <code class="literal">utf8mb3</code> string containing a
          GraphML document representing memory role subgraphs. The
          <a class="link" href="privileges-provided.html#priv_role-admin"><code class="literal">ROLE_ADMIN</code></a> privilege (or the
          deprecated <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a> privilege) is
          required to see content in the
          <code class="literal">&lt;graphml&gt;</code> element. Otherwise, the
          result shows only an empty element:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROLES_GRAPHML();</code></strong>
+---------------------------------------------------+
| ROLES_GRAPHML()                                   |
+---------------------------------------------------+
| &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;graphml /&gt; |
+---------------------------------------------------+
</pre></li><li class="listitem"><a id="function_row-count"></a><p>
          <a class="link" href="information-functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a>
        </p><a id="idm45828924847904" class="indexterm"></a><p>
          <code class="literal">ROW_COUNT()</code> returns a value as follows:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              DDL statements: 0. This applies to statements such as
              <a class="link" href="create-table.html" title="13.1.20&nbsp;CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a> or
              <a class="link" href="drop-table.html" title="13.1.32&nbsp;DROP TABLE Statement"><code class="literal">DROP TABLE</code></a>.
            </p></li><li class="listitem"><p>
              DML statements other than
              <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a>: The number of
              affected rows. This applies to statements such as
              <a class="link" href="update.html" title="13.2.17&nbsp;UPDATE Statement"><code class="literal">UPDATE</code></a>,
              <a class="link" href="insert.html" title="13.2.7&nbsp;INSERT Statement"><code class="literal">INSERT</code></a>, or
              <a class="link" href="delete.html" title="13.2.2&nbsp;DELETE Statement"><code class="literal">DELETE</code></a> (as before), but now
              also to statements such as <a class="link" href="alter-table.html" title="13.1.9&nbsp;ALTER TABLE Statement"><code class="literal">ALTER
              TABLE</code></a> and <a class="link" href="load-data.html" title="13.2.9&nbsp;LOAD DATA Statement"><code class="literal">LOAD
              DATA</code></a>.
            </p></li><li class="listitem"><p>
              <a class="link" href="select.html" title="13.2.13&nbsp;SELECT Statement"><code class="literal">SELECT</code></a>: -1 if the statement
              returns a result set, or the number of rows
              <span class="quote">&ldquo;<span class="quote">affected</span>&rdquo;</span> if it does not. For example, for
              <code class="literal">SELECT * FROM t1</code>,
              <a class="link" href="information-functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> returns -1. For
              <code class="literal">SELECT * FROM t1 INTO OUTFILE
              &#39;<em class="replaceable"><code>file_name</code></em>&#39;</code>,
              <a class="link" href="information-functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> returns the
              number of rows written to the file.
            </p></li><li class="listitem"><p>
              <a class="link" href="signal.html" title="13.6.7.5&nbsp;SIGNAL Statement"><code class="literal">SIGNAL</code></a> statements: 0.
            </p></li></ul></div><p>
          For <a class="link" href="update.html" title="13.2.17&nbsp;UPDATE Statement"><code class="literal">UPDATE</code></a> statements, the
          affected-rows value by default is the number of rows actually
          changed. If you specify the
          <code class="literal">CLIENT_FOUND_ROWS</code> flag to
          <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-real-connect.html" target="_top"><code class="literal">mysql_real_connect()</code></a> when
          connecting to <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, the affected-rows
          value is the number of rows <span class="quote">&ldquo;<span class="quote">found</span>&rdquo;</span>; that is,
          matched by the <code class="literal">WHERE</code> clause.
        </p><p>
          For <a class="link" href="replace.html" title="13.2.12&nbsp;REPLACE Statement"><code class="literal">REPLACE</code></a> statements, the
          affected-rows value is 2 if the new row replaced an old row,
          because in this case, one row was inserted after the duplicate
          was deleted.
        </p><p>
          For
          <a class="link" href="insert-on-duplicate.html" title="13.2.7.2&nbsp;INSERT ... ON DUPLICATE KEY UPDATE Statement"><code class="literal">INSERT
          ... ON DUPLICATE KEY UPDATE</code></a> statements, the
          affected-rows value per row is 1 if the row is inserted as a
          new row, 2 if an existing row is updated, and 0 if an existing
          row is set to its current values. If you specify the
          <code class="literal">CLIENT_FOUND_ROWS</code> flag, the affected-rows
          value is 1 (not 0) if an existing row is set to its current
          values.
        </p><p>
          The <a class="link" href="information-functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> value is
          similar to the value from the
          <a class="ulink" href="https://docs.oracle.com/cd/E17952_01/c-api-8.0-en/mysql-affected-rows.html" target="_top"><code class="literal">mysql_affected_rows()</code></a> C API
          function and the row count that the <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>
          client displays following statement execution.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES(1),(2),(3);</code></strong>
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT ROW_COUNT();</code></strong>
+-------------+
| ROW_COUNT() |
+-------------+
|           3 |
+-------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>DELETE FROM t WHERE i IN(1,2);</code></strong>
Query OK, 2 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ROW_COUNT();</code></strong>
+-------------+
| ROW_COUNT() |
+-------------+
|           2 |
+-------------+
1 row in set (0.00 sec)
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p>
            <a class="link" href="information-functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> is not replicated
            reliably using statement-based replication. This function is
            automatically replicated using row-based replication.
          </p></div></li><li class="listitem"><a id="function_schema"></a><p>
          <a class="link" href="information-functions.html#function_schema"><code class="literal">SCHEMA()</code></a>
        </p><a id="idm45828924795712" class="indexterm"></a><p>
          This function is a synonym for
          <a class="link" href="information-functions.html#function_database"><code class="literal">DATABASE()</code></a>.
        </p></li><li class="listitem"><a id="function_session-user"></a><p>
          <a class="link" href="information-functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a>
        </p><a id="idm45828924786944" class="indexterm"></a><p>
          <a class="link" href="information-functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a> is a synonym for
          <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a>.
        </p><p>
          Beginning with MySQL 8.0.34, like
          <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a>, this function can be
          used for the default value of a
          <a class="link" href="char.html" title="11.3.2&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or
          <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column, as shown in the
          following <a class="link" href="create-table.html" title="13.1.20&nbsp;CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a>
          statement:
        </p><pre class="programlisting">CREATE TABLE t (c VARCHAR(288) DEFAULT (SESSION_USER()));
</pre></li><li class="listitem"><a id="function_system-user"></a><p>
          <a class="link" href="information-functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a>
        </p><a id="idm45828924770528" class="indexterm"></a><p>
          <a class="link" href="information-functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a> is a synonym for
          <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a>.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
            The <a class="link" href="information-functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a> function is
            distinct from the <a class="link" href="privileges-provided.html#priv_system-user"><code class="literal">SYSTEM_USER</code></a>
            privilege. The former returns the current MySQL account
            name. The latter distinguishes the system user and regular
            user account categories (see
            <a class="xref" href="account-categories.html" title="6.2.11&nbsp;Account Categories">Section&nbsp;6.2.11, &ldquo;Account Categories&rdquo;</a>).
          </p></div><p>
          Beginning with MySQL 8.0.34, like
          <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a>, this function can be
          used for the default value of a
          <a class="link" href="char.html" title="11.3.2&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or
          <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column, as shown in the
          following <a class="link" href="create-table.html" title="13.1.20&nbsp;CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a>
          statement:
        </p><pre class="programlisting">CREATE TABLE t (c VARCHAR(288) DEFAULT (SYSTEM_USER()));
</pre></li><li class="listitem"><a id="function_user"></a><p>
          <a class="link" href="information-functions.html#function_user"><code class="literal">USER()</code></a>
        </p><a id="idm45828924749968" class="indexterm"></a><p>
          Returns the current MySQL user name and host name as a string
          in the <code class="literal">utf8mb3</code> character set.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT USER();</code></strong>
        -&gt; &#39;davida@localhost&#39;
</pre><p>
          The value indicates the user name you specified when
          connecting to the server, and the client host from which you
          connected. The value can be different from that of
          <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
        </p><p>
          Beginning with MySQL 8.0.34, this function can be used for the
          default value of a <a class="link" href="char.html" title="11.3.2&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or
          <a class="link" href="blob.html" title="11.3.4&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column, as shown in the
          following <a class="link" href="create-table.html" title="13.1.20&nbsp;CREATE TABLE Statement"><code class="literal">CREATE TABLE</code></a>
          statement:
        </p><pre class="programlisting">CREATE TABLE t (c VARCHAR(288) DEFAULT (USER()));
</pre></li><li class="listitem"><a id="function_version"></a><p>
          <a class="link" href="information-functions.html#function_version"><code class="literal">VERSION()</code></a>
        </p><a id="idm45828924732368" class="indexterm"></a><p>
          Returns a string that indicates the MySQL server version. The
          string uses the <code class="literal">utf8mb3</code> character set. The
          value might have a suffix in addition to the version number.
          See the description of the
          <a class="link" href="server-system-variables.html#sysvar_version"><code class="literal">version</code></a> system variable in
          <a class="xref" href="server-system-variables.html" title="5.1.8&nbsp;Server System Variables">Section&nbsp;5.1.8, &ldquo;Server System Variables&rdquo;</a>.
        </p><p>
          This function is unsafe for statement-based replication. A
          warning is logged if you use this function when
          <a class="link" href="replication-options-binary-log.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
          <code class="literal">STATEMENT</code>.
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT VERSION();</code></strong>
        -&gt; &#39;8.0.33-standard&#39;
</pre></li></ul></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="locking-functions.html">Previous <span class="navHint"> Locking Functions </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="functions.html">Up <span class="navHint"> Functions and Operators </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="spatial-analysis-functions.html">Next <span class="navHint"> Spatial Analysis Functions </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>