<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><a class="dashingAutolink" name="autolink-589"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/2.9.4%C2%A0Securing%20the%20Initial%20MySQL%20Account"></a><title>2.9.4&nbsp;Securing the Initial MySQL Account</title><link rel="stylesheet" type="text/css" href="mvl-otn.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="home" href="performance-schema" title="MySQL 8.0 Reference Manual"/><link rel="up" href="postinstallation.html" title="2.9&nbsp;Postinstallation Setup and Testing"/><link rel="prev" href="testing-server.html" title="2.9.3&nbsp;Testing the Server"/><link rel="next" href="automatic-start.html" title="2.9.5&nbsp;Starting and Stopping MySQL Automatically"/><script>window.ohcglobal || document.write('<script src="../../../en/dcommon/js/global.js">\x3C/script>')</script></head><body><div class="skip-link"><a href="default-privileges.html#default-privileges">Skip to Main Content</a></div><div class="DocTitle"><p>MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0</p></div><div class="navigation"><ul><li class="navLinkPrevious"><a accesskey="p" title="Go To Previous Page&nbsp;[access key: p]" href="testing-server.html">Previous <span class="navHint"> Testing the Server </span></a></li><li class="navLinkHome"><a accesskey="h" title="Go To Home Page&nbsp;[access key: h]" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a accesskey="u" title="Go Up A Level In The Navigation&nbsp;[access key: u]" href="postinstallation.html">Up <span class="navHint"> Postinstallation Setup and Testing </span></a></li><li class="navLinkNext"><a accesskey="n" title="Go To Next Page&nbsp;[access key: n]" href="automatic-start.html">Next <span class="navHint"> Starting and Stopping MySQL Automatically </span></a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="default-privileges"></a>2.9.4&nbsp;Securing the Initial MySQL Account</h3></div></div></div><a id="idm45829052597968" class="indexterm"></a><a id="idm45829052596512" class="indexterm"></a><a id="idm45829052595024" class="indexterm"></a><a id="idm45829052593952" class="indexterm"></a><a id="idm45829052592880" class="indexterm"></a><a id="idm45829052591392" class="indexterm"></a><a id="idm45829052590320" class="indexterm"></a><a id="idm45829052588832" class="indexterm"></a><a id="idm45829052587344" class="indexterm"></a><a id="idm45829052585856" class="indexterm"></a><a id="idm45829052584368" class="indexterm"></a><a id="idm45829052582880" class="indexterm"></a><a id="idm45829052581392" class="indexterm"></a><a id="idm45829052579904" class="indexterm"></a><a id="idm45829052578416" class="indexterm"></a><a id="idm45829052576928" class="indexterm"></a><a id="idm45829052575440" class="indexterm"></a><a id="idm45829052573952" class="indexterm"></a><a id="idm45829052572464" class="indexterm"></a><a id="idm45829052570976" class="indexterm"></a><p>
      The MySQL installation process involves initializing the data
      directory, including the grant tables in the
      <code class="literal">mysql</code> system schema that define MySQL accounts.
      For details, see <a class="xref" href="data-directory-initialization.html" title="2.9.1&nbsp;Initializing the Data Directory">Section&nbsp;2.9.1, &ldquo;Initializing the Data Directory&rdquo;</a>.
    </p><p>
      This section describes how to assign a password to the initial
      <code class="literal">root</code> account created during the MySQL
      installation procedure, if you have not already done so.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
        Alternative means for performing the process described in this
        section:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            On Windows, you can perform the process during installation
            with MySQL Installer (see <a class="xref" href="mysql-installer.html" title="2.3.3&nbsp;MySQL Installer for Windows">Section&nbsp;2.3.3, &ldquo;MySQL Installer for Windows&rdquo;</a>).
          </p></li><li class="listitem"><p>
            On all platforms, the MySQL distribution includes
            <a class="link" href="mysql-secure-installation.html" title="4.4.2&nbsp;mysql_secure_installation &mdash; Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a>, a command-line
            utility that automates much of the process of securing a
            MySQL installation.
          </p></li><li class="listitem"><p>
            On all platforms, MySQL Workbench is available and offers the
            ability to manage user accounts (see
            <a class="xref" href="workbench.html" title="Chapter&nbsp;31&nbsp;MySQL Workbench">Chapter&nbsp;31, <em>MySQL Workbench</em></a> ).
          </p></li></ul></div></div><p>
      A password may already be assigned to the initial account under
      these circumstances:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          On Windows, installations performed using MySQL Installer give you the
          option of assigning a password.
        </p></li><li class="listitem"><p>
          Installation using the macOS installer generates an initial
          random password, which the installer displays to the user in a
          dialog box.
        </p></li><li class="listitem"><p>
          Installation using RPM packages generates an initial random
          password, which is written to the server error log.
        </p></li><li class="listitem"><p>
          Installations using Debian packages give you the option of
          assigning a password.
        </p></li><li class="listitem"><p>
          For data directory initialization performed manually using
          <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld --initialize</strong></span></a>,
          <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> generates an initial random
          password, marks it expired, and writes it to the server error
          log. See <a class="xref" href="data-directory-initialization.html" title="2.9.1&nbsp;Initializing the Data Directory">Section&nbsp;2.9.1, &ldquo;Initializing the Data Directory&rdquo;</a>.
        </p></li></ul></div><p>
      The <code class="literal">mysql.user</code> grant table defines the initial
      MySQL user account and its access privileges. Installation of
      MySQL creates only a <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code>
      superuser account that has all privileges and can do anything. If
      the <code class="literal">root</code> account has an empty password, your
      MySQL installation is unprotected: Anyone can connect to the MySQL
      server as <code class="literal">root</code> <span class="emphasis"><em>without a
      password</em></span> and be granted all privileges.
    </p><p>
      The <code class="literal">&#39;root&#39;@&#39;localhost&#39;</code> account also has a row
      in the <code class="literal">mysql.proxies_priv</code> table that enables
      granting the <a class="link" href="privileges-provided.html#priv_proxy"><code class="literal">PROXY</code></a> privilege for
      <code class="literal">&#39;&#39;@&#39;&#39;</code>, that is, for all users and all hosts.
      This enables <code class="literal">root</code> to set up proxy users, as
      well as to delegate to other accounts the authority to set up
      proxy users. See <a class="xref" href="proxy-users.html" title="6.2.19&nbsp;Proxy Users">Section&nbsp;6.2.19, &ldquo;Proxy Users&rdquo;</a>.
    </p><p>
      To assign a password for the initial MySQL <code class="literal">root</code>
      account, use the following procedure. Replace
      <em class="replaceable"><code>root-password</code></em> in the examples with the
      password that you want to use.
    </p><p>
      Start the server if it is not running. For instructions, see
      <a class="xref" href="starting-server.html" title="2.9.2&nbsp;Starting the Server">Section&nbsp;2.9.2, &ldquo;Starting the Server&rdquo;</a>.
    </p><p>
      The initial <code class="literal">root</code> account may or may not have a
      password. Choose whichever of the following procedures applies:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If the <code class="literal">root</code> account exists with an initial
          random password that has been expired, connect to the server
          as <code class="literal">root</code> using that password, then choose a
          new password. This is the case if the data directory was
          initialized using <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld --initialize</strong></span></a>,
          either manually or using an installer that does not give you
          the option of specifying a password during the install
          operation. Because the password exists, you must use it to
          connect to the server. But because the password is expired,
          you cannot use the account for any purpose other than to
          choose a new password, until you do choose one.
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              If you do not know the initial random password, look in
              the server error log.
            </p></li><li class="listitem"><p>
              Connect to the server as <code class="literal">root</code> using the
              password:
            </p><pre class="programlisting">$&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter the random root password here)</code></em>
</pre></li><li class="listitem"><p>
              Choose a new password to replace the random password:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;<em class="replaceable"><code>root-password</code></em>&#39;;</code></strong>
</pre></li></ol></div></li><li class="listitem"><p>
          If the <code class="literal">root</code> account exists but has no
          password, connect to the server as <code class="literal">root</code>
          using no password, then assign a password. This is the case if
          you initialized the data directory using <a class="link" href="mysqld.html" title="4.3.1&nbsp;mysqld &mdash; The MySQL Server"><span class="command"><strong>mysqld
          --initialize-insecure</strong></span></a>.
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              Connect to the server as <code class="literal">root</code> using no
              password:
            </p><pre class="programlisting">$&gt; <strong class="userinput"><code>mysql -u root --skip-password</code></strong>
</pre></li><li class="listitem"><p>
              Assign a password:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;<em class="replaceable"><code>root-password</code></em>&#39;;</code></strong>
</pre></li></ol></div></li></ul></div><p>
      After assigning the <code class="literal">root</code> account a password,
      you must supply that password whenever you connect to the server
      using the account. For example, to connect to the server using the
      <a class="link" href="mysql.html" title="4.5.1&nbsp;mysql &mdash; The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, use this command:
    </p><pre class="programlisting">$&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      To shut down the server with <a class="link" href="mysqladmin.html" title="4.5.2&nbsp;mysqladmin &mdash; A MySQL Server Administration Program"><span class="command"><strong>mysqladmin</strong></span></a>, use
      this command:
    </p><pre class="programlisting">$&gt; <strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p>
        For additional information about setting passwords, see
        <a class="xref" href="assigning-passwords.html" title="6.2.14&nbsp;Assigning Account Passwords">Section&nbsp;6.2.14, &ldquo;Assigning Account Passwords&rdquo;</a>. If you forget your
        <code class="literal">root</code> password after setting it, see
        <a class="xref" href="resetting-permissions.html" title="B.3.3.2&nbsp;How to Reset the Root Password">Section&nbsp;B.3.3.2, &ldquo;How to Reset the Root Password&rdquo;</a>.
      </p><p>
        To set up additional accounts, see
        <a class="xref" href="creating-accounts.html" title="6.2.8&nbsp;Adding Accounts, Assigning Privileges, and Dropping Accounts">Section&nbsp;6.2.8, &ldquo;Adding Accounts, Assigning Privileges, and Dropping Accounts&rdquo;</a>.
      </p></div></div><div class="navigation"><ul><li class="navLinkPrevious"><a title="Go To Previous Page" href="testing-server.html">Previous <span class="navHint"> Testing the Server </span></a></li><li class="navLinkHome"><a title="Go To Home Page" href="performance-schema">Home <span class="navHint"> MySQL 8.0 Reference Manual Including MySQL NDB Cluster 8.0 </span></a></li><li class="navLinkUp"><a title="Go Up A Level In The Navigation" href="postinstallation.html">Up <span class="navHint"> Postinstallation Setup and Testing </span></a></li><li class="navLinkNext"><a title="Go To Next Page" href="automatic-start.html">Next <span class="navHint"> Starting and Stopping MySQL Automatically </span></a></li></ul></div><div class="dochomelink-footer"><a title="Go to MySQL Doc Library" href="https://docs.oracle.com/cd/E17952_01/index.html">
        MySQL Documentation Library
      </a></div><div class="copyright-footer"></div></body></html>